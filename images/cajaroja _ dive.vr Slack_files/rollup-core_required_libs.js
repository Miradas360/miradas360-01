(function(global,factory){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=global.document?factory(global,true):function(w){if(!w.document){throw new Error("jQuery requires a window with a document")}return factory(w)}}else{factory(global)}})(typeof window!=="undefined"?window:this,function(window,noGlobal){var arr=[];var slice=arr.slice;var concat=arr.concat;var push=arr.push;var indexOf=arr.indexOf;var class2type={};var toString=class2type.toString;var hasOwn=class2type.hasOwnProperty;var support={};var document=window.document,version="2.1.4",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return num!=null?num<0?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;return ret},each:function(callback,args){return jQuery.each(this,callback,args)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice};jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[i]||{};i++}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(i===length){target=this;i--}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[]}else{clone=src&&jQuery.isPlainObject(src)?src:{}}target[name]=jQuery.extend(deep,clone,copy)}else if(copy!==undefined){target[name]=copy}}}}return target};jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:true,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray,isWindow:function(obj){return obj!=null&&obj===obj.window},isNumeric:function(obj){return!jQuery.isArray(obj)&&obj-parseFloat(obj)+1>=0},isPlainObject:function(obj){if(jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false}if(obj.constructor&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false}return true},isEmptyObject:function(obj){var name;for(name in obj){return false}return true},type:function(obj){if(obj==null){return obj+""}return typeof obj==="object"||typeof obj==="function"?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code);if(code){if(code.indexOf("use strict")===1){script=document.createElement("script");script.text=code;document.head.appendChild(script).parentNode.removeChild(script)}else{indirect(code)}}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray){for(;i<length;i++){value=callback.apply(obj[i],args);if(value===false){break}}}else{for(i in obj){value=callback.apply(obj[i],args);if(value===false){break}}}}else{if(isArray){for(;i<length;i++){value=callback.call(obj[i],i,obj[i]);if(value===false){break}}}else{for(i in obj){value=callback.call(obj[i],i,obj[i]);if(value===false){break}}}}return obj},trim:function(text){return text==null?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];if(arr!=null){if(isArraylike(Object(arr))){jQuery.merge(ret,typeof arr==="string"?[arr]:arr)}else{push.call(ret,arr)}}return ret},inArray:function(elem,arr,i){return arr==null?-1:indexOf.call(arr,elem,i)},merge:function(first,second){var len=+second.length,j=0,i=first.length;for(;j<len;j++){first[i++]=second[j]}first.length=i;return first},grep:function(elems,callback,invert){var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;for(;i<length;i++){callbackInverse=!callback(elems[i],i);if(callbackInverse!==callbackExpect){matches.push(elems[i])}}return matches},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret.push(value)}}}else{for(i in elems){value=callback(elems[i],i,arg);if(value!=null){ret.push(value)}}}return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp}if(!jQuery.isFunction(fn)){return undefined}args=slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy},now:Date.now,support:support});jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});function isArraylike(obj){var length="length"in obj&&obj.length,type=jQuery.type(obj);if(type==="function"||jQuery.isWindow(obj)){return false}if(obj.nodeType===1&&length){return true}return type==="array"||length===0||typeof length==="number"&&length>0&&length-1 in obj}var Sizzle=function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){if(a===b){hasDuplicate=true}return 0},MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){var i=0,len=list.length;for(;i<len;i++){if(list[i]===elem){return i}}return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),attributes="\\["+whitespace+"*("+characterEncoding+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|"+".*"+")\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!==high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,high&1023|56320)},unloadHandler=function(){setDocument()};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes);arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){var j=target.length,i=0;while(target[j++]=els[i++]){}target.length=j-1}}}function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document){setDocument(context)}context=context||document;results=results||[];nodeType=context.nodeType;if(typeof selector!=="string"||!selector||nodeType!==1&&nodeType!==9&&nodeType!==11){return results}if(!seed&&documentIsHTML){if(nodeType!==11&&(match=rquickExpr.exec(selector))){if(m=match[1]){if(nodeType===9){elem=context.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);return results}}else{return results}}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}}else if(match[2]){push.apply(results,context.getElementsByTagName(selector));return results}else if((m=match[3])&&support.getElementsByClassName){push.apply(results,context.getElementsByClassName(m));return results}}if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){nid=old=expando;newContext=context;newSelector=nodeType!==1&&selector;if(nodeType===1&&context.nodeName.toLowerCase()!=="object"){groups=tokenize(selector);if(old=context.getAttribute("id")){nid=old.replace(rescape,"\\$&")}else{context.setAttribute("id",nid)}nid="[id='"+nid+"'] ";i=groups.length;while(i--){groups[i]=nid+toSelector(groups[i])}newContext=rsibling.test(selector)&&testContext(context.parentNode)||context;newSelector=groups.join(",")}if(newSelector){try{push.apply(results,newContext.querySelectorAll(newSelector));return results}catch(qsaError){}finally{if(!old){context.removeAttribute("id")}}}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){var keys=[];function cache(key,value){if(keys.push(key+" ")>Expr.cacheLength){delete cache[keys.shift()]}return cache[key+" "]=value}return cache}function markFunction(fn){fn[expando]=true;return fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return false}finally{if(div.parentNode){div.parentNode.removeChild(div)}div=null}}function addHandle(attrs,handler){var arr=attrs.split("|"),i=attrs.length;while(i--){Expr.attrHandle[arr[i]]=handler}}function siblingCheck(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff){return diff}if(cur){while(cur=cur.nextSibling){if(cur===b){return-1}}}return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[j=matchIndexes[i]]){seed[j]=!(matches[j]=seed[j])}}})})}function testContext(context){return context&&typeof context.getElementsByTagName!=="undefined"&&context}support=Sizzle.support={};isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;if(doc===document||doc.nodeType!==9||!doc.documentElement){return document}document=doc;docElem=doc.documentElement;parent=doc.defaultView;if(parent&&parent!==parent.top){if(parent.addEventListener){parent.addEventListener("unload",unloadHandler,false)}else if(parent.attachEvent){parent.attachEvent("onunload",unloadHandler)}}documentIsHTML=!isXML(doc);support.attributes=assert(function(div){div.className="i";return!div.getAttribute("className")});support.getElementsByTagName=assert(function(div){div.appendChild(doc.createComment(""));return!div.getElementsByTagName("*").length});support.getElementsByClassName=rnative.test(doc.getElementsByClassName);support.getById=assert(function(div){docElem.appendChild(div).id=expando;return!doc.getElementsByName||!doc.getElementsByName(expando).length});if(support.getById){Expr.find["ID"]=function(id,context){if(typeof context.getElementById!=="undefined"&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}};Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}}else{delete Expr.find["ID"];Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return node&&node.value===attrId}}}Expr.find["TAG"]=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!=="undefined"){return context.getElementsByTagName(tag)}else if(support.qsa){return context.querySelectorAll(tag)}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==="*"){while(elem=results[i++]){if(elem.nodeType===1){tmp.push(elem)}}return tmp}return results};Expr.find["CLASS"]=support.getElementsByClassName&&function(className,context){if(documentIsHTML){return context.getElementsByClassName(className)}};rbuggyMatches=[];rbuggyQSA=[];if(support.qsa=rnative.test(doc.querySelectorAll)){assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a>"+"<select id='"+expando+"-\f]' msallowcapture=''>"+"<option selected=''></option></select>";if(div.querySelectorAll("[msallowcapture^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")")}if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")")}if(!div.querySelectorAll("[id~="+expando+"-]").length){rbuggyQSA.push("~=")}if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked")}if(!div.querySelectorAll("a#"+expando+"+*").length){rbuggyQSA.push(".#.+[+~]")}});assert(function(div){var input=doc.createElement("input");input.setAttribute("type","hidden");div.appendChild(input).setAttribute("name","D");if(div.querySelectorAll("[name=d]").length){rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?=")}if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled")}div.querySelectorAll("*,:x");rbuggyQSA.push(",.*:")})}if(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)){assert(function(div){support.disconnectedMatch=matches.call(div,"div");matches.call(div,"[s!='']:x");rbuggyMatches.push("!=",pseudos)})}rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|"));hasCompare=rnative.test(docElem.compareDocumentPosition);contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return true}}}return false};sortOrder=hasCompare?function(a,b){if(a===b){hasDuplicate=true;return 0}var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;if(compare){return compare}compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(compare&1||!support.sortDetached&&b.compareDocumentPosition(a)===compare){if(a===doc||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)){return-1}if(b===doc||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)){return 1}return sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0}return compare&4?-1:1}:function(a,b){if(a===b){hasDuplicate=true;return 0}var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup){return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0}else if(aup===bup){return siblingCheck(a,b)}cur=a;while(cur=cur.parentNode){ap.unshift(cur)}cur=b;while(cur=cur.parentNode){bp.unshift(cur)}while(ap[i]===bp[i]){i++}return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0};return doc};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document){setDocument(elem)}expr=expr.replace(rattributeQuotes,"='$1']");if(support.matchesSelector&&documentIsHTML&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret}}catch(e){}}return Sizzle(expr,document,null,[elem]).length>0};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!==document){setDocument(context)}return contains(context,elem)};Sizzle.attr=function(elem,name){if((elem.ownerDocument||elem)!==document){setDocument(elem)}var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while(elem=results[i++]){if(elem===results[i]){j=duplicates.push(i)}}while(j--){results.splice(duplicates[j],1)}}sortInput=null;return results};getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType){while(node=elem[i++]){ret+=getText(node)}}else if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}}else if(nodeType===3||nodeType===4){return elem.nodeValue}return ret};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape);if(match[2]==="~="){match[3]=" "+match[3]+" "}return match.slice(0,4)},CHILD:function(match){match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==="nth"){if(!match[3]){Sizzle.error(match[0])}match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd"));match[5]=+(match[7]+match[8]||match[3]==="odd")}else if(match[3]){Sizzle.error(match[0])}return match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];if(matchExpr["CHILD"].test(match[0])){return null}if(match[3]){match[2]=match[4]||match[5]||""}else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess)}return match.slice(0,3)}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return nodeNameSelector==="*"?function(){return true}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(typeof elem.className==="string"&&elem.className||typeof elem.getAttribute!=="undefined"&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!="}if(!operator){return true}result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":false}},CHILD:function(type,what,argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){while(dir){node=elem;while(node=node[dir]){if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1){return false}}start=dir=type==="only"&&!start&&"nextSibling"}return true}start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){outerCache=parent[expando]||(parent[expando]={});cache=outerCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=cache[0]===dirruns&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if(node.nodeType===1&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns){diff=cache[1]}else{while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){if(useCache){(node[expando]||(node[expando]={}))[type]=[dirruns,diff]}if(node===elem){break}}}}diff-=last;return diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument)}if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i])}}):function(elem){return fn(elem,0,args)}}return fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if(elem=unmatched[i]){seed[i]=!(matches[i]=elem)}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);input[0]=null;return!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){text=text.replace(runescape,funescape);return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){if(!ridentifier.test(lang||"")){Sizzle.error("unsupported lang: "+lang)}lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang")){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+"-")===0}}while((elem=elem.parentNode)&&elem.nodeType===1);return false}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===false},disabled:function(elem){return elem.disabled===true},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return nodeName==="input"&&!!elem.checked||nodeName==="option"&&!!elem.selected},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}return elem.selected===true},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeType<6){return false}}return true},parent:function(elem){return!Expr.pseudos["empty"](elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button"},text:function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()==="text")},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;--i>=0;){matchIndexes.push(i)}return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;){matchIndexes.push(i)}return matchIndexes})}};Expr.pseudos["nth"]=Expr.pseudos["eq"];for(i in{radio:true,checkbox:true,file:true,password:true,image:true}){Expr.pseudos[i]=createInputPseudo(i)}for(i in{submit:true,reset:true}){Expr.pseudos[i]=createButtonPseudo(i)}function setFilters(){}setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters;tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached){return parseOnly?0:cached.slice(0)}soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar}groups.push(tokens=[])}matched=false;if(match=rcombinators.exec(soFar)){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length)}for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length)}}if(!matched){break}}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)};function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++){selector+=tokens[i].value}return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml)}}}:function(elem,context,xml){var oldCache,outerCache,newCache=[dirruns,doneName];if(xml){while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return true}}}}else{while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});if((oldCache=outerCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName){return newCache[2]=oldCache[2]}else{outerCache[dir]=newCache;if(newCache[2]=matcher(elem,context,xml)){return true}}}}}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false}}return true}:matchers[0]}function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results)}return results}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if(elem=unmatched[i]){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i)}}}}return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter)}if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector)}return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml)}if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if(elem=temp[i]){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem)}}}if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if(elem=matcherOut[i]){temp.push(matcherIn[i]=elem)}}postFinder(null,matcherOut=[],temp,xml)}i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem)}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml)}else{push.apply(results,matcherOut)}}})}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,true),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));checkContext=null;return ret}];for(;i<len;i++){if(matcher=Expr.relative[tokens[i].type]){matchers=[addCombinator(elementMatcher(matchers),matcher)]}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break}}return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:tokens[i-2].type===" "?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens));
}matchers.push(matcher)}}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find["TAG"]("*",outermost),dirrunsUnique=dirruns+=contextBackup==null?1:Math.random()||.1,len=elems.length;if(outermost){outermostContext=context!==document&&context}for(;i!==len&&(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;while(matcher=elementMatchers[j++]){if(matcher(elem,context,xml)){results.push(elem);break}}if(outermost){dirruns=dirrunsUnique}}if(bySet){if(elem=!matcher&&elem){matchedCount--}if(seed){unmatched.push(elem)}}}matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while(matcher=setMatchers[j++]){matcher(unmatched,setMatched,context,xml)}if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results)}}}setMatched=condense(setMatched)}push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1){Sizzle.uniqueSort(results)}}if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup}return unmatched};return bySet?markFunction(superMatcher):superMatcher}compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){if(!match){match=tokenize(selector)}i=match.length;while(i--){cached=matcherFromTokens(match[i]);if(cached[expando]){setMatchers.push(cached)}else{elementMatchers.push(cached)}}cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));cached.selector=selector}return cached};select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled=typeof selector==="function"&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);results=results||[];if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&support.getById&&context.nodeType===9&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find["ID"](token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results}else if(compiled){context=context.parentNode}selector=selector.slice(tokens.shift().value.length)}i=matchExpr["needsContext"].test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[type=token.type]){break}if(find=Expr.find[type]){if(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context)){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,seed);return results}break}}}}(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,rsibling.test(selector)&&testContext(context.parentNode)||context);return results};support.sortStable=expando.split("").sort(sortOrder).join("")===expando;support.detectDuplicates=!!hasDuplicate;setDocument();support.sortDetached=assert(function(div1){return div1.compareDocumentPosition(document.createElement("div"))&1});if(!assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild.getAttribute("href")==="#"})){addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML){return elem.getAttribute(name,name.toLowerCase()==="type"?1:2)}})}if(!support.attributes||!assert(function(div){div.innerHTML="<input/>";div.firstChild.setAttribute("value","");return div.firstChild.getAttribute("value")===""})){addHandle("value",function(elem,name,isXML){if(!isXML&&elem.nodeName.toLowerCase()==="input"){return elem.defaultValue}})}if(!assert(function(div){return div.getAttribute("disabled")==null})){addHandle(booleans,function(elem,name,isXML){var val;if(!isXML){return elem[name]===true?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}})}return Sizzle}(window);jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext;var rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/;var risSimple=/^.[^:#\[\.,]*$/;function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not})}if(qualifier.nodeType){return jQuery.grep(elements,function(elem){return elem===qualifier!==not})}if(typeof qualifier==="string"){if(risSimple.test(qualifier)){return jQuery.filter(qualifier,elements,not)}qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)>=0!==not})}jQuery.filter=function(expr,elems,not){var elem=elems[0];if(not){expr=":not("+expr+")"}return elems.length===1&&elem.nodeType===1?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return elem.nodeType===1}))};jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if(typeof selector!=="string"){return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return true}}}))}for(i=0;i<len;i++){jQuery.find(selector,self[i],ret)}ret=this.pushStack(len>1?jQuery.unique(ret):ret);ret.selector=this.selector?this.selector+" "+selector:selector;return ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],false))},not:function(selector){return this.pushStack(winnow(this,selector||[],true))},is:function(selector){return!!winnow(this,typeof selector==="string"&&rneedsContext.test(selector)?jQuery(selector):selector||[],false).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context){var match,elem;if(!selector){return this}if(typeof selector==="string"){if(selector[0]==="<"&&selector[selector.length-1]===">"&&selector.length>=3){match=[null,selector,null]}else{match=rquickExpr.exec(selector)}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,true));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){if(jQuery.isFunction(this[match])){this[match](context[match])}else{this.attr(match,context[match])}}}return this}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else if(!context||context.jquery){return(context||rootjQuery).find(selector)}else{return this.constructor(context).find(selector)}}else if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}else if(jQuery.isFunction(selector)){return typeof rootjQuery.ready!=="undefined"?rootjQuery.ready(selector):selector(jQuery)}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)};init.prototype=jQuery.fn;rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.extend({dir:function(elem,dir,until){var matched=[],truncate=until!==undefined;while((elem=elem[dir])&&elem.nodeType!==9){if(elem.nodeType===1){if(truncate&&jQuery(elem).is(until)){break}matched.push(elem)}}return matched},sibling:function(n,elem){var matched=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){matched.push(n)}}return matched}});jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){var i=0;for(;i<l;i++){if(jQuery.contains(this,targets[i])){return true}}})},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++){for(cur=this[i];cur&&cur!==context;cur=cur.parentNode){if(cur.nodeType<11&&(pos?pos.index(cur)>-1:cur.nodeType===1&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}}}return this.pushStack(matched.length>1?jQuery.unique(matched):matched)},index:function(elem){if(!elem){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof elem==="string"){return indexOf.call(jQuery(elem),this[0])}return indexOf.call(this,elem.jquery?elem[0]:elem)},add:function(selector,context){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}});function sibling(cur,dir){while((cur=cur[dir])&&cur.nodeType!==1){}return cur}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);if(name.slice(-5)!=="Until"){selector=until}if(selector&&typeof selector==="string"){matched=jQuery.filter(selector,matched)}if(this.length>1){if(!guaranteedUnique[name]){jQuery.unique(matched)}if(rparentsprev.test(name)){matched.reverse()}}return this.pushStack(matched)}});var rnotwhite=/\S+/g;var optionsCache={};function createOptions(options){var object=optionsCache[options]={};jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=true});return object}jQuery.Callbacks=function(options){options=typeof options==="string"?optionsCache[options]||createOptions(options):jQuery.extend({},options);var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function(data){memory=options.memory&&data;fired=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;firing=true;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(data[0],data[1])===false&&options.stopOnFalse){memory=false;break}}firing=false;if(list){if(stack){if(stack.length){fire(stack.shift())}}else if(memory){list=[]}else{self.disable()}}},self={add:function(){if(list){var start=list.length;(function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);if(type==="function"){if(!options.unique||!self.has(arg)){list.push(arg)}}else if(arg&&arg.length&&type!=="string"){add(arg)}})})(arguments);if(firing){firingLength=list.length}else if(memory){firingStart=start;fire(memory)}}return this},remove:function(){if(list){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(firing){if(index<=firingLength){firingLength--}if(index<=firingIndex){firingIndex--}}}})}return this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!!(list&&list.length)},empty:function(){list=[];firingLength=0;return this},disable:function(){list=stack=memory=undefined;return this},disabled:function(){return!list},lock:function(){stack=undefined;if(!memory){self.disable()}return this},locked:function(){return!stack},fireWith:function(context,args){if(list&&(!fired||stack)){args=args||[];args=[context,args.slice?args.slice():args];if(firing){stack.push(args)}else{fire(args)}}return this},fire:function(){self.fireWith(this,arguments);return this},fired:function(){return!!fired}};return self};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){deferred.done(arguments).fail(arguments);return this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify)}else{newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)}})});fns=null}).promise()},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString},tuples[i^1][2].disable,tuples[2][2].lock)}deferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?promise:this,arguments);return this};deferred[tuple[0]+"With"]=list.fireWith});promise.promise(deferred);if(func){func.call(deferred,deferred)}return deferred},when:function(subordinate){var i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=length!==1||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values)}else if(!--remaining){deferred.resolveWith(contexts,values)}}},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues))}else{--remaining}}}if(!remaining){deferred.resolveWith(resolveContexts,resolveValues)}return deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){jQuery.ready.promise().done(fn);return this};jQuery.extend({isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++}else{jQuery.ready(true)}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return}jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return}readyList.resolveWith(document,[jQuery]);if(jQuery.fn.triggerHandler){jQuery(document).triggerHandler("ready");jQuery(document).off("ready")}}});function completed(){document.removeEventListener("DOMContentLoaded",completed,false);window.removeEventListener("load",completed,false);jQuery.ready()}jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete"){setTimeout(jQuery.ready)}else{document.addEventListener("DOMContentLoaded",completed,false);window.addEventListener("load",completed,false)}}return readyList.promise(obj)};jQuery.ready.promise();var access=jQuery.access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=key==null;if(jQuery.type(key)==="object"){chainable=true;for(i in key){jQuery.access(elems,fn,i,key[i],true,emptyGet,raw)}}else if(value!==undefined){chainable=true;if(!jQuery.isFunction(value)){raw=true}if(bulk){if(raw){fn.call(elems,value);fn=null}else{bulk=fn;fn=function(elem,key,value){return bulk.call(jQuery(elem),value)}}}if(fn){for(;i<len;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)))}}}return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet};jQuery.acceptData=function(owner){return owner.nodeType===1||owner.nodeType===9||!+owner.nodeType};function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=jQuery.expando+Data.uid++}Data.uid=1;Data.accepts=jQuery.acceptData;Data.prototype={key:function(owner){if(!Data.accepts(owner)){return 0}var descriptor={},unlock=owner[this.expando];if(!unlock){unlock=Data.uid++;try{descriptor[this.expando]={value:unlock};Object.defineProperties(owner,descriptor)}catch(e){descriptor[this.expando]=unlock;jQuery.extend(owner,descriptor)}}if(!this.cache[unlock]){this.cache[unlock]={}}return unlock},set:function(owner,data,value){var prop,unlock=this.key(owner),cache=this.cache[unlock];if(typeof data==="string"){cache[data]=value}else{if(jQuery.isEmptyObject(cache)){jQuery.extend(this.cache[unlock],data)}else{for(prop in data){cache[prop]=data[prop]}}}return cache},get:function(owner,key){var cache=this.cache[this.key(owner)];return key===undefined?cache:cache[key]},access:function(owner,key,value){var stored;if(key===undefined||key&&typeof key==="string"&&value===undefined){stored=this.get(owner,key);return stored!==undefined?stored:this.get(owner,jQuery.camelCase(key))}this.set(owner,key,value);return value!==undefined?value:key},remove:function(owner,key){var i,name,camel,unlock=this.key(owner),cache=this.cache[unlock];if(key===undefined){this.cache[unlock]={}}else{if(jQuery.isArray(key)){name=key.concat(key.map(jQuery.camelCase))}else{camel=jQuery.camelCase(key);if(key in cache){name=[key,camel]}else{name=camel;name=name in cache?[name]:name.match(rnotwhite)||[]}}i=name.length;while(i--){delete cache[name[i]]}}},hasData:function(owner){return!jQuery.isEmptyObject(this.cache[owner[this.expando]]||{})},discard:function(owner){if(owner[this.expando]){delete this.cache[owner[this.expando]]}}};var data_priv=new Data;var data_user=new Data;var rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;function dataAttr(elem,key,data){var name;if(data===undefined&&elem.nodeType===1){name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}data_user.set(elem,key,data)}else{data=undefined}}return data}jQuery.extend({hasData:function(elem){return data_user.hasData(elem)||data_priv.hasData(elem)},data:function(elem,name,data){return data_user.access(elem,name,data)},removeData:function(elem,name){data_user.remove(elem,name)},_data:function(elem,name,data){return data_priv.access(elem,name,data)},_removeData:function(elem,name){data_priv.remove(elem,name)}});jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(key===undefined){if(this.length){data=data_user.get(elem);if(elem.nodeType===1&&!data_priv.get(elem,"hasDataAttrs")){i=attrs.length;while(i--){if(attrs[i]){name=attrs[i].name;if(name.indexOf("data-")===0){name=jQuery.camelCase(name.slice(5));dataAttr(elem,name,data[name])}}}data_priv.set(elem,"hasDataAttrs",true)}}return data}if(typeof key==="object"){return this.each(function(){data_user.set(this,key)})}return access(this,function(value){var data,camelKey=jQuery.camelCase(key);if(elem&&value===undefined){data=data_user.get(elem,key);if(data!==undefined){return data}data=data_user.get(elem,camelKey);if(data!==undefined){return data}data=dataAttr(elem,camelKey,undefined);if(data!==undefined){return data}return}this.each(function(){var data=data_user.get(this,camelKey);data_user.set(this,camelKey,value);if(key.indexOf("-")!==-1&&data!==undefined){data_user.set(this,key,value)}})},null,value,arguments.length>1,null,true)},removeData:function(key){return this.each(function(){data_user.remove(this,key)})}});jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=data_priv.get(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=data_priv.access(elem,type,jQuery.makeArray(data))}else{queue.push(data)}}return queue||[]}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};if(fn==="inprogress"){fn=queue.shift();startLength--}if(fn){if(type==="fx"){queue.unshift("inprogress")}delete hooks.stop;fn.call(elem,next,hooks)}if(!startLength&&hooks){hooks.empty.fire()}},_queueHooks:function(elem,type){var key=type+"queueHooks";return data_priv.get(elem,key)||data_priv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(elem,[type+"queue",key])})})}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--}if(arguments.length<setter){return jQuery.queue(this[0],type)}return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!--count){defer.resolveWith(elements,[elements])}};if(typeof type!=="string"){obj=type;type=undefined}type=type||"fx";while(i--){tmp=data_priv.get(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve)}}resolve();return defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var cssExpand=["Top","Right","Bottom","Left"];var isHidden=function(elem,el){elem=el||elem;return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem)};var rcheckableType=/^(?:checkbox|radio)$/i;(function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio");input.setAttribute("checked","checked");input.setAttribute("name","t");div.appendChild(input);support.checkClone=div.cloneNode(true).cloneNode(true).lastChild.checked;div.innerHTML="<textarea>x</textarea>";support.noCloneChecked=!!div.cloneNode(true).lastChild.defaultValue})();var strundefined=typeof undefined;support.focusinBubbles="onfocusin"in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;function returnTrue(){return true}function returnFalse(){return false}function safeActiveElement(){try{return document.activeElement}catch(err){}}jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.get(elem);if(!elemData){return}if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector}if(!handler.guid){handler.guid=jQuery.guid++}if(!(events=elemData.events)){events=elemData.events={}}if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return typeof jQuery!==strundefined&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):undefined}}types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false)}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj)}else{handlers.push(handleObj)}jQuery.event.global[type]=true}},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.hasData(elem)&&data_priv.get(elem);if(!elemData||!(events=elemData.events)){return}types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true)}continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)");origCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--}if(special.remove){special.remove.call(elem,handleObj)}}}if(origCount&&!handlers.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle)}delete events[type]}}if(jQuery.isEmptyObject(events)){delete elemData.handle;data_priv.remove(elem,"events")}},trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=tmp=elem=elem||document;if(elem.nodeType===3||elem.nodeType===8){return}if(rfocusMorph.test(type+jQuery.event.triggered)){return}if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort()}ontype=type.indexOf(":")<0&&"on"+type;event=event[jQuery.expando]?event:new jQuery.Event(type,typeof event==="object"&&event);event.isTrigger=onlyHandlers?2:3;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;event.result=undefined;if(!event.target){event.target=elem}data=data==null?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===false){return}if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode}for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur}if(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window)}}i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){event.type=i>1?bubbleType:special.bindType||type;handle=(data_priv.get(cur,"events")||{})[event.type]&&data_priv.get(cur,"handle");if(handle){handle.apply(cur,data)}handle=ontype&&cur[ontype];if(handle&&handle.apply&&jQuery.acceptData(cur)){event.result=handle.apply(cur,data);if(event.result===false){event.preventDefault()}}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(eventPath.pop(),data)===false)&&jQuery.acceptData(elem)){if(ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)){tmp=elem[ontype];if(tmp){elem[ontype]=null}jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=undefined;if(tmp){elem[ontype]=tmp}}}}return event.result},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=slice.call(arguments),handlers=(data_priv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return}handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){if(!event.namespace_re||event.namespace_re.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){if((event.result=ret)===false){event.preventDefault();event.stopPropagation()}}}}}if(special.postDispatch){special.postDispatch.call(this,event)}return event.result},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||event.type!=="click")){for(;cur!==this;cur=cur.parentNode||this){if(cur.disabled!==true||event.type!=="click"){matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector+" ";if(matches[sel]===undefined){matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length}if(matches[sel]){matches.push(handleObj)}}if(matches.length){handlerQueue.push({elem:cur,handlers:matches})}}}}if(delegateCount<handlers.length){handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)})}return handlerQueue},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode}return event}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.which&&button!==undefined){event.which=button&1?1:button&2?3:button&4?2:0}return event}},fix:function(event){if(event[jQuery.expando]){return event}var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];if(!fixHook){this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}}copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=new jQuery.Event(originalEvent);i=copy.length;while(i--){prop=copy[i];event[prop]=originalEvent[prop]}if(!event.target){event.target=document}if(event.target.nodeType===3){event.target=event.target.parentNode}return fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus){this.focus();return false}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input")){this.click();return false}},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){if(event.result!==undefined&&event.originalEvent){event.originalEvent.returnValue=event.result;
}}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:true,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem)}else{jQuery.event.dispatch.call(elem,e)}if(e.isDefaultPrevented()){event.preventDefault()}}};jQuery.removeEvent=function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,false)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props)}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===undefined&&src.returnValue===false?returnTrue:returnFalse}else{this.type=src}if(props){jQuery.extend(this,props)}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true};jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(e&&e.preventDefault){e.preventDefault()}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(e&&e.stopPropagation){e.stopPropagation()}},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue;if(e&&e.stopImmediatePropagation){e.stopImmediatePropagation()}this.stopPropagation()}};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||related!==target&&!jQuery.contains(target,related)){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}return ret}}});if(!support.focusinBubbles){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true)};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix);if(!attaches){doc.addEventListener(orig,handler,true)}data_priv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix)-1;if(!attaches){doc.removeEventListener(orig,handler,true);data_priv.remove(doc,fix)}else{data_priv.access(doc,fix,attaches)}}}})}jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined}for(type in types){this.on(type,selector,data,types[type],one)}return this}if(data==null&&fn==null){fn=selector;data=selector=undefined}else if(fn==null){if(typeof selector==="string"){fn=data;data=undefined}else{fn=data;data=selector;selector=undefined}}if(fn===false){fn=returnFalse}else if(!fn){return this}if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}return this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this}if(typeof types==="object"){for(type in types){this.off(type,selector,types[type])}return this}if(selector===false||typeof selector==="function"){fn=selector;selector=undefined}if(fn===false){fn=returnFalse}return this.each(function(){jQuery.event.remove(this,types,fn,selector)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,true)}}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(content.nodeType!==11?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){elem.type=(elem.getAttribute("type")!==null)+"/"+elem.type;return elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);if(match){elem.type=match[1]}else{elem.removeAttribute("type")}return elem}function setGlobalEval(elems,refElements){var i=0,l=elems.length;for(;i<l;i++){data_priv.set(elems[i],"globalEval",!refElements||data_priv.get(refElements[i],"globalEval"))}}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(dest.nodeType!==1){return}if(data_priv.hasData(src)){pdataOld=data_priv.access(src);pdataCur=data_priv.set(dest,pdataOld);events=pdataOld.events;if(events){delete pdataCur.handle;pdataCur.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i])}}}}if(data_user.hasData(src)){udataOld=data_user.access(src);udataCur=jQuery.extend({},udataOld);data_user.set(dest,udataCur)}}function getAll(context,tag){var ret=context.getElementsByTagName?context.getElementsByTagName(tag||"*"):context.querySelectorAll?context.querySelectorAll(tag||"*"):[];return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();if(nodeName==="input"&&rcheckableType.test(src.type)){dest.checked=src.checked}else if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue}}jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(true),inPage=jQuery.contains(elem.ownerDocument,elem);if(!support.noCloneChecked&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone);srcElements=getAll(elem);for(i=0,l=srcElements.length;i<l;i++){fixInput(srcElements[i],destElements[i])}}if(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0,l=srcElements.length;i<l;i++){cloneCopyEvent(srcElements[i],destElements[i])}}else{cloneCopyEvent(elem,clone)}}destElements=getAll(clone,"script");if(destElements.length>0){setGlobalEval(destElements,!inPage&&getAll(elem,"script"))}return clone},buildFragment:function(elems,context,scripts,selection){var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;for(;i<l;i++){elem=elems[i];if(elem||elem===0){if(jQuery.type(elem)==="object"){jQuery.merge(nodes,elem.nodeType?[elem]:elem)}else if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem))}else{tmp=tmp||fragment.appendChild(context.createElement("div"));tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild}jQuery.merge(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent=""}}}fragment.textContent="";i=0;while(elem=nodes[i++]){if(selection&&jQuery.inArray(elem,selection)!==-1){continue}contains=jQuery.contains(elem.ownerDocument,elem);tmp=getAll(fragment.appendChild(elem),"script");if(contains){setGlobalEval(tmp)}if(scripts){j=0;while(elem=tmp[j++]){if(rscriptType.test(elem.type||"")){scripts.push(elem)}}}}return fragment},cleanData:function(elems){var data,elem,type,key,special=jQuery.event.special,i=0;for(;(elem=elems[i])!==undefined;i++){if(jQuery.acceptData(elem)){key=elem[data_priv.expando];if(key&&(data=data_priv.cache[key])){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{jQuery.removeEvent(elem,type,data.handle)}}}if(data_priv.cache[key]){delete data_priv.cache[key]}}}delete data_user.cache[elem[data_user.expando]]}}});jQuery.fn.extend({text:function(value){return access(this,function(value){return value===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=value}})},null,value,arguments.length)},append:function(){return this.domManip(arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this)}})},after:function(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling)}})},remove:function(selector,keepData){var elem,elems=selector?jQuery.filter(selector,this):this,i=0;for(;(elem=elems[i])!=null;i++){if(!keepData&&elem.nodeType===1){jQuery.cleanData(getAll(elem))}if(elem.parentNode){if(keepData&&jQuery.contains(elem.ownerDocument,elem)){setGlobalEval(getAll(elem,"script"))}elem.parentNode.removeChild(elem)}}return this},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.textContent=""}}return this},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined&&elem.nodeType===1){return elem.innerHTML}if(typeof value==="string"&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.innerHTML=value}}elem=0}catch(e){}}if(elem){this.empty().append(value)}},null,value,arguments.length)},replaceWith:function(){var arg=arguments[0];this.domManip(arguments,function(elem){arg=this.parentNode;jQuery.cleanData(getAll(this));if(arg){arg.replaceChild(elem,this)}});return arg&&(arg.length||arg.nodeType)?this:this.remove()},detach:function(selector){return this.remove(selector,true)},domManip:function(args,callback){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&typeof value==="string"&&!support.checkClone&&rchecked.test(value)){return this.each(function(index){var self=set.eq(index);if(isFunction){args[0]=value.call(this,index,self.html())}self.domManip(args,callback)})}if(l){fragment=jQuery.buildFragment(args,this[0].ownerDocument,false,this);first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first}if(first){scripts=jQuery.map(getAll(fragment,"script"),disableScript);hasScripts=scripts.length;for(;i<l;i++){node=fragment;if(i!==iNoClone){node=jQuery.clone(node,true,true);if(hasScripts){jQuery.merge(scripts,getAll(node,"script"))}}callback.call(this[i],node,i)}if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||"")&&!data_priv.access(node,"globalEval")&&jQuery.contains(doc,node)){if(node.src){if(jQuery._evalUrl){jQuery._evalUrl(node.src)}}else{jQuery.globalEval(node.textContent.replace(rcleanScript,""))}}}}}}return this}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;for(;i<=last;i++){elems=i===last?this:this.clone(true);jQuery(insert[i])[original](elems);push.apply(ret,elems.get())}return this.pushStack(ret)}});var iframe,elemdisplay={};function actualDisplay(name,doc){var style,elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=window.getDefaultComputedStyle&&(style=window.getDefaultComputedStyle(elem[0]))?style.display:jQuery.css(elem[0],"display");elem.detach();return display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];if(!display){display=actualDisplay(nodeName,doc);if(display==="none"||!display){iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement);doc=iframe[0].contentDocument;doc.write();doc.close();display=actualDisplay(nodeName,doc);iframe.detach()}elemdisplay[nodeName]=display}return display}var rmargin=/^margin/;var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i");var getStyles=function(elem){if(elem.ownerDocument.defaultView.opener){return elem.ownerDocument.defaultView.getComputedStyle(elem,null)}return window.getComputedStyle(elem,null)};function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;computed=computed||getStyles(elem);if(computed){ret=computed.getPropertyValue(name)||computed[name]}if(computed){if(ret===""&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name)}if(rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth}}return ret!==undefined?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){if(conditionFn()){delete this.get;return}return(this.get=hookFn).apply(this,arguments)}}}(function(){var pixelPositionVal,boxSizingReliableVal,docElem=document.documentElement,container=document.createElement("div"),div=document.createElement("div");if(!div.style){return}div.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";support.clearCloneStyle=div.style.backgroundClip==="content-box";container.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;"+"position:absolute";container.appendChild(div);function computePixelPositionAndBoxSizingReliable(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;"+"box-sizing:border-box;display:block;margin-top:1%;top:1%;"+"border:1px;padding:1px;width:4px;position:absolute";div.innerHTML="";docElem.appendChild(container);var divStyle=window.getComputedStyle(div,null);pixelPositionVal=divStyle.top!=="1%";boxSizingReliableVal=divStyle.width==="4px";docElem.removeChild(container)}if(window.getComputedStyle){jQuery.extend(support,{pixelPosition:function(){computePixelPositionAndBoxSizingReliable();return pixelPositionVal},boxSizingReliable:function(){if(boxSizingReliableVal==null){computePixelPositionAndBoxSizingReliable()}return boxSizingReliableVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement("div"));marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;"+"box-sizing:content-box;display:block;margin:0;border:0;padding:0";marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";docElem.appendChild(container);ret=!parseFloat(window.getComputedStyle(marginDiv,null).marginRight);docElem.removeChild(container);div.removeChild(marginDiv);return ret}})}})();jQuery.swap=function(elem,options,callback,args){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name]}ret=callback.apply(elem,args||[]);for(name in options){elem.style[name]=old[name]}return ret};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"];function vendorPropName(style,name){if(name in style){return name}var capName=name[0].toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in style){return name}}return origName}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],true,styles)}if(isBorderBox){if(extra==="content"){val-=jQuery.css(elem,"padding"+cssExpand[i],true,styles)}if(extra!=="margin"){val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles)}}else{val+=jQuery.css(elem,"padding"+cssExpand[i],true,styles);if(extra!=="padding"){val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles)}}}return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=true,val=name==="width"?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=jQuery.css(elem,"boxSizing",false,styles)==="border-box";if(val<=0||val==null){val=curCSS(elem,name,styles);if(val<0||val==null){val=elem.style[name]}if(rnumnonpx.test(val)){return val}valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]);val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function showHide(elements,show){var display,elem,hidden,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue}values[index]=data_priv.get(elem,"olddisplay");display=elem.style.display;if(show){if(!values[index]&&display==="none"){elem.style.display=""}if(elem.style.display===""&&isHidden(elem)){values[index]=data_priv.access(elem,"olddisplay",defaultDisplay(elem.nodeName))}}else{hidden=isHidden(elem);if(display!=="none"||!hidden){data_priv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))}}}for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue}if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none"}}return elements}jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret}}}},cssNumber:{columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":"cssFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return}var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rrelNum.exec(value))){value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name));type="number"}if(value==null||value!==value){return}if(type==="number"&&!jQuery.cssNumber[origName]){value+="px"}if(!support.clearCloneStyle&&value===""&&name.indexOf("background")===0){style[name]="inherit"}if(!hooks||!("set"in hooks)||(value=hooks.set(elem,value,extra))!==undefined){style[name]=value}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret}return style[name]}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get"in hooks){val=hooks.get(elem,true,extra)}if(val===undefined){val=curCSS(elem,name,styles)}if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name]}if(extra===""||extra){num=parseFloat(val);return extra===true||jQuery.isNumeric(num)?num||0:val}return val}});jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){return rdisplayswap.test(jQuery.css(elem,"display"))&&elem.offsetWidth===0?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)}},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,jQuery.css(elem,"boxSizing",false,styles)==="border-box",styles):0)}}});jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed){return jQuery.swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"])}});jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i=0,expanded={},parts=typeof value==="string"?value.split(" "):[value];for(;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0]}return expanded}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber}});jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],false,styles)}return map}return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,true)},hide:function(){return showHide(this)},toggle:function(state){if(typeof state==="boolean"){return state?this.show():this.hide()}return this.each(function(){if(isHidden(this)){jQuery(this).show()}else{jQuery(this).hide()}})}});function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||"swing";this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration)}else{this.pos=eased=percent}this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(hooks&&hooks.set){hooks.set(this)}else{Tween.propHooks._default.set(this)}return this}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem[tween.prop]!=null&&(!tween.elem.style||tween.elem.style[tween.prop]==null)){return tween.elem[tween.prop]}result=jQuery.css(tween.elem,tween.prop,"");return!result||result==="auto"?0:result},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween)}else if(tween.elem.style&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}else{tween.elem[tween.prop]=tween.now}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now}}};jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2}};jQuery.fx=Tween.prototype.init;jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var tween=this.createTween(prop,value),target=tween.cur(),parts=rfxnum.exec(value),unit=parts&&parts[3]||(jQuery.cssNumber[prop]?"":"px"),start=(jQuery.cssNumber[prop]||unit!=="px"&&+target)&&rfxnum.exec(jQuery.css(tween.elem,prop)),scale=1,maxIterations=20;if(start&&start[3]!==unit){unit=unit||start[3];parts=parts||[];start=+target||1;do{scale=scale||".5";start=start/scale;jQuery.style(tween.elem,prop,start+unit)}while(scale!==(scale=tween.cur()/target)&&scale!==1&&--maxIterations)}if(parts){start=tween.start=+start||+target||0;tween.unit=unit;tween.end=parts[1]?start+(parts[1]+1)*parts[2]:+parts[2]}return tween}]};function createFxNow(){setTimeout(function(){fxNow=undefined});return fxNow=jQuery.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type}if(includeWidth){attrs.opacity=attrs.width=type}return attrs}function createTween(value,prop,animation){var tween,collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if(tween=collection[index].call(animation,prop,value)){return tween}}}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=data_priv.get(elem,"fxshow");if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire()}}}hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire()}})})}if(elem.nodeType===1&&("height"in props||"width"in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];display=jQuery.css(elem,"display");checkDisplay=display==="none"?data_priv.get(elem,"olddisplay")||defaultDisplay(elem.nodeName):display;if(checkDisplay==="inline"&&jQuery.css(elem,"float")==="none"){style.display="inline-block"}}if(opts.overflow){style.overflow="hidden";anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2]})}for(prop in props){value=props[prop];if(rfxtypes.exec(value)){delete props[prop];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){if(value==="show"&&dataShow&&dataShow[prop]!==undefined){hidden=true}else{continue}}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else{display=undefined}}if(!jQuery.isEmptyObject(orig)){if(dataShow){if("hidden"in dataShow){hidden=dataShow.hidden}}else{dataShow=data_priv.access(elem,"fxshow",{})}if(toggle){dataShow.hidden=!hidden}if(hidden){jQuery(elem).show()}else{anim.done(function(){jQuery(elem).hide()})}anim.done(function(){var prop;data_priv.remove(elem,"fxshow");for(prop in orig){jQuery.style(elem,prop,orig[prop])}});for(prop in orig){tween=createTween(hidden?dataShow[prop]:0,prop,anim);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0}}}}else if((display==="none"?defaultDisplay(elem.nodeName):display)==="inline"){style.display=display}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0]}if(index!==name){props[name]=value;delete props[index]}hooks=jQuery.cssHooks[name];if(hooks&&"expand"in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing}}}else{specialEasing[name]=easing}}}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped){return false}var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent)}deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining}else{deferred.resolveWith(elem,[animation]);return false}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped){return this}stopped=true;for(;index<length;index++){animation.tweens[index].run(1)}if(gotoEnd){deferred.resolveWith(elem,[animation,gotoEnd])}else{deferred.rejectWith(elem,[animation,gotoEnd])}return this}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=animationPrefilters[index].call(animation,elem,props,animation.opts);if(result){return result}}jQuery.map(props,createTween,animation);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation)}jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"]}else{props=props.split(" ")}var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];tweeners[prop]=tweeners[prop]||[];tweeners[prop].unshift(callback)}},prefilter:function(callback,prepend){if(prepend){animationPrefilters.unshift(callback)}else{animationPrefilters.push(callback)}}});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx"}opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this)}if(opt.queue){jQuery.dequeue(this,opt.queue)}};return opt};jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty||data_priv.get(this,"finish")){anim.stop(true)}};doAnimation.finish=doAnimation;return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){
var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd)};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined}if(clearQueue&&type!==false){this.queue(type||"fx",[])}return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=data_priv.get(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index])}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index])}}}for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1)}}if(dequeue||!gotoEnd){jQuery.dequeue(this,type)}})},finish:function(type){if(type!==false){type=type||"fx"}return this.each(function(){var index,data=data_priv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;data.finish=true;jQuery.queue(this,type,[]);if(hooks&&hooks.stop){hooks.stop.call(this,true)}for(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(true);timers.splice(index,1)}}for(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this)}}delete data.finish})}});jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback)}});jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.timers=[];jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}fxNow=undefined};jQuery.fx.timer=function(timer){jQuery.timers.push(timer);if(timer()){jQuery.fx.start()}else{jQuery.timers.pop()}};jQuery.fx.interval=13;jQuery.fx.start=function(){if(!timerId){timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval)}};jQuery.fx.stop=function(){clearInterval(timerId);timerId=null};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fn.delay=function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})};(function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox";support.checkOn=input.value!=="";support.optSelected=opt.selected;select.disabled=true;support.optDisabled=!opt.disabled;input=document.createElement("input");input.value="t";input.type="radio";support.radioValue=input.value==="t"})();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}});jQuery.extend({attr:function(elem,name,value){var hooks,ret,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return}if(typeof elem.getAttribute===strundefined){return jQuery.prop(elem,name,value)}if(nType!==1||!jQuery.isXMLDoc(elem)){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook)}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name)}else if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}else{elem.setAttribute(name,value+"");return value}}else if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret}else{ret=jQuery.find.attr(elem,name);return ret==null?undefined:ret}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&elem.nodeType===1){while(name=attrNames[i++]){propName=jQuery.propFix[name]||name;if(jQuery.expr.match.bool.test(name)){elem[propName]=false}elem.removeAttribute(name)}}},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val}return value}}}}});boolHook={set:function(elem,value,name){if(value===false){jQuery.removeAttr(elem,name)}else{elem.setAttribute(name,name)}return name}};jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;if(!isXML){handle=attrHandle[name];attrHandle[name]=ret;ret=getter(elem,name,isXML)!=null?name.toLowerCase():null;attrHandle[name]=handle}return ret}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}});jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}if(value!==undefined){return hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:elem[name]=value}else{return hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null?ret:elem[name]}},propHooks:{tabIndex:{get:function(elem){return elem.hasAttribute("tabindex")||rfocusable.test(elem.nodeName)||elem.href?elem.tabIndex:-1}}}});if(!support.optSelected){jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;if(parent&&parent.parentNode){parent.parentNode.selectedIndex}return null}}}jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(value){var classes,elem,cur,clazz,j,finalValue,proceed=typeof value==="string"&&value,i=0,len=this.length;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))})}if(proceed){classes=(value||"").match(rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ");if(cur){j=0;while(clazz=classes[j++]){if(cur.indexOf(" "+clazz+" ")<0){cur+=clazz+" "}}finalValue=jQuery.trim(cur);if(elem.className!==finalValue){elem.className=finalValue}}}}return this},removeClass:function(value){var classes,elem,cur,clazz,j,finalValue,proceed=arguments.length===0||typeof value==="string"&&value,i=0,len=this.length;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))})}if(proceed){classes=(value||"").match(rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"");if(cur){j=0;while(clazz=classes[j++]){while(cur.indexOf(" "+clazz+" ")>=0){cur=cur.replace(" "+clazz+" "," ")}}finalValue=value?jQuery.trim(cur):"";if(elem.className!==finalValue){elem.className=finalValue}}}}return this},toggleClass:function(value,stateVal){var type=typeof value;if(typeof stateVal==="boolean"&&type==="string"){return stateVal?this.addClass(value):this.removeClass(value)}if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)})}return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];while(className=classNames[i++]){if(self.hasClass(className)){self.removeClass(className)}else{self.addClass(className)}}}else if(type===strundefined||type==="boolean"){if(this.className){data_priv.set(this,"__className__",this.className)}this.className=this.className||value===false?"":data_priv.get(this,"__className__")||""}})},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0){return true}}return false}});var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret}ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret}return}isFunction=jQuery.isFunction(value);return this.each(function(i){var val;if(this.nodeType!==1){return}if(isFunction){val=value.call(this,i,jQuery(this).val())}else{val=value}if(val==null){val=""}else if(typeof val==="number"){val+=""}else if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+""})}hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set"in hooks)||hooks.set(this,val,"value")===undefined){this.value=val}})}});jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return val!=null?val:jQuery.trim(jQuery.text(elem))}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value}values.push(value)}}return values},set:function(elem,value){var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;while(i--){option=options[i];if(option.selected=jQuery.inArray(option.value,values)>=0){optionSet=true}}if(!optionSet){elem.selectedIndex=-1}return values}}}});jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value)){return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0}}};if(!support.checkOn){jQuery.valHooks[this].get=function(elem){return elem.getAttribute("value")===null?"on":elem.value}}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}});jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn)}});var nonce=jQuery.now();var rquery=/\?/;jQuery.parseJSON=function(data){return JSON.parse(data+"")};jQuery.parseXML=function(data){var xml,tmp;if(!data||typeof data!=="string"){return null}try{tmp=new DOMParser;xml=tmp.parseFromString(data,"text/xml")}catch(e){xml=undefined}if(!xml||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data)}return xml};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*"),ajaxLocation=window.location.href,ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*"}var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func)){while(dataType=dataTypes[i++]){if(dataType[0]==="+"){dataType=dataType.slice(1)||"*";(structure[dataType]=structure[dataType]||[]).unshift(func)}else{(structure[dataType]=structure[dataType]||[]).push(func)}}}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=structure===transports;function inspect(dataType){var selected;inspected[dataType]=true;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if(typeof dataTypeOrTransport==="string"&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return false}else if(seekingTransport){return!(selected=dataTypeOrTransport)}});return selected}return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:deep||(deep={}))[key]=src[key]}}if(deep){jQuery.extend(true,target,deep)}return target}function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("Content-Type")}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}}}if(dataTypes[0]in responses){finalDataType=dataTypes[0]}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}if(!firstDataType){firstDataType=type}}finalDataType=finalDataType||firstDataType}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType)}return responses[finalDataType]}}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv]}}current=dataTypes.shift();while(current){if(s.responseFields[current]){jqXHR[s.responseFields[current]]=response}if(!prev&&isSuccess&&s.dataFilter){response=s.dataFilter(response,s.dataType)}prev=current;current=dataTypes.shift();if(current){if(current==="*"){current=prev}else if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2]}else if(converters[conv2]!==true){current=tmp[0];dataTypes.unshift(tmp[1])}break}}}}if(conv!==true){if(conv&&s["throws"]){response=conv(response)}else{try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}}}}}return{state:"success",data:response}}jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined}options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while(match=rheaders.exec(responseHeadersString)){responseHeaders[match[1].toLowerCase()]=match[2]}}match=responseHeaders[key.toLowerCase()]}return match==null?null:match},getAllResponseHeaders:function(){return state===2?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();if(!state){name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}return this},overrideMimeType:function(type){if(!state){s.mimeType=type}return this},statusCode:function(map){var code;if(map){if(state<2){for(code in map){statusCode[code]=[statusCode[code],map[code]]}}else{jqXHR.always(map[jqXHR.status])}}return this},abort:function(statusText){var finalText=statusText||strAbort;if(transport){transport.abort(finalText)}done(0,finalText);return this}};deferred.promise(jqXHR).complete=completeDeferred.add;jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.type=options.method||options.type||s.method||s.type;s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""];if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!==ajaxLocParts[1]||parts[2]!==ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?"80":"443"))!==(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?"80":"443"))))}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return jqXHR}fireGlobals=jQuery.event&&s.global;if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart")}s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url;if(!s.hasContent){if(s.data){cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data;delete s.data}if(s.cache===false){s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++}}if(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL])}if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType)}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i])}if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){return jqXHR.abort()}strAbort="abort";for(i in{success:1,error:1,complete:1}){jqXHR[i](s[i])}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport")}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s])}if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout)}try{state=1;transport.send(requestHeaders,done)}catch(e){if(state<2){done(-1,e)}else{throw e}}}function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2){return}state=2;if(timeoutTimer){clearTimeout(timeoutTimer)}transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;isSuccess=status>=200&&status<300||status===304;if(responses){response=ajaxHandleResponses(s,jqXHR,responses)}response=ajaxConvert(s,response,jqXHR,isSuccess);if(isSuccess){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[cacheURL]=modified}modified=jqXHR.getResponseHeader("etag");if(modified){jQuery.etag[cacheURL]=modified}}if(status===204||s.type==="HEAD"){statusText="nocontent"}else if(status===304){statusText="notmodified"}else{statusText=response.state;success=response.data;error=response.error;isSuccess=!error}}else{error=statusText;if(status||!statusText){statusText="error";if(status<0){status=0}}}jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR])}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error])}jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error])}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!--jQuery.active){jQuery.event.trigger("ajaxStop")}}}return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined}return jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback})}});jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:false,global:false,"throws":true})};jQuery.fn.extend({wrapAll:function(html){var wrap;if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstElementChild){elem=elem.firstElementChild}return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()}});jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0};jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"?i:"")+"]",v,traditional,add)}})}else if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add)}}else{add(prefix,obj)}}jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():value==null?"":value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a)){jQuery.each(a,function(){add(this.name,this.value)})}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add)}}return s.join("&").replace(r20,"+")};jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();if(window.attachEvent){window.attachEvent("onunload",function(){for(var key in xhrCallbacks){xhrCallbacks[key]()}})}support.cors=!!xhrSupported&&"withCredentials"in xhrSupported;support.ajax=xhrSupported=!!xhrSupported;jQuery.ajaxTransport(function(options){var callback;if(support.cors||xhrSupported&&!options.crossDomain){return{send:function(headers,complete){var i,xhr=options.xhr(),id=++xhrId;xhr.open(options.type,options.url,options.async,options.username,options.password);if(options.xhrFields){for(i in options.xhrFields){xhr[i]=options.xhrFields[i]}}if(options.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(options.mimeType)}if(!options.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest"}for(i in headers){xhr.setRequestHeader(i,headers[i])}callback=function(type){return function(){if(callback){delete xhrCallbacks[id];callback=xhr.onload=xhr.onerror=null;if(type==="abort"){xhr.abort()}else if(type==="error"){complete(xhr.status,xhr.statusText)}else{complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,typeof xhr.responseText==="string"?{text:xhr.responseText}:undefined,xhr.getAllResponseHeaders())}}}};xhr.onload=callback();xhr.onerror=callback("error");callback=xhrCallbacks[id]=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback){throw e}}},abort:function(){if(callback){callback()}}}}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false}if(s.crossDomain){s.type="GET"}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({async:true,charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove();callback=null;if(evt){complete(evt.type==="error"?404:200,evt.type)}});document.head.appendChild(script[0])},abort:function(){if(callback){callback()}}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;this[callback]=true;return callback}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==false&&(rjsonp.test(s.url)?"url":typeof s.data==="string"&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||s.dataTypes[0]==="jsonp"){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName)}else if(s.jsonp!==false){s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName}s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called")}return responseContainer[0]};s.dataTypes[0]="json";overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments};jqXHR.always(function(){window[callbackName]=overwritten;if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName)}if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0])}responseContainer=overwritten=undefined});return"script"}});jQuery.parseHTML=function(data,context,keepScripts){if(!data||typeof data!=="string"){return null}if(typeof context==="boolean"){keepScripts=context;context=false}context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];if(parsed){return[context.createElement(parsed[1])]}parsed=jQuery.buildFragment([data],context,scripts);if(scripts&&scripts.length){jQuery(scripts).remove()}return jQuery.merge([],parsed.childNodes)};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments)}var selector,type,response,self=this,off=url.indexOf(" ");if(off>=0){selector=jQuery.trim(url.slice(off));url=url.slice(0,off)}if(jQuery.isFunction(params)){callback=params;params=undefined}else if(params&&typeof params==="object"){type="POST"}if(self.length>0){jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR])})}return this};jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}});jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};var docElem=window.document.documentElement;function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9&&elem.defaultView}jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};if(position==="static"){elem.style.position="relative"}curOffset=curElem.offset();curCSSTop=jQuery.css(elem,"top");curCSSLeft=jQuery.css(elem,"left");calculatePosition=(position==="absolute"||position==="fixed")&&(curCSSTop+curCSSLeft).indexOf("auto")>-1;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0}if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset)}if(options.top!=null){props.top=options.top-curOffset.top+curTop}if(options.left!=null){props.left=options.left-curOffset.left+curLeft}if("using"in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({offset:function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)})}var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(!doc){return}docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box}if(typeof elem.getBoundingClientRect!==strundefined){box=elem.getBoundingClientRect()}win=getWindow(doc);return{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}},position:function(){if(!this[0]){return}var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};if(jQuery.css(elem,"position")==="fixed"){offset=elem.getBoundingClientRect();
}else{offsetParent=this.offsetParent();offset=this.offset();if(!jQuery.nodeName(offsetParent[0],"html")){parentOffset=offsetParent.offset()}parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",true);parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",true)}return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",true),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||docElem;while(offsetParent&&(!jQuery.nodeName(offsetParent,"html")&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent}return offsetParent||docElem})}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?win[prop]:elem[method]}if(win){win.scrollTo(!top?val:window.pageXOffset,top?val:window.pageYOffset)}else{elem[method]=val}},method,val,arguments.length,null)}});jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed}})});jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name]}if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])}return value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})});jQuery.fn.size=function(){return this.length};jQuery.fn.andSelf=jQuery.fn.addBack;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return jQuery})}var _jQuery=window.jQuery,_$=window.$;jQuery.noConflict=function(deep){if(window.$===jQuery){window.$=_$}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery}return jQuery};if(typeof noGlobal===strundefined){window.jQuery=window.$=jQuery}return jQuery});(function(){var undefined;var VERSION="4.6.1";var LARGE_ARRAY_SIZE=200;var FUNC_ERROR_TEXT="Expected a function";var HASH_UNDEFINED="__lodash_hash_undefined__";var PLACEHOLDER="__lodash_placeholder__";var BIND_FLAG=1,BIND_KEY_FLAG=2,CURRY_BOUND_FLAG=4,CURRY_FLAG=8,CURRY_RIGHT_FLAG=16,PARTIAL_FLAG=32,PARTIAL_RIGHT_FLAG=64,ARY_FLAG=128,REARG_FLAG=256,FLIP_FLAG=512;var UNORDERED_COMPARE_FLAG=1,PARTIAL_COMPARE_FLAG=2;var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...";var HOT_COUNT=150,HOT_SPAN=16;var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,LAZY_WHILE_FLAG=3;var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e308,NAN=0/0;var MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",weakSetTag="[object WeakSet]";var arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEscapedHtml=/&(?:amp|lt|gt|quot|#39|#96);/g,reUnescapedHtml=/[&<>"'`]/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source);var reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g;var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g;var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source);var reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/;var reEscapeChar=/\\(\\)?/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reHasHexPrefix=/^0x/i;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsOctal=/^0o[0-7]+$/i;var reIsUint=/^(?:0|[1-9]\d*)$/;var reLatin1=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g;var reNoMatch=/($^)/;var reUnescapedString=/['\n\r\u2028\u2029\\]/g;var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f\\ufe20-\\ufe23",rsComboSymbolsRange="\\u20d0-\\u20f0",rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsQuoteRange="\\u2018\\u2019\\u201c\\u201d",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsQuoteRange+rsSpaceRange;var rsAstral="["+rsAstralRange+"]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboMarksRange+rsComboSymbolsRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d";var rsLowerMisc="(?:"+rsLower+"|"+rsMisc+")",rsUpperMisc="(?:"+rsUpper+"|"+rsMisc+")",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")";var reComboMark=RegExp(rsCombo,"g");var reComplexSymbol=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");var reHasComplexSymbol=RegExp("["+rsZWJ+rsAstralRange+rsComboMarksRange+rsComboSymbolsRange+rsVarRange+"]");var reBasicWord=/[a-zA-Z0-9]+/g;var reComplexWord=RegExp([rsUpper+"?"+rsLower+"+(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsUpperMisc+"+(?="+[rsBreak,rsUpper+rsLowerMisc,"$"].join("|")+")",rsUpper+"?"+rsLowerMisc+"+",rsUpper+"+",rsDigits,rsEmoji].join("|"),"g");var reHasComplexWord=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var contextProps=["Array","Buffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"];var templateCounter=-1;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;var deburredLetters={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"};var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"};var htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"};var objectTypes={"function":true,object:true};var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var freeParseFloat=parseFloat,freeParseInt=parseInt;var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType?exports:undefined;var freeModule=objectTypes[typeof module]&&module&&!module.nodeType?module:undefined;var moduleExports=freeModule&&freeModule.exports===freeExports?freeExports:undefined;var freeGlobal=checkGlobal(freeExports&&freeModule&&typeof global=="object"&&global);var freeSelf=checkGlobal(objectTypes[typeof self]&&self);var freeWindow=checkGlobal(objectTypes[typeof window]&&window);var thisGlobal=checkGlobal(objectTypes[typeof this]&&this);var root=freeGlobal||freeWindow!==(thisGlobal&&thisGlobal.window)&&freeWindow||freeSelf||thisGlobal||Function("return this")();function addMapEntry(map,pair){map.set(pair[0],pair[1]);return map}function addSetEntry(set,value){set.add(value);return set}function apply(func,thisArg,args){var length=args.length;switch(length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){var index=-1,length=array.length;while(++index<length){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayConcat(array,other){var index=-1,length=array.length,othIndex=-1,othLength=other.length,result=Array(length+othLength);while(++index<length){result[index]=array[index]}while(++othIndex<othLength){result[index++]=other[othIndex]}return result}function arrayEach(array,iteratee){var index=-1,length=array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}function arrayEachRight(array,iteratee){var length=array.length;while(length--){if(iteratee(array[length],length,array)===false){break}}return array}function arrayEvery(array,predicate){var index=-1,length=array.length;while(++index<length){if(!predicate(array[index],index,array)){return false}}return true}function arrayFilter(array,predicate){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[resIndex++]=value}}return result}function arrayIncludes(array,value){return!!array.length&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){var index=-1,length=array.length;while(++index<length){if(comparator(value,array[index])){return true}}return false}function arrayMap(array,iteratee){var index=-1,length=array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array.length;if(initAccum&&length){accumulator=array[++index]}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array)}return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=array.length;if(initAccum&&length){accumulator=array[--length]}while(length--){accumulator=iteratee(accumulator,array[length],length,array)}return accumulator}function arraySome(array,predicate){var index=-1,length=array.length;while(++index<length){if(predicate(array[index],index,array)){return true}}return false}function baseExtremum(array,iteratee,comparator){var index=-1,length=array.length;while(++index<length){var value=array[index],current=iteratee(value);if(current!=null&&(computed===undefined?current===current:comparator(current,computed))){var computed=current,result=value}}return result}function baseFind(collection,predicate,eachFunc,retKey){var result;eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection)){result=retKey?key:value;return false}});return result}function baseFindIndex(array,predicate,fromRight){var length=array.length,index=fromRight?length:-1;while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index}}return-1}function baseIndexOf(array,value,fromIndex){if(value!==value){return indexOfNaN(array,fromIndex)}var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}function baseIndexOfWith(array,value,fromIndex,comparator){var index=fromIndex-1,length=array.length;while(++index<length){if(comparator(array[index],value)){return index}}return-1}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=false,value):iteratee(accumulator,value,index,collection)});return accumulator}function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--){array[length]=array[length].value}return array}function baseSum(array,iteratee){var result,index=-1,length=array.length;while(++index<length){var current=iteratee(array[index]);if(current!==undefined){result=result===undefined?current:result+current}}return result}function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]]})}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function charsStartIndex(strSymbols,chrSymbols){var index=-1,length=strSymbols.length;while(++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function charsEndIndex(strSymbols,chrSymbols){var index=strSymbols.length;while(index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function checkGlobal(value){return value&&value.Object===Object?value:null}function compareAscending(value,other){if(value!==other){var valIsNull=value===null,valIsUndef=value===undefined,valIsReflexive=value===value;var othIsNull=other===null,othIsUndef=other===undefined,othIsReflexive=other===other;if(value>other&&!othIsNull||!valIsReflexive||valIsNull&&!othIsUndef&&othIsReflexive||valIsUndef&&othIsReflexive){return 1}if(value<other&&!valIsNull||!othIsReflexive||othIsNull&&!valIsUndef&&valIsReflexive||othIsUndef&&valIsReflexive){return-1}}return 0}function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength){return result}var order=orders[index];return result*(order=="desc"?-1:1)}}return object.index-other.index}function countHolders(array,placeholder){var length=array.length,result=0;while(length--){if(array[length]===placeholder){result++}}return result}function deburrLetter(letter){return deburredLetters[letter]}function escapeHtmlChar(chr){return htmlEscapes[chr]}function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function indexOfNaN(array,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?0:-1);while(fromRight?index--:++index<length){var other=array[index];if(other!==other){return index}}return-1}function isHostObject(value){var result=false;if(value!=null&&typeof value.toString!="function"){try{result=!!(value+"")}catch(e){}}return result}function isIndex(value,length){value=typeof value=="number"||reIsUint.test(value)?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}function iteratorToArray(iterator){var data,result=[];while(!(data=iterator.next()).done){result.push(data.value)}return result}function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value]});return result}function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value===placeholder||value===PLACEHOLDER){array[index]=PLACEHOLDER;result[resIndex++]=index}}return result}function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value});return result}function stringSize(string){if(!(string&&reHasComplexSymbol.test(string))){return string.length}var result=reComplexSymbol.lastIndex=0;while(reComplexSymbol.test(string)){result++}return result}function stringToArray(string){return string.match(reComplexSymbol)}function unescapeHtmlChar(chr){return htmlUnescapes[chr]}function runInContext(context){context=context?_.defaults({},context,_.pick(root,contextProps)):root;var Date=context.Date,Error=context.Error,Math=context.Math,RegExp=context.RegExp,TypeError=context.TypeError;var arrayProto=context.Array.prototype,objectProto=context.Object.prototype;var funcToString=context.Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var idCounter=0;var objectCtorString=funcToString.call(Object);var objectToString=objectProto.toString;var oldDash=root._;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Buffer=moduleExports?context.Buffer:undefined,Reflect=context.Reflect,Symbol=context.Symbol,Uint8Array=context.Uint8Array,clearTimeout=context.clearTimeout,enumerate=Reflect?Reflect.enumerate:undefined,getPrototypeOf=Object.getPrototypeOf,getOwnPropertySymbols=Object.getOwnPropertySymbols,iteratorSymbol=typeof(iteratorSymbol=Symbol&&Symbol.iterator)=="symbol"?iteratorSymbol:undefined,objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,setTimeout=context.setTimeout,splice=arrayProto.splice;var nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=Object.keys,nativeMax=Math.max,nativeMin=Math.min,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse;var Map=getNative(context,"Map"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create");var metaMap=WeakMap&&new WeakMap;var nonEnumShadows=!propertyIsEnumerable.call({valueOf:1},"valueOf");var realNames={};var mapCtorString=Map?funcToString.call(Map):"",setCtorString=Set?funcToString.call(Set):"",weakMapCtorString=WeakMap?funcToString.call(WeakMap):"";var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper){return value}if(hasOwnProperty.call(value,"__wrapped__")){return wrapperClone(value)}}return new LodashWrapper(value)}function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value;this.__actions__=[];this.__chain__=!!chainAll;this.__index__=0;this.__values__=undefined}lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=MAX_ARRAY_LENGTH;this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);result.__actions__=copyArray(this.__actions__);result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=copyArray(this.__iteratees__);result.__takeCount__=this.__takeCount__;result.__views__=copyArray(this.__views__);return result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=true}else{result=this.clone();result.__dir__*=-1}return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||arrLength<LARGE_ARRAY_SIZE||arrLength==length&&takeCount==length){return baseWrapperValue(array,this.__actions__)}var result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG){value=computed}else if(!computed){if(type==LAZY_FILTER_FLAG){continue outer}else{break outer}}}result[resIndex++]=value}return result}function Hash(){}function hashDelete(hash,key){return hashHas(hash,key)&&delete hash[key]}function hashGet(hash,key){if(nativeCreate){var result=hash[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(hash,key)?hash[key]:undefined}function hashHas(hash,key){return nativeCreate?hash[key]!==undefined:hasOwnProperty.call(hash,key)}function hashSet(hash,key,value){hash[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value}function MapCache(values){var index=-1,length=values?values.length:0;this.clear();while(++index<length){var entry=values[index];this.set(entry[0],entry[1])}}function mapClear(){this.__data__={hash:new Hash,map:Map?new Map:[],string:new Hash}}function mapDelete(key){var data=this.__data__;if(isKeyable(key)){return hashDelete(typeof key=="string"?data.string:data.hash,key)}return Map?data.map["delete"](key):assocDelete(data.map,key)}function mapGet(key){var data=this.__data__;if(isKeyable(key)){return hashGet(typeof key=="string"?data.string:data.hash,key)}return Map?data.map.get(key):assocGet(data.map,key)}function mapHas(key){var data=this.__data__;if(isKeyable(key)){return hashHas(typeof key=="string"?data.string:data.hash,key)}return Map?data.map.has(key):assocHas(data.map,key)}function mapSet(key,value){var data=this.__data__;if(isKeyable(key)){hashSet(typeof key=="string"?data.string:data.hash,key,value)}else if(Map){data.map.set(key,value)}else{assocSet(data.map,key,value)}return this}function SetCache(values){var index=-1,length=values?values.length:0;this.__data__=new MapCache;while(++index<length){this.push(values[index])}}function cacheHas(cache,value){var map=cache.__data__;if(isKeyable(value)){var data=map.__data__,hash=typeof value=="string"?data.string:data.hash;return hash[value]===HASH_UNDEFINED}return map.has(value)}function cachePush(value){var map=this.__data__;if(isKeyable(value)){var data=map.__data__,hash=typeof value=="string"?data.string:data.hash;hash[value]=HASH_UNDEFINED}else{map.set(value,HASH_UNDEFINED)}}function Stack(values){var index=-1,length=values?values.length:0;this.clear();while(++index<length){var entry=values[index];this.set(entry[0],entry[1])}}function stackClear(){this.__data__={array:[],map:null}}function stackDelete(key){var data=this.__data__,array=data.array;return array?assocDelete(array,key):data.map["delete"](key)}function stackGet(key){var data=this.__data__,array=data.array;return array?assocGet(array,key):data.map.get(key)}function stackHas(key){var data=this.__data__,array=data.array;return array?assocHas(array,key):data.map.has(key)}function stackSet(key,value){var data=this.__data__,array=data.array;if(array){if(array.length<LARGE_ARRAY_SIZE-1){assocSet(array,key,value)}else{data.array=null;data.map=new MapCache(array)}}var map=data.map;if(map){map.set(key,value)}return this}function assocDelete(array,key){var index=assocIndexOf(array,key);if(index<0){return false}var lastIndex=array.length-1;if(index==lastIndex){array.pop()}else{splice.call(array,index,1)}return true}function assocGet(array,key){var index=assocIndexOf(array,key);return index<0?undefined:array[index][1]}function assocHas(array,key){return assocIndexOf(array,key)>-1}function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}function assocSet(array,key,value){var index=assocIndexOf(array,key);if(index<0){array.push([key,value])}else{array[index][1]=value}}function assignInDefaults(objValue,srcValue,key,object){if(objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)){return srcValue}return objValue}function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||typeof key=="number"&&value===undefined&&!(key in object)){object[key]=value}}function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){object[key]=value}}function baseAggregator(collection,setter,iteratee,accumulator){baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)});return accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAt(object,paths){var index=-1,isNil=object==null,length=paths.length,result=Array(length);while(++index<length){result[index]=isNil?undefined:get(object,paths[index])}return result}function baseCastArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function baseCastFunction(value){return typeof value=="function"?value:identity}function baseCastPath(value){return isArray(value)?value:stringToPath(value)}function baseClamp(number,lower,upper){if(number===number){if(upper!==undefined){number=number<=upper?number:upper}if(lower!==undefined){number=number>=lower?number:lower}}return number}function baseClone(value,isDeep,isFull,customizer,key,object,stack){var result;if(customizer){result=object?customizer(value,key,object,stack):customizer(value)}if(result!==undefined){return result}if(!isObject(value)){return value}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result)}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep)}if(tag==objectTag||tag==argsTag||isFunc&&!object){if(isHostObject(value)){return object?value:{}}result=initCloneObject(isFunc?{}:value);if(!isDeep){result=baseAssign(result,value);return isFull?copySymbols(value,result):result}}else{if(!cloneableTags[tag]){return object?value:{}}result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked){return stacked}stack.set(value,result);(isArr?arrayEach:baseForOwn)(value,function(subValue,key){assignValue(result,key,baseClone(subValue,isDeep,isFull,customizer,key,value,stack))});return isFull&&!isArr?copySymbols(value,result):result}function baseConforms(source){var props=keys(source),length=props.length;return function(object){if(object==null){return!length}var index=length;while(index--){var key=props[index],predicate=source[key],value=object[key];if(value===undefined&&!(key in Object(object))||!predicate(value)){return false}}return true}}function baseCreate(proto){return isObject(proto)?objectCreate(proto):{}}function baseDelay(func,wait,args){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=true,length=array.length,result=[],valuesLength=values.length;if(!length){return result}if(iteratee){values=arrayMap(values,baseUnary(iteratee))}if(comparator){includes=arrayIncludesWith;isCommon=false}else if(values.length>=LARGE_ARRAY_SIZE){includes=cacheHas;isCommon=false;values=new SetCache(values)}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;if(isCommon&&computed===computed){var valuesIndex=valuesLength;while(valuesIndex--){if(values[valuesIndex]===computed){continue outer}}result.push(value)}else if(!includes(values,computed,comparator)){result.push(value)}}return result}var baseEach=createBaseEach(baseForOwn);var baseEachRight=createBaseEach(baseForOwnRight,true);function baseEvery(collection,predicate){var result=true;baseEach(collection,function(value,index,collection){result=!!predicate(value,index,collection);return result});return result}function baseFill(array,value,start,end){var length=array.length;start=toInteger(start);if(start<0){start=-start>length?0:length+start}end=end===undefined||end>length?length:toInteger(end);if(end<0){end+=length}end=start>end?0:toLength(end);while(start<end){array[start++]=value}return array}function baseFilter(collection,predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection)){result.push(value)}});return result}function baseFlatten(array,depth,isStrict,result){result||(result=[]);var index=-1,length=array.length;while(++index<length){var value=array[index];if(depth>0&&isArrayLikeObject(value)&&(isStrict||isArray(value)||isArguments(value))){if(depth>1){baseFlatten(value,depth-1,isStrict,result)}else{arrayPush(result,value)}}else if(!isStrict){result[result.length]=value}}return result}var baseFor=createBaseFor();var baseForRight=createBaseFor(true);function baseForIn(object,iteratee){return object==null?object:baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){path=isKey(path,object)?[path+""]:baseCastPath(path);var index=0,length=path.length;while(object!=null&&index<length){object=object[path[index++]]}return index&&index==length?object:undefined}function baseHas(object,key){return hasOwnProperty.call(object,key)||typeof object=="object"&&key in object&&getPrototypeOf(object)===null}function baseHasIn(object,key){return key in Object(object)}function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}function baseIntersection(arrays,iteratee,comparator){
var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=Infinity,result=[];while(othIndex--){var array=arrays[othIndex];if(othIndex&&iteratee){array=arrayMap(array,baseUnary(iteratee))}maxLength=nativeMin(array.length,maxLength);caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:while(++index<length&&result.length<maxLength){var value=array[index],computed=iteratee?iteratee(value):value;if(!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){othIndex=othLength;while(--othIndex){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator))){continue outer}}if(seen){seen.push(computed)}result.push(value)}}return result}function baseInverter(object,setter,iteratee,accumulator){baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)});return accumulator}function baseInvoke(object,path,args){if(!isKey(path,object)){path=baseCastPath(path);object=parent(object,path);path=last(path)}var func=object==null?object:object[path];return func==null?undefined:apply(func,object,args)}function baseIsEqual(value,other,customizer,bitmask,stack){if(value===other){return true}if(value==null||other==null||!isObject(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,baseIsEqual,customizer,bitmask,stack)}function baseIsEqualDeep(object,other,equalFunc,customizer,bitmask,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;if(!objIsArr){objTag=getTag(object);objTag=objTag==argsTag?objectTag:objTag}if(!othIsArr){othTag=getTag(other);othTag=othTag==argsTag?objectTag:othTag}var objIsObj=objTag==objectTag&&!isHostObject(object),othIsObj=othTag==objectTag&&!isHostObject(other),isSameTag=objTag==othTag;if(isSameTag&&!objIsObj){stack||(stack=new Stack);return objIsArr||isTypedArray(object)?equalArrays(object,other,equalFunc,customizer,bitmask,stack):equalByTag(object,other,objTag,equalFunc,customizer,bitmask,stack)}if(!(bitmask&PARTIAL_COMPARE_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){stack||(stack=new Stack);return equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,bitmask,stack)}}if(!isSameTag){return false}stack||(stack=new Stack);return equalObjects(object,other,equalFunc,customizer,bitmask,stack)}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length}object=Object(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return false}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false}}else{var stack=new Stack,result=customizer?customizer(objValue,srcValue,key,object,source,stack):undefined;if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG,stack):result)){return false}}}return true}function baseIteratee(value){var type=typeof value;if(type=="function"){return value}if(value==null){return identity}if(type=="object"){return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value)}return property(value)}function baseKeys(object){return nativeKeys(Object(object))}function baseKeysIn(object){object=object==null?object:Object(object);var result=[];for(var key in object){result.push(key)}return result}if(enumerate&&!propertyIsEnumerable.call({valueOf:1},"valueOf")){baseKeysIn=function(object){return iteratorToArray(enumerate(object))}}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)});return result}function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){var key=matchData[0][0],value=matchData[0][1];return function(object){if(object==null){return false}return object[key]===value&&(value!==undefined||key in Object(object))}}return function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){return function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,undefined,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return}var props=isArray(source)||isTypedArray(source)?undefined:keysIn(source);arrayEach(props||source,function(srcValue,key){if(props){key=srcValue;srcValue=source[key]}if(isObject(srcValue)){stack||(stack=new Stack);baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack)}else{var newValue=customizer?customizer(object[key],srcValue,key+"",object,source,stack):undefined;if(newValue===undefined){newValue=srcValue}assignMergeValue(object,key,newValue)}})}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=object[key],srcValue=source[key],stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){newValue=srcValue;if(isArray(srcValue)||isTypedArray(srcValue)){if(isArray(objValue)){newValue=objValue}else if(isArrayLikeObject(objValue)){newValue=copyArray(objValue)}else{isCommon=false;newValue=baseClone(srcValue,!customizer)}}else if(isPlainObject(srcValue)||isArguments(srcValue)){if(isArguments(objValue)){newValue=toPlainObject(objValue)}else if(!isObject(objValue)||srcIndex&&isFunction(objValue)){isCommon=false;newValue=baseClone(srcValue,!customizer)}else{newValue=objValue}}else{isCommon=false}}stack.set(srcValue,newValue);if(isCommon){mergeFunc(newValue,srcValue,srcIndex,customizer,stack)}stack["delete"](srcValue);assignMergeValue(object,key,newValue)}function baseOrderBy(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:Array(1),getIteratee());var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function basePick(object,props){object=Object(object);return arrayReduce(props,function(result,key){if(key in object){result[key]=object[key]}return result},{})}function basePickBy(object,predicate){var result={};baseForIn(object,function(value,key){if(predicate(value,key)){result[key]=value}});return result}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;if(iteratee){seen=arrayMap(array,baseUnary(iteratee))}while(++index<length){var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;while((fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1){if(seen!==array){splice.call(seen,fromIndex,1)}splice.call(array,fromIndex,1)}}return array}function basePullAt(array,indexes){var length=array?indexes.length:0,lastIndex=length-1;while(length--){var index=indexes[length];if(lastIndex==length||index!=previous){var previous=index;if(isIndex(index)){splice.call(array,index,1)}else if(!isKey(index,array)){var path=baseCastPath(index),object=parent(array,path);if(object!=null){delete object[last(path)]}}else{delete array[index]}}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?length:++index]=start;start+=step}return result}function baseSet(object,path,value,customizer){path=isKey(path,object)?[path+""]:baseCastPath(path);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=path[index];if(isObject(nested)){var newValue=value;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=objValue==null?isIndex(path[index+1])?[]:{}:objValue}}assignValue(nested,key,newValue)}nested=nested[key]}return object}var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func};function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0){start=-start>length?0:length+start}end=end>length?length:end;if(end<0){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}function baseSome(collection,predicate){var result;baseEach(collection,function(value,index,collection){result=predicate(value,index,collection);return!result});return!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=array?array.length:low;if(typeof value=="number"&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){while(low<high){var mid=low+high>>>1,computed=array[mid];if((retHighest?computed<=value:computed<value)&&computed!==null){low=mid+1}else{high=mid}}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsNull=value===null,valIsUndef=value===undefined;while(low<high){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),isDef=computed!==undefined,isReflexive=computed===computed;if(valIsNaN){var setLow=isReflexive||retHighest}else if(valIsNull){setLow=isReflexive&&isDef&&(retHighest||computed!=null)}else if(valIsUndef){setLow=isReflexive&&(retHighest||isDef)}else if(computed==null){setLow=false}else{setLow=retHighest?computed<=value:computed<value}if(setLow){low=mid+1}else{high=mid}}return nativeMin(high,MAX_ARRAY_INDEX)}function baseSortedUniq(array){return baseSortedUniqBy(array)}function baseSortedUniqBy(array,iteratee){var index=0,length=array.length,value=array[0],computed=iteratee?iteratee(value):value,seen=computed,resIndex=1,result=[value];while(++index<length){value=array[index],computed=iteratee?iteratee(value):value;if(!eq(computed,seen)){seen=computed;result[resIndex++]=value}}return result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=true,result=[],seen=result;if(comparator){isCommon=false;includes=arrayIncludesWith}else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set){return setToArray(set)}isCommon=false;includes=cacheHas;seen=new SetCache}else{seen=iteratee?[]:result}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;if(isCommon&&computed===computed){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer}}if(iteratee){seen.push(computed)}result.push(value)}else if(!includes(seen,computed,comparator)){if(seen!==result){seen.push(computed)}result.push(value)}}return result}function baseUnset(object,path){path=isKey(path,object)?[path+""]:baseCastPath(path);object=parent(object,path);var key=last(path);return object!=null&&has(object,key)?delete object[key]:true}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array)){}return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;if(result instanceof LazyWrapper){result=result.value()}return arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){var index=-1,length=arrays.length;while(++index<length){var result=result?arrayPush(baseDifference(result,arrays[index],iteratee,comparator),baseDifference(arrays[index],result,iteratee,comparator)):arrays[index]}return result&&result.length?baseUniq(result,iteratee,comparator):[]}function baseZipObject(props,values,assignFunc){var index=-1,length=props.length,valsLength=values.length,result={};while(++index<length){assignFunc(result,props[index],index<valsLength?values[index]:undefined)}return result}function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice()}var result=new buffer.constructor(buffer.length);buffer.copy(result);return result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result}function cloneMap(map){return arrayReduce(mapToArray(map),addMapEntry,new map.constructor)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result}function cloneSet(set){return arrayReduce(setToArray(set),addSetEntry,new set.constructor)}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function composeArgs(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;while(++leftIndex<leftLength){result[leftIndex]=partials[leftIndex]}while(++argsIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[holders[argsIndex]]=args[argsIndex]}}while(rangeLength--){result[leftIndex++]=args[argsIndex++]}return result}function composeArgsRight(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;while(++argsIndex<rangeLength){result[argsIndex]=args[argsIndex]}var offset=argsIndex;while(++rightIndex<rightLength){result[offset+rightIndex]=partials[rightIndex]}while(++holdersIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[offset+holders[holdersIndex]]=args[argsIndex++]}}return result}function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}function copyObject(source,props,object){return copyObjectWith(source,props,object)}function copyObjectWith(source,props,object,customizer){object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):source[key];assignValue(object,key,newValue)}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee),accumulator)}}function createAssigner(assigner){return rest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=typeof customizer=="function"?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer)}}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null){return collection}if(!isArrayLike(collection)){return eachFunc(collection,iteratee)}var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while(fromRight?index--:++index<length){if(iteratee(iterable[index],index,iterable)===false){break}}return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}function createBaseWrapper(func,bitmask,thisArg){var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}return wrapper}function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=reHasComplexSymbol.test(string)?stringToArray(string):undefined;var chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?strSymbols.slice(1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string)),callback,"")}}function createCtorWrapper(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurryWrapper(func,bitmask,arity){var Ctor=createCtorWrapper(func);function wrapper(){var length=arguments.length,args=Array(length),index=length,placeholder=getPlaceholder(wrapper);while(index--){args[index]=arguments[index]}var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);length-=holders.length;if(length<arity){return createRecurryWrapper(func,bitmask,createHybridWrapper,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length)}var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args)}return wrapper}function createFlow(fromRight){return rest(function(funcs){funcs=baseFlatten(funcs,1);var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;if(fromRight){funcs.reverse()}while(index--){var func=funcs[index];if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(prereq&&!wrapper&&getFuncName(func)=="wrapper"){var wrapper=new LodashWrapper([],true)}}index=wrapper?index:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=="wrapper"?getData(func):undefined;if(data&&isLaziable(data[0])&&data[1]==(ARY_FLAG|CURRY_FLAG|PARTIAL_FLAG|REARG_FLAG)&&!data[4].length&&data[9]==1){wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3])}else{wrapper=func.length==1&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}}return function(){var args=arguments,value=args[0];if(wrapper&&args.length==1&&isArray(value)&&value.length>=LARGE_ARRAY_SIZE){return wrapper.plant(value).value()}var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length){result=funcs[index].call(this,result)}return result}})}function createHybridWrapper(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&ARY_FLAG,isBind=bitmask&BIND_FLAG,isBindKey=bitmask&BIND_KEY_FLAG,isCurried=bitmask&(CURRY_FLAG|CURRY_RIGHT_FLAG),isFlip=bitmask&FLIP_FLAG,Ctor=isBindKey?undefined:createCtorWrapper(func);function wrapper(){var length=arguments.length,index=length,args=Array(length);while(index--){args[index]=arguments[index]}if(isCurried){var placeholder=getPlaceholder(wrapper),holdersCount=countHolders(args,placeholder)}if(partials){args=composeArgs(args,partials,holders,isCurried)}if(partialsRight){args=composeArgsRight(args,partialsRight,holdersRight,isCurried)}length-=holdersCount;if(isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurryWrapper(func,bitmask,createHybridWrapper,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;length=args.length;if(argPos){args=reorder(args,argPos)}else if(isFlip&&length>1){args.reverse()}if(isAry&&ary<length){args.length=ary}if(this&&this!==root&&this instanceof wrapper){fn=Ctor||createCtorWrapper(fn)}return fn.apply(thisBinding,args)}return wrapper}function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{})}}function createOver(arrayFunc){return rest(function(iteratees){iteratees=arrayMap(baseFlatten(iteratees,1),getIteratee());return rest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}function createPadding(string,length,chars){length=toInteger(length);var strLength=stringSize(string);if(!length||strLength>=length){return""}var padLength=length-strLength;chars=chars===undefined?" ":chars+"";var result=repeat(chars,nativeCeil(padLength/stringSize(chars)));return reHasComplexSymbol.test(chars)?stringToArray(result).slice(0,padLength).join(""):result.slice(0,padLength)}function createPartialWrapper(func,bitmask,thisArg,partials){var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);function wrapper(){var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;while(++leftIndex<leftLength){args[leftIndex]=partials[leftIndex]}while(argsLength--){args[leftIndex++]=arguments[++argsIndex]}return apply(fn,isBind?thisArg:this,args)}return wrapper}function createRange(fromRight){return function(start,end,step){if(step&&typeof step!="number"&&isIterateeCall(start,end,step)){end=step=undefined}start=toNumber(start);start=start===start?start:0;if(end===undefined){end=start;start=0}else{end=toNumber(end)||0}step=step===undefined?start<end?1:-1:toNumber(step)||0;return baseRange(start,end,step,fromRight)}}function createRecurryWrapper(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&CURRY_FLAG,newArgPos=argPos?copyArray(argPos):undefined,newHolders=isCurry?holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=isCurry?PARTIAL_FLAG:PARTIAL_RIGHT_FLAG;bitmask&=~(isCurry?PARTIAL_RIGHT_FLAG:PARTIAL_FLAG);if(!(bitmask&CURRY_BOUND_FLAG)){bitmask&=~(BIND_FLAG|BIND_KEY_FLAG)}var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,newArgPos,ary,arity];var result=wrapFunc.apply(undefined,newData);if(isLaziable(func)){setData(result,newData)}result.placeholder=placeholder;return result}function createRound(methodName){var func=Math[methodName];return function(number,precision){number=toNumber(number);precision=toInteger(precision);if(precision){var pair=(toString(number)+"e").split("e"),value=func(pair[0]+"e"+(+pair[1]+precision));pair=(toString(value)+"e").split("e");return+(pair[0]+"e"+(+pair[1]-precision))}return func(number)}}var createSet=!(Set&&new Set([1,2]).size===2)?noop:function(values){return new Set(values)};function createWrapper(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&BIND_KEY_FLAG;if(!isBindKey&&typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var length=partials?partials.length:0;if(!length){bitmask&=~(PARTIAL_FLAG|PARTIAL_RIGHT_FLAG);partials=holders=undefined}ary=ary===undefined?ary:nativeMax(toInteger(ary),0);arity=arity===undefined?arity:toInteger(arity);length-=holders?holders.length:0;if(bitmask&PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func);var newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data){mergeData(newData,data)}func=newData[0];bitmask=newData[1];thisArg=newData[2];partials=newData[3];holders=newData[4];arity=newData[9]=newData[9]==null?isBindKey?0:func.length:nativeMax(newData[9]-length,0);if(!arity&&bitmask&(CURRY_FLAG|CURRY_RIGHT_FLAG)){bitmask&=~(CURRY_FLAG|CURRY_RIGHT_FLAG)}if(!bitmask||bitmask==BIND_FLAG){var result=createBaseWrapper(func,bitmask,thisArg)}else if(bitmask==CURRY_FLAG||bitmask==CURRY_RIGHT_FLAG){result=createCurryWrapper(func,bitmask,arity)}else if((bitmask==PARTIAL_FLAG||bitmask==(BIND_FLAG|PARTIAL_FLAG))&&!holders.length){result=createPartialWrapper(func,bitmask,thisArg,partials)}else{result=createHybridWrapper.apply(undefined,newData)}var setter=data?baseSetData:setData;return setter(result,newData)}function equalArrays(array,other,equalFunc,customizer,bitmask,stack){var index=-1,isPartial=bitmask&PARTIAL_COMPARE_FLAG,isUnordered=bitmask&UNORDERED_COMPARE_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength)){return false}var stacked=stack.get(array);if(stacked){return stacked==other}var result=true;stack.set(array,other);while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer){var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack)}if(compared!==undefined){if(compared){continue}result=false;break}if(isUnordered){if(!arraySome(other,function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,bitmask,stack)})){result=false;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,customizer,bitmask,stack))){result=false;break}}stack["delete"](array);return result}function equalByTag(object,other,tag,equalFunc,customizer,bitmask,stack){switch(tag){case arrayBufferTag:if(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other))){return false}return true;case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&PARTIAL_COMPARE_FLAG;convert||(convert=setToArray);if(object.size!=other.size&&!isPartial){return false}var stacked=stack.get(object);if(stacked){return stacked==other}return equalArrays(convert(object),convert(other),equalFunc,customizer,bitmask|UNORDERED_COMPARE_FLAG,stack.set(object,other));case symbolTag:if(symbolValueOf){return symbolValueOf.call(object)==symbolValueOf.call(other)}}return false}function equalObjects(object,other,equalFunc,customizer,bitmask,stack){var isPartial=bitmask&PARTIAL_COMPARE_FLAG,objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial){return false}var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:baseHas(other,key))){return false}}var stacked=stack.get(object);if(stacked){return stacked==other}var result=true;stack.set(object,other);var skipCtor=isPartial;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer){var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack)}if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,customizer,bitmask,stack):compared)){result=false;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)){result=false}}stack["delete"](object);return result}var getData=!metaMap?noop:function(func){return metaMap.get(func)};function getFuncName(func){var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func){return data.name}}return result}function getIteratee(){var result=lodash.iteratee||iteratee;result=result===iteratee?baseIteratee:result;return arguments.length?result(arguments[0],arguments[1]):result}var getLength=baseProperty("length");function getMatchData(object){var result=toPairs(object),length=result.length;while(length--){result[length][2]=isStrictComparable(result[length][1])}return result}function getNative(object,key){var value=object[key];return isNative(value)?value:undefined}function getPlaceholder(func){var object=hasOwnProperty.call(lodash,"placeholder")?lodash:func;return object.placeholder}var getSymbols=getOwnPropertySymbols||function(){return[]};function getTag(value){return objectToString.call(value)}if(Map&&getTag(new Map)!=mapTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag){getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:null,ctorString=typeof Ctor=="function"?funcToString.call(Ctor):"";if(ctorString){switch(ctorString){case mapCtorString:return mapTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}}return result}}function getView(start,end,transforms){var index=-1,length=transforms.length;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size);break}}return{start:start,end:end}}function hasPath(object,path,hasFunc){if(object==null){return false}var result=hasFunc(object,path);if(!result&&!isKey(path)){path=baseCastPath(path);object=parent(object,path);if(object!=null){path=last(path);result=hasFunc(object,path)}}var length=object?object.length:undefined;return result||!!length&&isLength(length)&&isIndex(path,length)&&(isArray(object)||isString(object)||isArguments(object))}function initCloneArray(array){var length=array.length,result=array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype(object)?baseCreate(getPrototypeOf(object)):{}}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return cloneMap(object);
case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return cloneSet(object);case symbolTag:return cloneSymbol(object)}}function indexKeys(object){var length=object?object.length:undefined;if(isLength(length)&&(isArray(object)||isString(object)||isArguments(object))){return baseTimes(length,String)}return null}function isIterateeCall(value,index,object){if(!isObject(object)){return false}var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){return eq(object[index],value)}return false}function isKey(value,object){if(typeof value=="number"){return true}return!isArray(value)&&(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object))}function isKeyable(value){var type=typeof value;return type=="number"||type=="boolean"||type=="string"&&value!="__proto__"||value==null}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if(typeof other!="function"||!(funcName in LazyWrapper.prototype)){return false}if(func===other){return true}var data=getData(other);return!!data&&func===data[0]}function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}function isStrictComparable(value){return value===value&&!isObject(value)}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(BIND_FLAG|BIND_KEY_FLAG|ARY_FLAG);var isCombo=srcBitmask==ARY_FLAG&&bitmask==CURRY_FLAG||srcBitmask==ARY_FLAG&&bitmask==REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(ARY_FLAG|REARG_FLAG)&&source[7].length<=source[8]&&bitmask==CURRY_FLAG;if(!(isCommon||isCombo)){return data}if(srcBitmask&BIND_FLAG){data[2]=source[2];newBitmask|=bitmask&BIND_FLAG?0:CURRY_BOUND_FLAG}var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):copyArray(value);data[4]=partials?replaceHolders(data[3],PLACEHOLDER):copyArray(source[4])}value=source[5];if(value){partials=data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):copyArray(value);data[6]=partials?replaceHolders(data[5],PLACEHOLDER):copyArray(source[6])}value=source[7];if(value){data[7]=copyArray(value)}if(srcBitmask&ARY_FLAG){data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8])}if(data[9]==null){data[9]=source[9]}data[0]=source[0];data[1]=newBitmask;return data}function mergeDefaults(objValue,srcValue,key,object,source,stack){if(isObject(objValue)&&isObject(srcValue)){baseMerge(objValue,srcValue,undefined,mergeDefaults,stack.set(srcValue,objValue))}return objValue}function parent(object,path){return path.length==1?object:get(object,baseSlice(path,0,-1))}function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}var setData=function(){var count=0,lastCalled=0;return function(key,value){var stamp=now(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return key}}else{count=0}return baseSetData(key,value)}}();function stringToPath(string){var result=[];toString(string).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)});return result}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper){return wrapper.clone()}var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);result.__actions__=copyArray(wrapper.__actions__);result.__index__=wrapper.__index__;result.__values__=wrapper.__values__;return result}function chunk(array,size){size=nativeMax(toInteger(size),0);var length=array?array.length:0;if(!length||size<1){return[]}var index=0,resIndex=0,result=Array(nativeCeil(length/size));while(index<length){result[resIndex++]=baseSlice(array,index,index+=size)}return result}function compact(array){var index=-1,length=array?array.length:0,resIndex=0,result=[];while(++index<length){var value=array[index];if(value){result[resIndex++]=value}}return result}var concat=rest(function(array,values){if(!isArray(array)){array=array==null?[]:[Object(array)]}values=baseFlatten(values,1);return arrayConcat(array,values)});var difference=rest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,true)):[]});var differenceBy=rest(function(array,values){var iteratee=last(values);if(isArrayLikeObject(iteratee)){iteratee=undefined}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,true),getIteratee(iteratee)):[]});var differenceWith=rest(function(array,values){var comparator=last(values);if(isArrayLikeObject(comparator)){comparator=undefined}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,true),undefined,comparator):[]});function drop(array,n,guard){var length=array?array.length:0;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,n<0?0:n,length)}function dropRight(array,n,guard){var length=array?array.length:0;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,0,n<0?0:n)}function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true,true):[]}function dropWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true):[]}function fill(array,value,start,end){var length=array?array.length:0;if(!length){return[]}if(start&&typeof start!="number"&&isIterateeCall(array,value,start)){start=0;end=length}return baseFill(array,value,start,end)}function findIndex(array,predicate){return array&&array.length?baseFindIndex(array,getIteratee(predicate,3)):-1}function findLastIndex(array,predicate){return array&&array.length?baseFindIndex(array,getIteratee(predicate,3),true):-1}function flatten(array){var length=array?array.length:0;return length?baseFlatten(array,1):[]}function flattenDeep(array){var length=array?array.length:0;return length?baseFlatten(array,INFINITY):[]}function flattenDepth(array,depth){var length=array?array.length:0;if(!length){return[]}depth=depth===undefined?1:toInteger(depth);return baseFlatten(array,depth)}function fromPairs(pairs){var index=-1,length=pairs?pairs.length:0,result={};while(++index<length){var pair=pairs[index];result[pair[0]]=pair[1]}return result}function head(array){return array?array[0]:undefined}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length){return-1}fromIndex=toInteger(fromIndex);if(fromIndex<0){fromIndex=nativeMax(length+fromIndex,0)}return baseIndexOf(array,value,fromIndex)}function initial(array){return dropRight(array,1)}var intersection=rest(function(arrays){var mapped=arrayMap(arrays,baseCastArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]});var intersectionBy=rest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,baseCastArrayLikeObject);if(iteratee===last(mapped)){iteratee=undefined}else{mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee)):[]});var intersectionWith=rest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,baseCastArrayLikeObject);if(comparator===last(mapped)){comparator=undefined}else{mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[]});function join(array,separator){return array?nativeJoin.call(array,separator):""}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array?array.length:0;if(!length){return-1}var index=length;if(fromIndex!==undefined){index=toInteger(fromIndex);index=(index<0?nativeMax(length+index,0):nativeMin(index,length-1))+1}if(value!==value){return indexOfNaN(array,index,true)}while(index--){if(array[index]===value){return index}}return-1}var pull=rest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee)):array}function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array}var pullAt=rest(function(array,indexes){indexes=arrayMap(baseFlatten(indexes,1),String);var result=baseAt(array,indexes);basePullAt(array,indexes.sort(compareAscending));return result});function remove(array,predicate){var result=[];if(!(array&&array.length)){return result}var index=-1,indexes=[],length=array.length;predicate=getIteratee(predicate,3);while(++index<length){var value=array[index];if(predicate(value,index,array)){result.push(value);indexes.push(index)}}basePullAt(array,indexes);return result}function reverse(array){return array?nativeReverse.call(array):array}function slice(array,start,end){var length=array?array.length:0;if(!length){return[]}if(end&&typeof end!="number"&&isIterateeCall(array,start,end)){start=0;end=length}else{start=start==null?0:toInteger(start);end=end===undefined?length:toInteger(end)}return baseSlice(array,start,end)}function sortedIndex(array,value){return baseSortedIndex(array,value)}function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee))}function sortedIndexOf(array,value){var length=array?array.length:0;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value)){return index}}return-1}function sortedLastIndex(array,value){return baseSortedIndex(array,value,true)}function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee),true)}function sortedLastIndexOf(array,value){var length=array?array.length:0;if(length){var index=baseSortedIndex(array,value,true)-1;if(eq(array[index],value)){return index}}return-1}function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[]}function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniqBy(array,getIteratee(iteratee)):[]}function tail(array){return drop(array,1)}function take(array,n,guard){if(!(array&&array.length)){return[]}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,0,n<0?0:n)}function takeRight(array,n,guard){var length=array?array.length:0;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,n<0?0:n,length)}function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),false,true):[]}function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]}var union=rest(function(arrays){return baseUniq(baseFlatten(arrays,1,true))});var unionBy=rest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined}return baseUniq(baseFlatten(arrays,1,true),getIteratee(iteratee))});var unionWith=rest(function(arrays){var comparator=last(arrays);if(isArrayLikeObject(comparator)){comparator=undefined}return baseUniq(baseFlatten(arrays,1,true),undefined,comparator)});function uniq(array){return array&&array.length?baseUniq(array):[]}function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee)):[]}function uniqWith(array,comparator){return array&&array.length?baseUniq(array,undefined,comparator):[]}function unzip(array){if(!(array&&array.length)){return[]}var length=0;array=arrayFilter(array,function(group){if(isArrayLikeObject(group)){length=nativeMax(group.length,length);return true}});return baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}function unzipWith(array,iteratee){if(!(array&&array.length)){return[]}var result=unzip(array);if(iteratee==null){return result}return arrayMap(result,function(group){return apply(iteratee,undefined,group)})}var without=rest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]});var xor=rest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))});var xorBy=rest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined}return baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee))});var xorWith=rest(function(arrays){var comparator=last(arrays);if(isArrayLikeObject(comparator)){comparator=undefined}return baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)});var zip=rest(unzip);function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet)}var zipWith=rest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;iteratee=typeof iteratee=="function"?(arrays.pop(),iteratee):undefined;return unzipWith(arrays,iteratee)});function chain(value){var result=lodash(value);result.__chain__=true;return result}function tap(value,interceptor){interceptor(value);return value}function thru(value,interceptor){return interceptor(value)}var wrapperAt=rest(function(paths){paths=baseFlatten(paths,1);var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};if(length>1||this.__actions__.length||!(value instanceof LazyWrapper)||!isIndex(start)){return this.thru(interceptor)}value=value.slice(start,+start+(length?1:0));value.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(value,this.__chain__).thru(function(array){if(length&&!array.length){array.push(undefined)}return array})});function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperFlatMap(iteratee){return this.map(iteratee).flatten()}function wrapperNext(){if(this.__values__===undefined){this.__values__=toArray(this.value())}var done=this.__index__>=this.__values__.length,value=done?undefined:this.__values__[this.__index__++];return{done:done,value:value}}function wrapperToIterator(){return this}function wrapperPlant(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);clone.__index__=0;clone.__values__=undefined;if(result){previous.__wrapped__=clone}else{result=clone}var previous=clone;parent=parent.__wrapped__}previous.__wrapped__=value;return result}function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;if(this.__actions__.length){wrapped=new LazyWrapper(this)}wrapped=wrapped.reverse();wrapped.__actions__.push({func:thru,args:[reverse],thisArg:undefined});return new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}var countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:result[key]=1});function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined}return func(collection,getIteratee(predicate,3))}function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,getIteratee(predicate,3))}function find(collection,predicate){predicate=getIteratee(predicate,3);if(isArray(collection)){var index=baseFindIndex(collection,predicate);return index>-1?collection[index]:undefined}return baseFind(collection,predicate,baseEach)}function findLast(collection,predicate){predicate=getIteratee(predicate,3);if(isArray(collection)){var index=baseFindIndex(collection,predicate,true);return index>-1?collection[index]:undefined}return baseFind(collection,predicate,baseEachRight)}function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}function forEach(collection,iteratee){return typeof iteratee=="function"&&isArray(collection)?arrayEach(collection,iteratee):baseEach(collection,baseCastFunction(iteratee))}function forEachRight(collection,iteratee){return typeof iteratee=="function"&&isArray(collection)?arrayEachRight(collection,iteratee):baseEachRight(collection,baseCastFunction(iteratee))}var groupBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){result[key].push(value)}else{result[key]=[value]}});function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection);fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;if(fromIndex<0){fromIndex=nativeMax(length+fromIndex,0)}return isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1}var invokeMap=rest(function(collection,path,args){var index=-1,isFunc=typeof path=="function",isProp=isKey(path),result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value){var func=isFunc?path:isProp&&value!=null?value[path]:undefined;result[++index]=func?apply(func,value,args):baseInvoke(value,path,args)});return result});var keyBy=createAggregator(function(result,value,key){result[key]=value});function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,getIteratee(iteratee,3))}function orderBy(collection,iteratees,orders,guard){if(collection==null){return[]}if(!isArray(iteratees)){iteratees=iteratees==null?[]:[iteratees]}orders=guard?undefined:orders;if(!isArray(orders)){orders=orders==null?[]:[orders]}return baseOrderBy(collection,iteratees,orders)}var partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]});function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)}function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)}function reject(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;predicate=getIteratee(predicate,3);return func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function sample(collection){var array=isArrayLike(collection)?collection:values(collection),length=array.length;return length>0?array[baseRandom(0,length-1)]:undefined}function sampleSize(collection,n){var index=-1,result=toArray(collection),length=result.length,lastIndex=length-1;n=baseClamp(toInteger(n),0,length);while(++index<n){var rand=baseRandom(index,lastIndex),value=result[rand];result[rand]=result[index];result[index]=value}result.length=n;return result}function shuffle(collection){return sampleSize(collection,MAX_ARRAY_LENGTH)}function size(collection){if(collection==null){return 0}if(isArrayLike(collection)){var result=collection.length;return result&&isString(collection)?stringSize(collection):result}return keys(collection).length}function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined}return func(collection,getIteratee(predicate,3))}var sortBy=rest(function(collection,iteratees){if(collection==null){return[]}var length=iteratees.length;if(length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])){iteratees=[]}else if(length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])){iteratees.length=1}return baseOrderBy(collection,baseFlatten(iteratees,1),[])});var now=Date.now;function after(n,func){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(--n<1){return func.apply(this,arguments)}}}function ary(func,n,guard){n=guard?undefined:n;n=func&&n==null?func.length:n;return createWrapper(func,ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(--n>0){result=func.apply(this,arguments)}if(n<=1){func=undefined}return result}}var bind=rest(function(func,thisArg,partials){var bitmask=BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getPlaceholder(bind));bitmask|=PARTIAL_FLAG}return createWrapper(func,bitmask,thisArg,partials,holders)});var bindKey=rest(function(object,key,partials){var bitmask=BIND_FLAG|BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getPlaceholder(bindKey));bitmask|=PARTIAL_FLAG}return createWrapper(key,bitmask,object,partials,holders)});function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrapper(func,CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curry.placeholder;return result}function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrapper(func,CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curryRight.placeholder;return result}function debounce(func,wait,options){var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,leading=false,maxWait=false,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxWait="maxWait"in options&&nativeMax(toNumber(options.maxWait)||0,wait);trailing="trailing"in options?!!options.trailing:trailing}function cancel(){if(timeoutId){clearTimeout(timeoutId)}if(maxTimeoutId){clearTimeout(maxTimeoutId)}lastCalled=0;args=maxTimeoutId=thisArg=timeoutId=trailingCall=undefined}function complete(isCalled,id){if(id){clearTimeout(id)}maxTimeoutId=timeoutId=trailingCall=undefined;if(isCalled){lastCalled=now();result=func.apply(thisArg,args);if(!timeoutId&&!maxTimeoutId){args=thisArg=undefined}}}function delayed(){var remaining=wait-(now()-stamp);if(remaining<=0||remaining>wait){complete(trailingCall,maxTimeoutId)}else{timeoutId=setTimeout(delayed,remaining)}}function flush(){if(timeoutId&&trailingCall||maxTimeoutId&&trailing){result=func.apply(thisArg,args)}cancel();return result}function maxDelayed(){complete(trailing,timeoutId)}function debounced(){args=arguments;stamp=now();thisArg=this;trailingCall=trailing&&(timeoutId||!leading);if(maxWait===false){var leadingCall=leading&&!timeoutId}else{if(!lastCalled&&!maxTimeoutId&&!leading){lastCalled=stamp}var remaining=maxWait-(stamp-lastCalled);var isCalled=(remaining<=0||remaining>maxWait)&&(leading||maxTimeoutId);if(isCalled){if(maxTimeoutId){maxTimeoutId=clearTimeout(maxTimeoutId)}lastCalled=stamp;result=func.apply(thisArg,args)}else if(!maxTimeoutId){maxTimeoutId=setTimeout(maxDelayed,remaining)}}if(isCalled&&timeoutId){timeoutId=clearTimeout(timeoutId)}else if(!timeoutId&&wait!==maxWait){timeoutId=setTimeout(delayed,wait)}if(leadingCall){isCalled=true;result=func.apply(thisArg,args)}if(isCalled&&!timeoutId&&!maxTimeoutId){args=thisArg=undefined}return result}debounced.cancel=cancel;debounced.flush=flush;return debounced}var defer=rest(function(func,args){return baseDelay(func,1,args)});var delay=rest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)});function flip(func){return createWrapper(func,FLIP_FLAG)}function memoize(func,resolver){if(typeof func!="function"||resolver&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result);return result};memoized.cache=new memoize.Cache;return memoized}function negate(predicate){if(typeof predicate!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return function(){return!predicate.apply(this,arguments)}}function once(func){return before(2,func)}var overArgs=rest(function(func,transforms){transforms=arrayMap(baseFlatten(transforms,1),getIteratee());var funcsLength=transforms.length;return rest(function(args){var index=-1,length=nativeMin(args.length,funcsLength);while(++index<length){args[index]=transforms[index].call(this,args[index])}return apply(func,this,args)})});var partial=rest(function(func,partials){var holders=replaceHolders(partials,getPlaceholder(partial));return createWrapper(func,PARTIAL_FLAG,undefined,partials,holders)});var partialRight=rest(function(func,partials){var holders=replaceHolders(partials,getPlaceholder(partialRight));return createWrapper(func,PARTIAL_RIGHT_FLAG,undefined,partials,holders)});var rearg=rest(function(func,indexes){return createWrapper(func,REARG_FLAG,undefined,undefined,undefined,baseFlatten(indexes,1))});function rest(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=nativeMax(start===undefined?func.length-1:toInteger(start),0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index]}switch(start){case 0:return func.call(this,array);case 1:return func.call(this,args[0],array);case 2:return func.call(this,args[0],args[1],array)}var otherArgs=Array(start+1);index=-1;while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=array;return apply(func,this,otherArgs)}}function spread(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=start===undefined?0:nativeMax(toInteger(start),0);return rest(function(args){var array=args[start],otherArgs=args.slice(0,start);if(array){arrayPush(otherArgs,array)}return apply(func,this,otherArgs)})}function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(isObject(options)){leading="leading"in options?!!options.leading:leading;trailing="trailing"in options?!!options.trailing:trailing}return debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}function unary(func){return ary(func,1)}function wrap(value,wrapper){wrapper=wrapper==null?identity:wrapper;return partial(wrapper,value)}function castArray(){if(!arguments.length){return[]}var value=arguments[0];return isArray(value)?value:[value]}function clone(value){return baseClone(value,false,true)}function cloneWith(value,customizer){return baseClone(value,false,true,customizer)}function cloneDeep(value){return baseClone(value,true,true)}function cloneDeepWith(value,customizer){return baseClone(value,true,true,customizer)}function eq(value,other){return value===other||value!==value&&other!==other}function gt(value,other){return value>other}function gte(value,other){return value>=other}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}var isArray=Array.isArray;function isArrayBuffer(value){return isObjectLike(value)&&objectToString.call(value)==arrayBufferTag}function isArrayLike(value){return value!=null&&isLength(getLength(value))&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isBoolean(value){return value===true||value===false||isObjectLike(value)&&objectToString.call(value)==boolTag}var isBuffer=!Buffer?constant(false):function(value){return value instanceof Buffer};function isDate(value){return isObjectLike(value)&&objectToString.call(value)==dateTag}function isElement(value){return!!value&&value.nodeType===1&&isObjectLike(value)&&!isPlainObject(value)}function isEmpty(value){if(isArrayLike(value)&&(isArray(value)||isString(value)||isFunction(value.splice)||isArguments(value))){return!value.length}for(var key in value){if(hasOwnProperty.call(value,key)){return false}}return true}function isEqual(value,other){return baseIsEqual(value,other)}function isEqualWith(value,other,customizer){customizer=typeof customizer=="function"?customizer:undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,customizer):!!result}function isError(value){if(!isObjectLike(value)){return false}return objectToString.call(value)==errorTag||typeof value.message=="string"&&typeof value.name=="string"}function isFinite(value){return typeof value=="number"&&nativeIsFinite(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isInteger(value){return typeof value=="number"&&value==toInteger(value)}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isObjectLike(value){return!!value&&typeof value=="object"}function isMap(value){return isObjectLike(value)&&getTag(value)==mapTag}function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))}function isMatchWith(object,source,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseIsMatch(object,source,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){if(value==null){return false}if(isFunction(value)){return reIsNative.test(funcToString.call(value))}return isObjectLike(value)&&(isHostObject(value)?reIsNative:reIsHostCtor).test(value)}function isNull(value){return value===null}function isNil(value){return value==null}function isNumber(value){return typeof value=="number"||isObjectLike(value)&&objectToString.call(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||objectToString.call(value)!=objectTag||isHostObject(value)){return false}var proto=getPrototypeOf(value);if(proto===null){return true}var Ctor=proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}function isRegExp(value){return isObject(value)&&objectToString.call(value)==regexpTag}function isSafeInteger(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER}function isSet(value){return isObjectLike(value)&&getTag(value)==setTag}function isString(value){return typeof value=="string"||!isArray(value)&&isObjectLike(value)&&objectToString.call(value)==stringTag}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&objectToString.call(value)==symbolTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objectToString.call(value)]}function isUndefined(value){return value===undefined}function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag}function isWeakSet(value){return isObjectLike(value)&&objectToString.call(value)==weakSetTag}function lt(value,other){return value<other}function lte(value,other){return value<=other}function toArray(value){if(!value){return[]}if(isArrayLike(value)){return isString(value)?stringToArray(value):copyArray(value)}if(iteratorSymbol&&value[iteratorSymbol]){return iteratorToArray(value[iteratorSymbol]())}var tag=getTag(value),func=tag==mapTag?mapToArray:tag==setTag?setToArray:values;return func(value)}function toInteger(value){if(!value){return value===0?value:0}value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}var remainder=value%1;return value===value?remainder?value-remainder:value:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if(isObject(value)){var other=isFunction(value.valueOf)?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string"){return value===0?value:+value;
}value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toSafeInteger(value){return baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER)}function toString(value){if(typeof value=="string"){return value}if(value==null){return""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}var assign=createAssigner(function(object,source){if(nonEnumShadows||isPrototype(source)||isArrayLike(source)){copyObject(source,keys(source),object);return}for(var key in source){if(hasOwnProperty.call(source,key)){assignValue(object,key,source[key])}}});var assignIn=createAssigner(function(object,source){if(nonEnumShadows||isPrototype(source)||isArrayLike(source)){copyObject(source,keysIn(source),object);return}for(var key in source){assignValue(object,key,source[key])}});var assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObjectWith(source,keysIn(source),object,customizer)});var assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObjectWith(source,keys(source),object,customizer)});var at=rest(function(object,paths){return baseAt(object,baseFlatten(paths,1))});function create(prototype,properties){var result=baseCreate(prototype);return properties?baseAssign(result,properties):result}var defaults=rest(function(args){args.push(undefined,assignInDefaults);return apply(assignInWith,undefined,args)});var defaultsDeep=rest(function(args){args.push(undefined,mergeDefaults);return apply(mergeWith,undefined,args)});function findKey(object,predicate){return baseFind(object,getIteratee(predicate,3),baseForOwn,true)}function findLastKey(object,predicate){return baseFind(object,getIteratee(predicate,3),baseForOwnRight,true)}function forIn(object,iteratee){return object==null?object:baseFor(object,baseCastFunction(iteratee),keysIn)}function forInRight(object,iteratee){return object==null?object:baseForRight(object,baseCastFunction(iteratee),keysIn)}function forOwn(object,iteratee){return object&&baseForOwn(object,baseCastFunction(iteratee))}function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,baseCastFunction(iteratee))}function functions(object){return object==null?[]:baseFunctions(object,keys(object))}function functionsIn(object){return object==null?[]:baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function has(object,path){return hasPath(object,path,baseHas)}function hasIn(object,path){return hasPath(object,path,baseHasIn)}var invert=createInverter(function(result,value,key){result[value]=key},constant(identity));var invertBy=createInverter(function(result,value,key){if(hasOwnProperty.call(result,value)){result[value].push(key)}else{result[value]=[key]}},getIteratee);var invoke=rest(baseInvoke);function keys(object){var isProto=isPrototype(object);if(!(isProto||isArrayLike(object))){return baseKeys(object)}var indexes=indexKeys(object),skipIndexes=!!indexes,result=indexes||[],length=result.length;for(var key in object){if(baseHas(object,key)&&!(skipIndexes&&(key=="length"||isIndex(key,length)))&&!(isProto&&key=="constructor")){result.push(key)}}return result}function keysIn(object){var index=-1,isProto=isPrototype(object),props=baseKeysIn(object),propsLength=props.length,indexes=indexKeys(object),skipIndexes=!!indexes,result=indexes||[],length=result.length;while(++index<propsLength){var key=props[index];if(!(skipIndexes&&(key=="length"||isIndex(key,length)))&&!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}function mapKeys(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){result[iteratee(value,key,object)]=value});return result}function mapValues(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){result[key]=iteratee(value,key,object)});return result}var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)});var mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)});var omit=rest(function(object,props){if(object==null){return{}}props=arrayMap(baseFlatten(props,1),String);return basePick(object,baseDifference(keysIn(object),props))});function omitBy(object,predicate){predicate=getIteratee(predicate);return basePickBy(object,function(value,key){return!predicate(value,key)})}var pick=rest(function(object,props){return object==null?{}:basePick(object,baseFlatten(props,1))});function pickBy(object,predicate){return object==null?{}:basePickBy(object,getIteratee(predicate))}function result(object,path,defaultValue){if(!isKey(path,object)){path=baseCastPath(path);var result=get(object,path);object=parent(object,path)}else{result=object==null?undefined:object[path]}if(result===undefined){result=defaultValue}return isFunction(result)?result.call(object):result}function set(object,path,value){return object==null?object:baseSet(object,path,value)}function setWith(object,path,value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer)}function toPairs(object){return baseToPairs(object,keys(object))}function toPairsIn(object){return baseToPairs(object,keysIn(object))}function transform(object,iteratee,accumulator){var isArr=isArray(object)||isTypedArray(object);iteratee=getIteratee(iteratee,4);if(accumulator==null){if(isArr||isObject(object)){var Ctor=object.constructor;if(isArr){accumulator=isArray(object)?new Ctor:[]}else{accumulator=isFunction(Ctor)?baseCreate(getPrototypeOf(object)):{}}}else{accumulator={}}}(isArr?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)});return accumulator}function unset(object,path){return object==null?true:baseUnset(object,path)}function update(object,path,updater){return object==null?object:baseUpdate(object,path,baseCastFunction(updater))}function updateWith(object,path,updater,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseUpdate(object,path,baseCastFunction(updater),customizer)}function values(object){return object?baseValues(object,keys(object)):[]}function valuesIn(object){return object==null?[]:baseValues(object,keysIn(object))}function clamp(number,lower,upper){if(upper===undefined){upper=lower;lower=undefined}if(upper!==undefined){upper=toNumber(upper);upper=upper===upper?upper:0}if(lower!==undefined){lower=toNumber(lower);lower=lower===lower?lower:0}return baseClamp(toNumber(number),lower,upper)}function inRange(number,start,end){start=toNumber(start)||0;if(end===undefined){end=start;start=0}else{end=toNumber(end)||0}number=toNumber(number);return baseInRange(number,start,end)}function random(lower,upper,floating){if(floating&&typeof floating!="boolean"&&isIterateeCall(lower,upper,floating)){upper=floating=undefined}if(floating===undefined){if(typeof upper=="boolean"){floating=upper;upper=undefined}else if(typeof lower=="boolean"){floating=lower;lower=undefined}}if(lower===undefined&&upper===undefined){lower=0;upper=1}else{lower=toNumber(lower)||0;if(upper===undefined){upper=lower;lower=0}else{upper=toNumber(upper)||0}}if(lower>upper){var temp=lower;lower=upper;upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)}var camelCase=createCompounder(function(result,word,index){word=word.toLowerCase();return result+(index?capitalize(word):word)});function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){string=toString(string);return string&&string.replace(reLatin1,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=toString(string);target=typeof target=="string"?target:target+"";var length=string.length;position=position===undefined?length:baseClamp(toInteger(position),0,length);position-=target.length;return position>=0&&string.indexOf(target,position)==position}function escape(string){string=toString(string);return string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){string=toString(string);return string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()});var lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()});var lowerFirst=createCaseFirst("toLowerCase");var upperFirst=createCaseFirst("toUpperCase");function pad(string,length,chars){string=toString(string);length=toInteger(length);var strLength=stringSize(string);if(!length||strLength>=length){return string}var mid=(length-strLength)/2,leftLength=nativeFloor(mid),rightLength=nativeCeil(mid);return createPadding("",leftLength,chars)+string+createPadding("",rightLength,chars)}function padEnd(string,length,chars){string=toString(string);return string+createPadding(string,length,chars)}function padStart(string,length,chars){string=toString(string);return createPadding(string,length,chars)+string}function parseInt(string,radix,guard){if(guard||radix==null){radix=0}else if(radix){radix=+radix}string=toString(string).replace(reTrim,"");return nativeParseInt(string,radix||(reHasHexPrefix.test(string)?16:10))}function repeat(string,n){string=toString(string);n=toInteger(n);var result="";if(!string||n<1||n>MAX_SAFE_INTEGER){return result}do{if(n%2){result+=string}n=nativeFloor(n/2);string+=string}while(n);return result}function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])}var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()});function split(string,separator,limit){return toString(string).split(separator,limit)}var startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+capitalize(word)});function startsWith(string,target,position){string=toString(string);position=baseClamp(toInteger(position),0,string.length);return string.lastIndexOf(target,position)==position}function template(string,options,guard){var settings=lodash.templateSettings;if(guard&&isIterateeCall(string,options,guard)){options=undefined}string=toString(string);options=assignInWith({},options,settings,assignInDefaults);var imports=assignInWith({},options.imports,settings.imports,assignInDefaults),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys);var isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '";var reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");var sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){isEscaping=true;source+="' +\n__e("+escapeValue+") +\n'"}if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p += '"}if(interpolateValue){source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"}index=offset+match.length;return match});source+="';\n";var variable=options.variable;if(!variable){source="with (obj) {\n"+source+"\n}\n"}source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;");source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});result.source=source;if(isError(result)){throw result}return result}function toLower(value){return toString(value).toLowerCase()}function toUpper(value){return toString(value).toUpperCase()}function trim(string,chars,guard){string=toString(string);if(!string){return string}if(guard||chars===undefined){return string.replace(reTrim,"")}chars=chars+"";if(!chars){return string}var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars);return strSymbols.slice(charsStartIndex(strSymbols,chrSymbols),charsEndIndex(strSymbols,chrSymbols)+1).join("")}function trimEnd(string,chars,guard){string=toString(string);if(!string){return string}if(guard||chars===undefined){return string.replace(reTrimEnd,"")}chars=chars+"";if(!chars){return string}var strSymbols=stringToArray(string);return strSymbols.slice(0,charsEndIndex(strSymbols,stringToArray(chars))+1).join("")}function trimStart(string,chars,guard){string=toString(string);if(!string){return string}if(guard||chars===undefined){return string.replace(reTrimStart,"")}chars=chars+"";if(!chars){return string}var strSymbols=stringToArray(string);return strSymbols.slice(charsStartIndex(strSymbols,stringToArray(chars))).join("")}function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length;omission="omission"in options?toString(options.omission):omission}string=toString(string);var strLength=string.length;if(reHasComplexSymbol.test(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength){return string}var end=length-stringSize(omission);if(end<1){return omission}var result=strSymbols?strSymbols.slice(0,end).join(""):string.slice(0,end);if(separator===undefined){return result+omission}if(strSymbols){end+=result.length-end}if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;if(!separator.global){separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")}separator.lastIndex=0;while(match=separator.exec(substring)){var newEnd=match.index}result=result.slice(0,newEnd===undefined?end:newEnd)}}else if(string.indexOf(separator,end)!=end){var index=result.lastIndexOf(separator);if(index>-1){result=result.slice(0,index)}}return result+omission}function unescape(string){string=toString(string);return string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}var upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()});function words(string,pattern,guard){string=toString(string);pattern=guard?undefined:pattern;if(pattern===undefined){pattern=reHasComplexWord.test(string)?reComplexWord:reBasicWord}return string.match(pattern)||[]}var attempt=rest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}});var bindAll=rest(function(object,methodNames){arrayEach(baseFlatten(methodNames,1),function(key){object[key]=bind(object[key],object)});return object});function cond(pairs){var length=pairs?pairs.length:0,toIteratee=getIteratee();pairs=!length?[]:arrayMap(pairs,function(pair){if(typeof pair[1]!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return[toIteratee(pair[0]),pair[1]]});return rest(function(args){var index=-1;while(++index<length){var pair=pairs[index];if(apply(pair[0],this,args)){return apply(pair[1],this,args)}}})}function conforms(source){return baseConforms(baseClone(source,true))}function constant(value){return function(){return value}}var flow=createFlow();var flowRight=createFlow(true);function identity(value){return value}function iteratee(func){return baseIteratee(typeof func=="function"?func:baseClone(func,true))}function matches(source){return baseMatches(baseClone(source,true))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,true))}var method=rest(function(path,args){return function(object){return baseInvoke(object,path,args)}});var methodOf=rest(function(object,args){return function(path){return baseInvoke(object,path,args)}});function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);if(options==null&&!(isObject(source)&&(methodNames.length||!props.length))){options=source;source=object;object=this;methodNames=baseFunctions(source,keys(source))}var chain=isObject(options)&&"chain"in options?options.chain:true,isFunc=isFunction(object);arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func;if(isFunc){object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);actions.push({func:func,args:arguments,thisArg:object});result.__chain__=chainAll;return result}return func.apply(object,arrayPush([this.value()],arguments))}}});return object}function noConflict(){if(root._===this){root._=oldDash}return this}function noop(){}function nthArg(n){n=toInteger(n);return function(){return arguments[n]}}var over=createOver(arrayMap);var overEvery=createOver(arrayEvery);var overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}function propertyOf(object){return function(path){return object==null?undefined:baseGet(object,path)}}var range=createRange();var rangeRight=createRange(true);function times(n,iteratee){n=toInteger(n);if(n<1||n>MAX_SAFE_INTEGER){return[]}var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=baseCastFunction(iteratee);n-=MAX_ARRAY_LENGTH;var result=baseTimes(length,iteratee);while(++index<n){iteratee(index)}return result}function toPath(value){return isArray(value)?arrayMap(value,String):stringToPath(value)}function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}function add(augend,addend){var result;if(augend===undefined&&addend===undefined){return 0}if(augend!==undefined){result=augend}if(addend!==undefined){result=result===undefined?addend:result+addend}return result}var ceil=createRound("ceil");var floor=createRound("floor");function max(array){return array&&array.length?baseExtremum(array,identity,gt):undefined}function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee),gt):undefined}function mean(array){return sum(array)/(array?array.length:0)}function min(array){return array&&array.length?baseExtremum(array,identity,lt):undefined}function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee),lt):undefined}var round=createRound("round");function subtract(minuend,subtrahend){var result;if(minuend===undefined&&subtrahend===undefined){return 0}if(minuend!==undefined){result=minuend}if(subtrahend!==undefined){result=result===undefined?subtrahend:result-subtrahend}return result}function sum(array){return array&&array.length?baseSum(array,identity):0}function sumBy(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee)):0}lodash.prototype=baseLodash.prototype;lodash.prototype.constructor=lodash;LodashWrapper.prototype=baseCreate(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;Hash.prototype=nativeCreate?nativeCreate(null):objectProto;MapCache.prototype.clear=mapClear;MapCache.prototype["delete"]=mapDelete;MapCache.prototype.get=mapGet;MapCache.prototype.has=mapHas;MapCache.prototype.set=mapSet;SetCache.prototype.push=cachePush;Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;memoize.Cache=MapCache;lodash.after=after;lodash.ary=ary;lodash.assign=assign;lodash.assignIn=assignIn;lodash.assignInWith=assignInWith;lodash.assignWith=assignWith;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.castArray=castArray;lodash.chain=chain;lodash.chunk=chunk;lodash.compact=compact;lodash.concat=concat;lodash.cond=cond;lodash.conforms=conforms;lodash.constant=constant;lodash.countBy=countBy;lodash.create=create;lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defaultsDeep=defaultsDeep;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.differenceBy=differenceBy;lodash.differenceWith=differenceWith;lodash.drop=drop;lodash.dropRight=dropRight;lodash.dropRightWhile=dropRightWhile;lodash.dropWhile=dropWhile;lodash.fill=fill;lodash.filter=filter;lodash.flatMap=flatMap;lodash.flatten=flatten;lodash.flattenDeep=flattenDeep;lodash.flattenDepth=flattenDepth;lodash.flip=flip;lodash.flow=flow;lodash.flowRight=flowRight;lodash.fromPairs=fromPairs;lodash.functions=functions;lodash.functionsIn=functionsIn;lodash.groupBy=groupBy;lodash.initial=initial;lodash.intersection=intersection;lodash.intersectionBy=intersectionBy;lodash.intersectionWith=intersectionWith;lodash.invert=invert;lodash.invertBy=invertBy;lodash.invokeMap=invokeMap;lodash.iteratee=iteratee;lodash.keyBy=keyBy;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=mapKeys;lodash.mapValues=mapValues;lodash.matches=matches;lodash.matchesProperty=matchesProperty;lodash.memoize=memoize;lodash.merge=merge;lodash.mergeWith=mergeWith;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.negate=negate;lodash.nthArg=nthArg;lodash.omit=omit;lodash.omitBy=omitBy;lodash.once=once;lodash.orderBy=orderBy;lodash.over=over;lodash.overArgs=overArgs;lodash.overEvery=overEvery;lodash.overSome=overSome;lodash.partial=partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pickBy=pickBy;lodash.property=property;lodash.propertyOf=propertyOf;lodash.pull=pull;lodash.pullAll=pullAll;lodash.pullAllBy=pullAllBy;lodash.pullAllWith=pullAllWith;lodash.pullAt=pullAt;lodash.range=range;lodash.rangeRight=rangeRight;lodash.rearg=rearg;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.reverse=reverse;lodash.sampleSize=sampleSize;lodash.set=set;lodash.setWith=setWith;lodash.shuffle=shuffle;lodash.slice=slice;lodash.sortBy=sortBy;lodash.sortedUniq=sortedUniq;lodash.sortedUniqBy=sortedUniqBy;lodash.split=split;lodash.spread=spread;lodash.tail=tail;lodash.take=take;lodash.takeRight=takeRight;lodash.takeRightWhile=takeRightWhile;lodash.takeWhile=takeWhile;lodash.tap=tap;lodash.throttle=throttle;lodash.thru=thru;lodash.toArray=toArray;lodash.toPairs=toPairs;lodash.toPairsIn=toPairsIn;lodash.toPath=toPath;lodash.toPlainObject=toPlainObject;lodash.transform=transform;lodash.unary=unary;lodash.union=union;lodash.unionBy=unionBy;lodash.unionWith=unionWith;lodash.uniq=uniq;lodash.uniqBy=uniqBy;lodash.uniqWith=uniqWith;lodash.unset=unset;lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.update=update;lodash.updateWith=updateWith;lodash.values=values;lodash.valuesIn=valuesIn;lodash.without=without;lodash.words=words;lodash.wrap=wrap;lodash.xor=xor;lodash.xorBy=xorBy;lodash.xorWith=xorWith;lodash.zip=zip;lodash.zipObject=zipObject;lodash.zipObjectDeep=zipObjectDeep;lodash.zipWith=zipWith;lodash.extend=assignIn;lodash.extendWith=assignInWith;mixin(lodash,lodash);lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.ceil=ceil;lodash.clamp=clamp;lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.cloneDeepWith=cloneDeepWith;lodash.cloneWith=cloneWith;lodash.deburr=deburr;lodash.endsWith=endsWith;lodash.eq=eq;lodash.escape=escape;lodash.escapeRegExp=escapeRegExp;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.floor=floor;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=has;lodash.hasIn=hasIn;lodash.head=head;lodash.identity=identity;lodash.includes=includes;lodash.indexOf=indexOf;lodash.inRange=inRange;lodash.invoke=invoke;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isArrayBuffer=isArrayBuffer;lodash.isArrayLike=isArrayLike;lodash.isArrayLikeObject=isArrayLikeObject;lodash.isBoolean=isBoolean;lodash.isBuffer=isBuffer;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isEqualWith=isEqualWith;lodash.isError=isError;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isInteger=isInteger;lodash.isLength=isLength;lodash.isMap=isMap;lodash.isMatch=isMatch;lodash.isMatchWith=isMatchWith;lodash.isNaN=isNaN;lodash.isNative=isNative;lodash.isNil=isNil;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isObjectLike=isObjectLike;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isSafeInteger=isSafeInteger;lodash.isSet=isSet;lodash.isString=isString;lodash.isSymbol=isSymbol;lodash.isTypedArray=isTypedArray;lodash.isUndefined=isUndefined;lodash.isWeakMap=isWeakMap;lodash.isWeakSet=isWeakSet;lodash.join=join;lodash.kebabCase=kebabCase;lodash.last=last;lodash.lastIndexOf=lastIndexOf;lodash.lowerCase=lowerCase;lodash.lowerFirst=lowerFirst;lodash.lt=lt;lodash.lte=lte;lodash.max=max;lodash.maxBy=maxBy;lodash.mean=mean;lodash.min=min;lodash.minBy=minBy;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.pad=pad;lodash.padEnd=padEnd;lodash.padStart=padStart;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.repeat=repeat;lodash.replace=replace;lodash.result=result;lodash.round=round;lodash.runInContext=runInContext;lodash.sample=sample;lodash.size=size;lodash.snakeCase=snakeCase;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.sortedIndexBy=sortedIndexBy;lodash.sortedIndexOf=sortedIndexOf;lodash.sortedLastIndex=sortedLastIndex;lodash.sortedLastIndexBy=sortedLastIndexBy;lodash.sortedLastIndexOf=sortedLastIndexOf;lodash.startCase=startCase;lodash.startsWith=startsWith;lodash.subtract=subtract;lodash.sum=sum;lodash.sumBy=sumBy;lodash.template=template;lodash.times=times;lodash.toInteger=toInteger;lodash.toLength=toLength;lodash.toLower=toLower;lodash.toNumber=toNumber;lodash.toSafeInteger=toSafeInteger;lodash.toString=toString;lodash.toUpper=toUpper;lodash.trim=trim;lodash.trimEnd=trimEnd;lodash.trimStart=trimStart;lodash.truncate=truncate;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.upperCase=upperCase;lodash.upperFirst=upperFirst;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.first=head;mixin(lodash,function(){var source={};baseForOwn(lodash,function(func,methodName){if(!hasOwnProperty.call(lodash.prototype,methodName)){source[methodName]=func}});return source}(),{chain:false});lodash.VERSION=VERSION;arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash});arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){var filtered=this.__filtered__;if(filtered&&!index){return new LazyWrapper(this)}n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.clone();if(filtered){result.__takeCount__=nativeMin(n,result.__takeCount__)}else{result.__views__.push({size:nativeMin(n,MAX_ARRAY_LENGTH),type:methodName+(result.__dir__<0?"Right":"")})}return result};LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}});arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||type==LAZY_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type});result.__filtered__=result.__filtered__||isFilter;return result}});arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}});arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}});LazyWrapper.prototype.compact=function(){return this.filter(identity)};LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()};LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)};LazyWrapper.prototype.invokeMap=rest(function(path,args){if(typeof path=="function"){return new LazyWrapper(this)}return this.map(function(value){return baseInvoke(value,path,args)})});LazyWrapper.prototype.reject=function(predicate){predicate=getIteratee(predicate,3);return this.filter(function(value){return!predicate(value)})};LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;if(result.__filtered__&&(start>0||end<0)){return new LazyWrapper(result)}if(start<0){result=result.takeRight(-start)}else if(start){result=result.drop(start)}if(end!==undefined){end=toInteger(end);result=end<0?result.dropRight(-end):result.take(end-start)}return result};LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()};LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)};baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+(methodName=="last"?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);if(!lodashFunc){return}lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);var interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};if(useLazy&&checkIteratee&&typeof iteratee=="function"&&iteratee.length!=1){isLazy=useLazy=false}var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);result.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(result,chainAll)}if(isUnwrapped&&onlyLazy){return func.apply(this,args)}result=this.thru(interceptor);return isUnwrapped?isTaker?result.value()[0]:result.value():result}});arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){return func.apply(this.value(),args)}return this[chainName](function(value){return func.apply(value,args)})}});baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"",names=realNames[key]||(realNames[key]=[]);
names.push({name:methodName,func:lodashFunc})}});realNames[createHybridWrapper(undefined,BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}];LazyWrapper.prototype.clone=lazyClone;LazyWrapper.prototype.reverse=lazyReverse;LazyWrapper.prototype.value=lazyValue;lodash.prototype.at=wrapperAt;lodash.prototype.chain=wrapperChain;lodash.prototype.commit=wrapperCommit;lodash.prototype.flatMap=wrapperFlatMap;lodash.prototype.next=wrapperNext;lodash.prototype.plant=wrapperPlant;lodash.prototype.reverse=wrapperReverse;lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue;if(iteratorSymbol){lodash.prototype[iteratorSymbol]=wrapperToIterator}return lodash}var _=runInContext();(freeWindow||freeSelf||{})._=_;if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define(function(){return _})}else if(freeExports&&freeModule){if(moduleExports){(freeModule.exports=_)._=_}freeExports._=_}else{root._=_}}).call(this);(function(DOMParser){"use strict";var proto=DOMParser.prototype;var native_parse=proto.parseFromString;try{if((new DOMParser).parseFromString("","text/html")){return}}catch(ex){}var ua=navigator.userAgent;if(ua&&ua.match(/OS X 10_7/g)&&ua.match(/Slack_SSB/g)){return}proto.parseFromString=function(markup,type){if(/^\s*text\/html\s*(?:;|$)/i.test(type)){var doc=document.implementation.createHTMLDocument("");markup=markup||"";if(markup.toLowerCase().indexOf("<!doctype")>-1){doc.documentElement.innerHTML=markup}else{doc.body.innerHTML=markup}return doc}else{return native_parse.apply(this,arguments)}}})(DOMParser);(function(window,_undefined){"use strict";if(!window||!window.document){throw new Error("SoundManager requires a browser with window and document objects.")}var soundManager=null;function SoundManager(smURL,smID){this.setupOptions={url:smURL||null,flashVersion:8,debugMode:true,debugFlash:false,useConsole:true,consoleOnly:true,waitForWindowLoad:false,bgColor:"#ffffff",useHighPerformance:false,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:false,useHTML5Audio:true,forceUseGlobalHTML5Audio:false,ignoreMobileRestrictions:false,html5Test:/^(probably|maybe)$/i,preferFlash:false,noSWFCache:false,idPrefix:"sound"};this.defaultOptions={autoLoad:false,autoPlay:false,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:true,multiShotEvents:false,position:null,pan:0,stream:true,to:null,type:null,usePolicyFile:false,volume:100};this.flash9Options={isMovieStar:null,usePeakData:false,useWaveformData:false,useEQData:false,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:true},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:false},ogg:{type:["audio/ogg; codecs=vorbis"],required:false},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:false},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:false}};this.movieID="sm2-container";this.id=smID||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20150601";this.version=null;this.movieURL=null;this.altURL=null;this.swfLoaded=false;this.enabled=false;this.oMC=null;this.sounds={};this.soundIDs=[];this.muted=false;this.didFlashBlock=false;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:false,peakData:false,waveformData:false,eqData:false,movieStar:false};this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null};this.html5={usingFlash:null};this.flash={};this.html5Only=false;this.ignoreFlash=false;var SMSound,sm2=this,globalHTML5Audio=null,flash=null,sm="soundManager",smc=sm+": ",h5="HTML5::",id,ua=navigator.userAgent,wl=window.location.href.toString(),doc=document,doNothing,setProperties,init,fV,on_queue=[],debugOpen=true,debugTS,didAppend=false,appendSuccess=false,didInit=false,disabled=false,windowLoaded=false,_wDS,wdCount=0,initComplete,mixin,assign,extraOptions,addOnEvent,processOnEvents,initUserOnload,delayWaitForEI,waitForEI,rebootIntoHTML5,setVersionInfo,handleFocus,strings,initMovie,domContentLoaded,winOnLoad,didDCLoaded,getDocument,createMovie,catchError,setPolling,initDebug,debugLevels=["log","info","warn","error"],defaultFlashVersion=8,disableObject,failSafely,normalizeMovieURL,oRemoved=null,oRemovedHTML=null,str,flashBlockHandler,getSWFCSS,swfCSS,toggleDebug,loopFix,policyFix,complain,idCheck,waitingForEI=false,initPending=false,startTimer,stopTimer,timerExecute,h5TimerCount=0,h5IntervalTimer=null,parseURL,messages=[],canIgnoreFlash,needsFlash=null,featureCheck,html5OK,html5CanPlay,html5Ext,html5Unload,domContentLoadedIE,testHTML5,event,slice=Array.prototype.slice,useGlobalHTML5Audio=false,lastGlobalHTML5URL,hasFlash,detectFlash,badSafariFix,html5_events,showSupport,flushMessages,wrapCallback,idCounter=0,didSetup,msecScale=1e3,is_iDevice=ua.match(/(ipad|iphone|ipod)/i),isAndroid=ua.match(/android/i),isIE=ua.match(/msie/i),isWebkit=ua.match(/webkit/i),isSafari=ua.match(/safari/i)&&!ua.match(/chrome/i),isOpera=ua.match(/opera/i),mobileHTML5=ua.match(/(mobile|pre\/|xoom)/i)||is_iDevice||isAndroid,isBadSafari=!wl.match(/usehtml5audio/i)&&!wl.match(/sm2\-ignorebadua/i)&&isSafari&&!ua.match(/silk/i)&&ua.match(/OS X 10_6_([3-7])/i),hasConsole=window.console!==_undefined&&console.log!==_undefined,isFocused=doc.hasFocus!==_undefined?doc.hasFocus():null,tryInitOnFocus=isSafari&&(doc.hasFocus===_undefined||!doc.hasFocus()),okToDisable=!tryInitOnFocus,flashMIME=/(mp3|mp4|mpa|m4a|m4b)/i,emptyURL="about:blank",emptyWAV="data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==",overHTTP=doc.location?doc.location.protocol.match(/http/i):null,http=!overHTTP?"http:/"+"/":"",netStreamMimeTypes=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,netStreamTypes=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],netStreamPattern=new RegExp("\\.("+netStreamTypes.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!overHTTP;swfCSS={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"};this.hasHTML5=function(){try{return Audio!==_undefined&&(isOpera&&opera!==_undefined&&opera.version()<10?new Audio(null):new Audio).canPlayType!==_undefined}catch(e){return false}}();this.setup=function(options){var noURL=!sm2.url;if(options!==_undefined&&didInit&&needsFlash&&sm2.ok()&&(options.flashVersion!==_undefined||options.url!==_undefined||options.html5Test!==_undefined)){complain(str("setupLate"))}assign(options);if(!useGlobalHTML5Audio){if(mobileHTML5){if(!sm2.setupOptions.ignoreMobileRestrictions||sm2.setupOptions.forceUseGlobalHTML5Audio){messages.push(strings.globalHTML5);useGlobalHTML5Audio=true}}else{if(sm2.setupOptions.forceUseGlobalHTML5Audio){messages.push(strings.globalHTML5);useGlobalHTML5Audio=true}}}if(!didSetup&&mobileHTML5){if(sm2.setupOptions.ignoreMobileRestrictions){messages.push(strings.ignoreMobile)}else{if(!sm2.setupOptions.useHTML5Audio||sm2.setupOptions.preferFlash){sm2._wD(strings.mobileUA)}sm2.setupOptions.useHTML5Audio=true;sm2.setupOptions.preferFlash=false;if(is_iDevice){sm2.ignoreFlash=true}else if(isAndroid&&!ua.match(/android\s2\.3/i)||!isAndroid){sm2._wD(strings.globalHTML5);useGlobalHTML5Audio=true}}}if(options){if(noURL&&didDCLoaded&&options.url!==_undefined){sm2.beginDelayedInit()}if(!didDCLoaded&&options.url!==_undefined&&doc.readyState==="complete"){setTimeout(domContentLoaded,1)}}didSetup=true;return sm2};this.ok=function(){return needsFlash?didInit&&!disabled:sm2.useHTML5Audio&&sm2.hasHTML5};this.supported=this.ok;this.getMovie=function(smID){return id(smID)||doc[smID]||window[smID]};this.createSound=function(oOptions,_url){var cs,cs_string,options,oSound=null;cs=sm+".createSound(): ";cs_string=cs+str(!didInit?"notReady":"notOK");if(!didInit||!sm2.ok()){complain(cs_string);return false}if(_url!==_undefined){oOptions={id:oOptions,url:_url}}options=mixin(oOptions);options.url=parseURL(options.url);if(options.id===_undefined){options.id=sm2.setupOptions.idPrefix+idCounter++}if(options.id.toString().charAt(0).match(/^[0-9]$/)){sm2._wD(cs+str("badID",options.id),2)}sm2._wD(cs+options.id+(options.url?" ("+options.url+")":""),1);if(idCheck(options.id,true)){sm2._wD(cs+options.id+" exists",1);return sm2.sounds[options.id]}function make(){options=loopFix(options);sm2.sounds[options.id]=new SMSound(options);sm2.soundIDs.push(options.id);return sm2.sounds[options.id]}if(html5OK(options)){oSound=make();if(!sm2.html5Only){sm2._wD(options.id+": Using HTML5")}oSound._setup_html5(options)}else{if(sm2.html5Only){sm2._wD(options.id+": No HTML5 support for this sound, and no Flash. Exiting.");return make()}if(sm2.html5.usingFlash&&options.url&&options.url.match(/data\:/i)){sm2._wD(options.id+": data: URIs not supported via Flash. Exiting.");return make()}if(fV>8){if(options.isMovieStar===null){options.isMovieStar=!!(options.serverURL||(options.type?options.type.match(netStreamMimeTypes):false)||options.url&&options.url.match(netStreamPattern))}if(options.isMovieStar){sm2._wD(cs+"using MovieStar handling");if(options.loops>1){_wDS("noNSLoop")}}}options=policyFix(options,cs);oSound=make();if(fV===8){flash._createSound(options.id,options.loops||1,options.usePolicyFile)}else{flash._createSound(options.id,options.url,options.usePeakData,options.useWaveformData,options.useEQData,options.isMovieStar,options.isMovieStar?options.bufferTime:false,options.loops||1,options.serverURL,options.duration||null,options.autoPlay,true,options.autoLoad,options.usePolicyFile);if(!options.serverURL){oSound.connected=true;if(options.onconnect){options.onconnect.apply(oSound)}}}if(!options.serverURL&&(options.autoLoad||options.autoPlay)){oSound.load(options)}}if(!options.serverURL&&options.autoPlay){oSound.play()}return oSound};this.destroySound=function(sID,_bFromSound){if(!idCheck(sID)){return false}var oS=sm2.sounds[sID],i;oS.stop();oS._iO={};oS.unload();for(i=0;i<sm2.soundIDs.length;i++){if(sm2.soundIDs[i]===sID){sm2.soundIDs.splice(i,1);break}}if(!_bFromSound){oS.destruct(true)}oS=null;delete sm2.sounds[sID];return true};this.load=function(sID,oOptions){if(!idCheck(sID)){return false}return sm2.sounds[sID].load(oOptions)};this.unload=function(sID){if(!idCheck(sID)){return false}return sm2.sounds[sID].unload()};this.onPosition=function(sID,nPosition,oMethod,oScope){if(!idCheck(sID)){return false}return sm2.sounds[sID].onposition(nPosition,oMethod,oScope)};this.onposition=this.onPosition;this.clearOnPosition=function(sID,nPosition,oMethod){if(!idCheck(sID)){return false}return sm2.sounds[sID].clearOnPosition(nPosition,oMethod)};this.play=function(sID,oOptions){var result=null,overloaded=oOptions&&!(oOptions instanceof Object);if(!didInit||!sm2.ok()){complain(sm+".play(): "+str(!didInit?"notReady":"notOK"));return false}if(!idCheck(sID,overloaded)){if(!overloaded){return false}if(overloaded){oOptions={url:oOptions}}if(oOptions&&oOptions.url){sm2._wD(sm+'.play(): Attempting to create "'+sID+'"',1);oOptions.id=sID;result=sm2.createSound(oOptions).play()}}else if(overloaded){oOptions={url:oOptions}}if(result===null){result=sm2.sounds[sID].play(oOptions)}return result};this.start=this.play;this.setPosition=function(sID,nMsecOffset){if(!idCheck(sID)){return false}return sm2.sounds[sID].setPosition(nMsecOffset)};this.stop=function(sID){if(!idCheck(sID)){return false}sm2._wD(sm+".stop("+sID+")",1);return sm2.sounds[sID].stop()};this.stopAll=function(){var oSound;sm2._wD(sm+".stopAll()",1);for(oSound in sm2.sounds){if(sm2.sounds.hasOwnProperty(oSound)){sm2.sounds[oSound].stop()}}};this.pause=function(sID){if(!idCheck(sID)){return false}return sm2.sounds[sID].pause()};this.pauseAll=function(){var i;for(i=sm2.soundIDs.length-1;i>=0;i--){sm2.sounds[sm2.soundIDs[i]].pause()}};this.resume=function(sID){if(!idCheck(sID)){return false}return sm2.sounds[sID].resume()};this.resumeAll=function(){var i;for(i=sm2.soundIDs.length-1;i>=0;i--){sm2.sounds[sm2.soundIDs[i]].resume()}};this.togglePause=function(sID){if(!idCheck(sID)){return false}return sm2.sounds[sID].togglePause()};this.setPan=function(sID,nPan){if(!idCheck(sID)){return false}return sm2.sounds[sID].setPan(nPan)};this.setVolume=function(sID,nVol){var i,j;if(sID!==_undefined&&!isNaN(sID)&&nVol===_undefined){for(i=0,j=sm2.soundIDs.length;i<j;i++){sm2.sounds[sm2.soundIDs[i]].setVolume(sID)}return}if(!idCheck(sID)){return false}return sm2.sounds[sID].setVolume(nVol)};this.mute=function(sID){var i=0;if(sID instanceof String){sID=null}if(!sID){sm2._wD(sm+".mute(): Muting all sounds");for(i=sm2.soundIDs.length-1;i>=0;i--){sm2.sounds[sm2.soundIDs[i]].mute()}sm2.muted=true}else{if(!idCheck(sID)){return false}sm2._wD(sm+'.mute(): Muting "'+sID+'"');return sm2.sounds[sID].mute()}return true};this.muteAll=function(){sm2.mute()};this.unmute=function(sID){var i;if(sID instanceof String){sID=null}if(!sID){sm2._wD(sm+".unmute(): Unmuting all sounds");for(i=sm2.soundIDs.length-1;i>=0;i--){sm2.sounds[sm2.soundIDs[i]].unmute()}sm2.muted=false}else{if(!idCheck(sID)){return false}sm2._wD(sm+'.unmute(): Unmuting "'+sID+'"');return sm2.sounds[sID].unmute()}return true};this.unmuteAll=function(){sm2.unmute()};this.toggleMute=function(sID){if(!idCheck(sID)){return false}return sm2.sounds[sID].toggleMute()};this.getMemoryUse=function(){var ram=0;if(flash&&fV!==8){ram=parseInt(flash._getMemoryUse(),10)}return ram};this.disable=function(bNoDisable){var i;if(bNoDisable===_undefined){bNoDisable=false}if(disabled){return false}disabled=true;_wDS("shutdown",1);for(i=sm2.soundIDs.length-1;i>=0;i--){disableObject(sm2.sounds[sm2.soundIDs[i]])}initComplete(bNoDisable);event.remove(window,"load",initUserOnload);return true};this.canPlayMIME=function(sMIME){var result;if(sm2.hasHTML5){result=html5CanPlay({type:sMIME})}if(!result&&needsFlash){result=sMIME&&sm2.ok()?!!((fV>8?sMIME.match(netStreamMimeTypes):null)||sMIME.match(sm2.mimePattern)):null}return result};this.canPlayURL=function(sURL){var result;if(sm2.hasHTML5){result=html5CanPlay({url:sURL})}if(!result&&needsFlash){result=sURL&&sm2.ok()?!!sURL.match(sm2.filePattern):null}return result};this.canPlayLink=function(oLink){if(oLink.type!==_undefined&&oLink.type){if(sm2.canPlayMIME(oLink.type)){return true}}return sm2.canPlayURL(oLink.href)};this.getSoundById=function(sID,_suppressDebug){if(!sID){return null}var result=sm2.sounds[sID];if(!result&&!_suppressDebug){sm2._wD(sm+'.getSoundById(): Sound "'+sID+'" not found.',2)}return result};this.onready=function(oMethod,oScope){var sType="onready",result=false;if(typeof oMethod==="function"){if(didInit){sm2._wD(str("queue",sType))}if(!oScope){oScope=window}addOnEvent(sType,oMethod,oScope);processOnEvents();result=true}else{throw str("needFunction",sType)}return result};this.ontimeout=function(oMethod,oScope){var sType="ontimeout",result=false;if(typeof oMethod==="function"){if(didInit){sm2._wD(str("queue",sType))}if(!oScope){oScope=window}addOnEvent(sType,oMethod,oScope);processOnEvents({type:sType});result=true}else{throw str("needFunction",sType)}return result};this._writeDebug=function(sText,sTypeOrObject){var sDID="soundmanager-debug",o,oItem;if(!sm2.setupOptions.debugMode){return false}if(hasConsole&&sm2.useConsole){if(sTypeOrObject&&typeof sTypeOrObject==="object"){console.log(sText,sTypeOrObject)}else if(debugLevels[sTypeOrObject]!==_undefined){console[debugLevels[sTypeOrObject]](sText)}else{console.log(sText)}if(sm2.consoleOnly){return true}}o=id(sDID);if(!o){return false}oItem=doc.createElement("div");if(++wdCount%2===0){oItem.className="sm2-alt"}if(sTypeOrObject===_undefined){sTypeOrObject=0}else{sTypeOrObject=parseInt(sTypeOrObject,10)}oItem.appendChild(doc.createTextNode(sText));if(sTypeOrObject){if(sTypeOrObject>=2){oItem.style.fontWeight="bold"}if(sTypeOrObject===3){oItem.style.color="#ff3333"}}o.insertBefore(oItem,o.firstChild);o=null;return true};if(wl.indexOf("sm2-debug=alert")!==-1){this._writeDebug=function(sText){window.alert(sText)}}this._wD=this._writeDebug;this._debug=function(){var i,j;_wDS("currentObj",1);for(i=0,j=sm2.soundIDs.length;i<j;i++){sm2.sounds[sm2.soundIDs[i]]._debug()}};this.reboot=function(resetEvents,excludeInit){if(sm2.soundIDs.length){sm2._wD("Destroying "+sm2.soundIDs.length+" SMSound object"+(sm2.soundIDs.length!==1?"s":"")+"...")}var i,j,k;for(i=sm2.soundIDs.length-1;i>=0;i--){sm2.sounds[sm2.soundIDs[i]].destruct()}if(flash){try{if(isIE){oRemovedHTML=flash.innerHTML}oRemoved=flash.parentNode.removeChild(flash)}catch(e){_wDS("badRemove",2)}}oRemovedHTML=oRemoved=needsFlash=flash=null;sm2.enabled=didDCLoaded=didInit=waitingForEI=initPending=didAppend=appendSuccess=disabled=useGlobalHTML5Audio=sm2.swfLoaded=false;sm2.soundIDs=[];sm2.sounds={};idCounter=0;didSetup=false;if(!resetEvents){for(i in on_queue){if(on_queue.hasOwnProperty(i)){for(j=0,k=on_queue[i].length;j<k;j++){on_queue[i][j].fired=false}}}}else{on_queue=[]}if(!excludeInit){sm2._wD(sm+": Rebooting...")}sm2.html5={usingFlash:null};sm2.flash={};sm2.html5Only=false;sm2.ignoreFlash=false;window.setTimeout(function(){if(!excludeInit){sm2.beginDelayedInit()}},20);return sm2};this.reset=function(){_wDS("reset");return sm2.reboot(true,true)};this.getMoviePercent=function(){return flash&&"PercentLoaded"in flash?flash.PercentLoaded():null};this.beginDelayedInit=function(){windowLoaded=true;domContentLoaded();setTimeout(function(){if(initPending){return false}createMovie();initMovie();initPending=true;return true},20);delayWaitForEI()};this.destruct=function(){sm2._wD(sm+".destruct()");sm2.disable(true)};SMSound=function(oOptions){var s=this,resetProperties,add_html5_events,remove_html5_events,stop_html5_timer,start_html5_timer,attachOnPosition,onplay_called=false,onPositionItems=[],onPositionFired=0,detachOnPosition,applyFromTo,lastURL=null,lastHTML5State,urlOmitted;lastHTML5State={duration:null,time:null};this.id=oOptions.id;this.sID=this.id;this.url=oOptions.url;this.options=mixin(oOptions);this.instanceOptions=this.options;this._iO=this.instanceOptions;this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=false;this._a=null;urlOmitted=this.url?false:true;this.id3={};this._debug=function(){sm2._wD(s.id+": Merged options:",s.options)};this.load=function(oOptions){var oSound=null,instanceOptions;if(oOptions!==_undefined){s._iO=mixin(oOptions,s.options)}else{oOptions=s.options;s._iO=oOptions;if(lastURL&&lastURL!==s.url){_wDS("manURL");s._iO.url=s.url;s.url=null}}if(!s._iO.url){s._iO.url=s.url}s._iO.url=parseURL(s._iO.url);s.instanceOptions=s._iO;instanceOptions=s._iO;sm2._wD(s.id+": load ("+instanceOptions.url+")");if(!instanceOptions.url&&!s.url){sm2._wD(s.id+": load(): url is unassigned. Exiting.",2);return s}if(!s.isHTML5&&fV===8&&!s.url&&!instanceOptions.autoPlay){sm2._wD(s.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1)}if(instanceOptions.url===s.url&&s.readyState!==0&&s.readyState!==2){_wDS("onURL",1);if(s.readyState===3&&instanceOptions.onload){wrapCallback(s,function(){instanceOptions.onload.apply(s,[!!s.duration])})}return s}s.loaded=false;s.readyState=1;s.playState=0;s.id3={};if(html5OK(instanceOptions)){oSound=s._setup_html5(instanceOptions);if(!oSound._called_load){s._html5_canplay=false;if(s.url!==instanceOptions.url){sm2._wD(_wDS("manURL")+": "+instanceOptions.url);s._a.src=instanceOptions.url;s.setPosition(0)}s._a.autobuffer="auto";s._a.preload="auto";s._a._called_load=true}else{sm2._wD(s.id+": Ignoring request to load again")}}else{if(sm2.html5Only){sm2._wD(s.id+": No flash support. Exiting.");return s}if(s._iO.url&&s._iO.url.match(/data\:/i)){sm2._wD(s.id+": data: URIs not supported via Flash. Exiting.");return s}try{s.isHTML5=false;s._iO=policyFix(loopFix(instanceOptions));if(s._iO.autoPlay&&(s._iO.position||s._iO.from)){sm2._wD(s.id+": Disabling autoPlay because of non-zero offset case");s._iO.autoPlay=false}instanceOptions=s._iO;if(fV===8){flash._load(s.id,instanceOptions.url,instanceOptions.stream,instanceOptions.autoPlay,instanceOptions.usePolicyFile)}else{flash._load(s.id,instanceOptions.url,!!instanceOptions.stream,!!instanceOptions.autoPlay,instanceOptions.loops||1,!!instanceOptions.autoLoad,instanceOptions.usePolicyFile)}}catch(e){_wDS("smError",2);debugTS("onload",false);catchError({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:true})}}s.url=instanceOptions.url;return s};this.unload=function(){if(s.readyState!==0){sm2._wD(s.id+": unload()");if(!s.isHTML5){if(fV===8){flash._unload(s.id,emptyURL)}else{flash._unload(s.id)}}else{stop_html5_timer();if(s._a){s._a.pause();lastURL=html5Unload(s._a)}}resetProperties()}return s};this.destruct=function(_bFromSM){sm2._wD(s.id+": Destruct");if(!s.isHTML5){s._iO.onfailure=null;flash._destroySound(s.id)}else{stop_html5_timer();if(s._a){s._a.pause();html5Unload(s._a);if(!useGlobalHTML5Audio){remove_html5_events()}s._a._s=null;s._a=null}}if(!_bFromSM){sm2.destroySound(s.id,true)}};this.play=function(oOptions,_updatePlayState){var fN,allowMulti,a,onready,audioClone,onended,oncanplay,startOK=true,exit=null;fN=s.id+": play(): ";_updatePlayState=_updatePlayState===_undefined?true:_updatePlayState;if(!oOptions){oOptions={}}if(s.url){s._iO.url=s.url}s._iO=mixin(s._iO,s.options);s._iO=mixin(oOptions,s._iO);s._iO.url=parseURL(s._iO.url);s.instanceOptions=s._iO;if(!s.isHTML5&&s._iO.serverURL&&!s.connected){if(!s.getAutoPlay()){sm2._wD(fN+" Netstream not connected yet - setting autoPlay");s.setAutoPlay(true)}return s}if(html5OK(s._iO)){s._setup_html5(s._iO);start_html5_timer()}if(s.playState===1&&!s.paused){allowMulti=s._iO.multiShot;if(!allowMulti){sm2._wD(fN+"Already playing (one-shot)",1);if(s.isHTML5){s.setPosition(s._iO.position)}exit=s}else{sm2._wD(fN+"Already playing (multi-shot)",1)}}if(exit!==null){return exit}if(oOptions.url&&oOptions.url!==s.url){if(!s.readyState&&!s.isHTML5&&fV===8&&urlOmitted){urlOmitted=false}else{s.load(s._iO)}}if(!s.loaded){if(s.readyState===0){sm2._wD(fN+"Attempting to load");if(!s.isHTML5&&!sm2.html5Only){s._iO.autoPlay=true;s.load(s._iO)}else if(s.isHTML5){s.load(s._iO)}else{sm2._wD(fN+"Unsupported type. Exiting.");exit=s}s.instanceOptions=s._iO}else if(s.readyState===2){sm2._wD(fN+"Could not load - exiting",2);exit=s}else{sm2._wD(fN+"Loading - attempting to play...")}}else{sm2._wD(fN.substr(0,fN.lastIndexOf(":")))}if(exit!==null){return exit}if(!s.isHTML5&&fV===9&&s.position>0&&s.position===s.duration){sm2._wD(fN+"Sound at end, resetting to position: 0");oOptions.position=0}if(s.paused&&s.position>=0&&(!s._iO.serverURL||s.position>0)){sm2._wD(fN+"Resuming from paused state",1);s.resume()}else{s._iO=mixin(oOptions,s._iO);if((!s.isHTML5&&s._iO.position!==null&&s._iO.position>0||s._iO.from!==null&&s._iO.from>0||s._iO.to!==null)&&s.instanceCount===0&&s.playState===0&&!s._iO.serverURL){onready=function(){s._iO=mixin(oOptions,s._iO);s.play(s._iO)};if(s.isHTML5&&!s._html5_canplay){sm2._wD(fN+"Beginning load for non-zero offset case");s.load({_oncanplay:onready});exit=false}else if(!s.isHTML5&&!s.loaded&&(!s.readyState||s.readyState!==2)){sm2._wD(fN+"Preloading for non-zero offset case");s.load({onload:onready});exit=false}if(exit!==null){return exit}s._iO=applyFromTo()}if(!s.instanceCount||s._iO.multiShotEvents||s.isHTML5&&s._iO.multiShot&&!useGlobalHTML5Audio||!s.isHTML5&&fV>8&&!s.getAutoPlay()){s.instanceCount++}if(s._iO.onposition&&s.playState===0){attachOnPosition(s)}s.playState=1;s.paused=false;s.position=s._iO.position!==_undefined&&!isNaN(s._iO.position)?s._iO.position:0;if(!s.isHTML5){s._iO=policyFix(loopFix(s._iO))}if(s._iO.onplay&&_updatePlayState){s._iO.onplay.apply(s);onplay_called=true}s.setVolume(s._iO.volume,true);s.setPan(s._iO.pan,true);if(!s.isHTML5){startOK=flash._start(s.id,s._iO.loops||1,fV===9?s.position:s.position/msecScale,s._iO.multiShot||false);if(fV===9&&!startOK){sm2._wD(fN+"No sound hardware, or 32-sound ceiling hit",2);if(s._iO.onplayerror){s._iO.onplayerror.apply(s)}}}else{if(s.instanceCount<2){start_html5_timer();a=s._setup_html5();s.setPosition(s._iO.position);a.play()}else{sm2._wD(s.id+": Cloning Audio() for instance #"+s.instanceCount+"...");audioClone=new Audio(s._iO.url);onended=function(){event.remove(audioClone,"ended",onended);s._onfinish(s);html5Unload(audioClone);audioClone=null};oncanplay=function(){event.remove(audioClone,"canplay",oncanplay);try{audioClone.currentTime=s._iO.position/msecScale}catch(err){complain(s.id+": multiShot play() failed to apply position of "+s._iO.position/msecScale)}audioClone.play()};event.add(audioClone,"ended",onended);if(s._iO.volume!==_undefined){audioClone.volume=Math.max(0,Math.min(1,s._iO.volume/100))}if(s.muted){audioClone.muted=true}if(s._iO.position){event.add(audioClone,"canplay",oncanplay)}else{audioClone.play()}}}}return s};this.start=this.play;this.stop=function(bAll){var instanceOptions=s._iO,originalPosition;if(s.playState===1){sm2._wD(s.id+": stop()");s._onbufferchange(0);s._resetOnPosition(0);s.paused=false;if(!s.isHTML5){s.playState=0}detachOnPosition();if(instanceOptions.to){s.clearOnPosition(instanceOptions.to)}if(!s.isHTML5){flash._stop(s.id,bAll);if(instanceOptions.serverURL){s.unload()}}else{if(s._a){originalPosition=s.position;s.setPosition(0);s.position=originalPosition;s._a.pause();s.playState=0;s._onTimer();stop_html5_timer()}}s.instanceCount=0;s._iO={};if(instanceOptions.onstop){instanceOptions.onstop.apply(s)}}return s};this.setAutoPlay=function(autoPlay){sm2._wD(s.id+": Autoplay turned "+(autoPlay?"on":"off"));s._iO.autoPlay=autoPlay;if(!s.isHTML5){flash._setAutoPlay(s.id,autoPlay);if(autoPlay){if(!s.instanceCount&&s.readyState===1){s.instanceCount++;sm2._wD(s.id+": Incremented instance count to "+s.instanceCount)}}}};this.getAutoPlay=function(){return s._iO.autoPlay};this.setPosition=function(nMsecOffset){if(nMsecOffset===_undefined){nMsecOffset=0}var position,position1K,offset=s.isHTML5?Math.max(nMsecOffset,0):Math.min(s.duration||s._iO.duration,Math.max(nMsecOffset,0));s.position=offset;position1K=s.position/msecScale;s._resetOnPosition(s.position);s._iO.position=offset;if(!s.isHTML5){position=fV===9?s.position:position1K;if(s.readyState&&s.readyState!==2){flash._setPosition(s.id,position,s.paused||!s.playState,s._iO.multiShot)}}else if(s._a){if(s._html5_canplay){if(s._a.currentTime!==position1K){sm2._wD(s.id+": setPosition("+position1K+")");try{s._a.currentTime=position1K;if(s.playState===0||s.paused){s._a.pause()}}catch(e){sm2._wD(s.id+": setPosition("+position1K+") failed: "+e.message,2)}}}else if(position1K){sm2._wD(s.id+": setPosition("+position1K+"): Cannot seek yet, sound not ready",2);return s}if(s.paused){s._onTimer(true)}}return s};this.pause=function(_bCallFlash){if(s.paused||s.playState===0&&s.readyState!==1){return s}sm2._wD(s.id+": pause()");s.paused=true;if(!s.isHTML5){if(_bCallFlash||_bCallFlash===_undefined){flash._pause(s.id,s._iO.multiShot)}}else{s._setup_html5().pause();stop_html5_timer()}if(s._iO.onpause){s._iO.onpause.apply(s)}return s};this.resume=function(){var instanceOptions=s._iO;if(!s.paused){return s}sm2._wD(s.id+": resume()");s.paused=false;s.playState=1;if(!s.isHTML5){if(instanceOptions.isMovieStar&&!instanceOptions.serverURL){s.setPosition(s.position)}flash._pause(s.id,instanceOptions.multiShot)}else{s._setup_html5().play();start_html5_timer()}if(!onplay_called&&instanceOptions.onplay){instanceOptions.onplay.apply(s);onplay_called=true}else if(instanceOptions.onresume){instanceOptions.onresume.apply(s)}return s};this.togglePause=function(){sm2._wD(s.id+": togglePause()");if(s.playState===0){s.play({position:fV===9&&!s.isHTML5?s.position:s.position/msecScale});return s}if(s.paused){s.resume()}else{s.pause()}return s};this.setPan=function(nPan,bInstanceOnly){if(nPan===_undefined){nPan=0}if(bInstanceOnly===_undefined){bInstanceOnly=false}if(!s.isHTML5){flash._setPan(s.id,nPan)}s._iO.pan=nPan;if(!bInstanceOnly){s.pan=nPan;s.options.pan=nPan}return s};this.setVolume=function(nVol,_bInstanceOnly){if(nVol===_undefined){nVol=100}if(_bInstanceOnly===_undefined){_bInstanceOnly=false}if(!s.isHTML5){flash._setVolume(s.id,sm2.muted&&!s.muted||s.muted?0:nVol)}else if(s._a){if(sm2.muted&&!s.muted){s.muted=true;s._a.muted=true}s._a.volume=Math.max(0,Math.min(1,nVol/100))}s._iO.volume=nVol;if(!_bInstanceOnly){s.volume=nVol;s.options.volume=nVol}return s};this.mute=function(){s.muted=true;if(!s.isHTML5){flash._setVolume(s.id,0)}else if(s._a){s._a.muted=true}return s};this.unmute=function(){s.muted=false;var hasIO=s._iO.volume!==_undefined;if(!s.isHTML5){flash._setVolume(s.id,hasIO?s._iO.volume:s.options.volume)}else if(s._a){s._a.muted=false}return s};this.toggleMute=function(){return s.muted?s.unmute():s.mute()};this.onPosition=function(nPosition,oMethod,oScope){onPositionItems.push({position:parseInt(nPosition,10),method:oMethod,scope:oScope!==_undefined?oScope:s,fired:false});return s};this.onposition=this.onPosition;this.clearOnPosition=function(nPosition,oMethod){var i;nPosition=parseInt(nPosition,10);if(isNaN(nPosition)){return false}for(i=0;i<onPositionItems.length;i++){if(nPosition===onPositionItems[i].position){if(!oMethod||oMethod===onPositionItems[i].method){if(onPositionItems[i].fired){onPositionFired--}onPositionItems.splice(i,1)}}}};this._processOnPosition=function(){var i,item,j=onPositionItems.length;if(!j||!s.playState||onPositionFired>=j){return false}for(i=j-1;i>=0;i--){item=onPositionItems[i];if(!item.fired&&s.position>=item.position){item.fired=true;onPositionFired++;item.method.apply(item.scope,[item.position]);j=onPositionItems.length}}return true};this._resetOnPosition=function(nPosition){var i,item,j=onPositionItems.length;if(!j){return false}for(i=j-1;i>=0;i--){item=onPositionItems[i];if(item.fired&&nPosition<=item.position){item.fired=false;onPositionFired--}}return true};applyFromTo=function(){var instanceOptions=s._iO,f=instanceOptions.from,t=instanceOptions.to,start,end;end=function(){sm2._wD(s.id+': "To" time of '+t+" reached.");s.clearOnPosition(t,end);s.stop()};start=function(){sm2._wD(s.id+': Playing "from" '+f);if(t!==null&&!isNaN(t)){s.onPosition(t,end)}};if(f!==null&&!isNaN(f)){instanceOptions.position=f;instanceOptions.multiShot=false;start()}return instanceOptions};attachOnPosition=function(){var item,op=s._iO.onposition;if(op){for(item in op){if(op.hasOwnProperty(item)){s.onPosition(parseInt(item,10),op[item])}}}};detachOnPosition=function(){var item,op=s._iO.onposition;if(op){for(item in op){if(op.hasOwnProperty(item)){s.clearOnPosition(parseInt(item,10))}}}};start_html5_timer=function(){if(s.isHTML5){startTimer(s)}};stop_html5_timer=function(){if(s.isHTML5){stopTimer(s)}};resetProperties=function(retainPosition){if(!retainPosition){onPositionItems=[];onPositionFired=0}onplay_called=false;s._hasTimer=null;s._a=null;s._html5_canplay=false;s.bytesLoaded=null;s.bytesTotal=null;s.duration=s._iO&&s._iO.duration?s._iO.duration:null;s.durationEstimate=null;s.buffered=[];s.eqData=[];s.eqData.left=[];s.eqData.right=[];s.failures=0;s.isBuffering=false;s.instanceOptions={};s.instanceCount=0;s.loaded=false;s.metadata={};s.readyState=0;s.muted=false;s.paused=false;s.peakData={left:0,right:0};s.waveformData={left:[],right:[]};s.playState=0;s.position=null;s.id3={}};resetProperties();
this._onTimer=function(bForce){var duration,isNew=false,time,x={};if(s._hasTimer||bForce){if(s._a&&(bForce||(s.playState>0||s.readyState===1)&&!s.paused)){duration=s._get_html5_duration();if(duration!==lastHTML5State.duration){lastHTML5State.duration=duration;s.duration=duration;isNew=true}s.durationEstimate=s.duration;time=s._a.currentTime*msecScale||0;if(time!==lastHTML5State.time){lastHTML5State.time=time;isNew=true}if(isNew||bForce){s._whileplaying(time,x,x,x,x)}}return isNew}};this._get_html5_duration=function(){var instanceOptions=s._iO,d=s._a&&s._a.duration?s._a.duration*msecScale:instanceOptions&&instanceOptions.duration?instanceOptions.duration:null,result=d&&!isNaN(d)&&d!==Infinity?d:null;return result};this._apply_loop=function(a,nLoops){if(!a.loop&&nLoops>1){sm2._wD("Note: Native HTML5 looping is infinite.",1)}a.loop=nLoops>1?"loop":""};this._setup_html5=function(oOptions){var instanceOptions=mixin(s._iO,oOptions),a=useGlobalHTML5Audio?globalHTML5Audio:s._a,dURL=decodeURI(instanceOptions.url),sameURL;if(useGlobalHTML5Audio){if(dURL===decodeURI(lastGlobalHTML5URL)){sameURL=true}}else if(dURL===decodeURI(lastURL)){sameURL=true}if(a){if(a._s){if(useGlobalHTML5Audio){if(a._s&&a._s.playState&&!sameURL){a._s.stop()}}else if(!useGlobalHTML5Audio&&dURL===decodeURI(lastURL)){s._apply_loop(a,instanceOptions.loops);return a}}if(!sameURL){if(lastURL){resetProperties(false)}a.src=instanceOptions.url;s.url=instanceOptions.url;lastURL=instanceOptions.url;lastGlobalHTML5URL=instanceOptions.url;a._called_load=false}}else{if(instanceOptions.autoLoad||instanceOptions.autoPlay){s._a=new Audio(instanceOptions.url);s._a.load()}else{s._a=isOpera&&opera.version()<10?new Audio(null):new Audio}a=s._a;a._called_load=false;if(useGlobalHTML5Audio){globalHTML5Audio=a}}s.isHTML5=true;s._a=a;a._s=s;add_html5_events();s._apply_loop(a,instanceOptions.loops);if(instanceOptions.autoLoad||instanceOptions.autoPlay){s.load()}else{a.autobuffer=false;a.preload="auto"}return a};add_html5_events=function(){if(s._a._added_events){return false}var f;function add(oEvt,oFn,bCapture){return s._a?s._a.addEventListener(oEvt,oFn,bCapture||false):null}s._a._added_events=true;for(f in html5_events){if(html5_events.hasOwnProperty(f)){add(f,html5_events[f])}}return true};remove_html5_events=function(){var f;function remove(oEvt,oFn,bCapture){return s._a?s._a.removeEventListener(oEvt,oFn,bCapture||false):null}sm2._wD(s.id+": Removing event listeners");s._a._added_events=false;for(f in html5_events){if(html5_events.hasOwnProperty(f)){remove(f,html5_events[f])}}};this._onload=function(nSuccess){var fN,loadOK=!!nSuccess||!s.isHTML5&&fV===8&&s.duration;fN=s.id+": ";sm2._wD(fN+(loadOK?"onload()":"Failed to load / invalid sound?"+(!s.duration?" Zero-length duration reported.":" -")+" ("+s.url+")"),loadOK?1:2);if(!loadOK&&!s.isHTML5){if(sm2.sandbox.noRemote===true){sm2._wD(fN+str("noNet"),1)}if(sm2.sandbox.noLocal===true){sm2._wD(fN+str("noLocal"),1)}}s.loaded=loadOK;s.readyState=loadOK?3:2;s._onbufferchange(0);if(s._iO.onload){wrapCallback(s,function(){s._iO.onload.apply(s,[loadOK])})}return true};this._onbufferchange=function(nIsBuffering){if(s.playState===0){return false}if(nIsBuffering&&s.isBuffering||!nIsBuffering&&!s.isBuffering){return false}s.isBuffering=nIsBuffering===1;if(s._iO.onbufferchange){sm2._wD(s.id+": Buffer state change: "+nIsBuffering);s._iO.onbufferchange.apply(s,[nIsBuffering])}return true};this._onsuspend=function(){if(s._iO.onsuspend){sm2._wD(s.id+": Playback suspended");s._iO.onsuspend.apply(s)}return true};this._onfailure=function(msg,level,code){s.failures++;sm2._wD(s.id+": Failure ("+s.failures+"): "+msg);if(s._iO.onfailure&&s.failures===1){s._iO.onfailure(msg,level,code)}else{sm2._wD(s.id+": Ignoring failure")}};this._onwarning=function(msg,level,code){if(s._iO.onwarning){s._iO.onwarning(msg,level,code)}};this._onfinish=function(){var io_onfinish=s._iO.onfinish;s._onbufferchange(0);s._resetOnPosition(0);if(s.instanceCount){s.instanceCount--;if(!s.instanceCount){detachOnPosition();s.playState=0;s.paused=false;s.instanceCount=0;s.instanceOptions={};s._iO={};stop_html5_timer();if(s.isHTML5){s.position=0}}if(!s.instanceCount||s._iO.multiShotEvents){if(io_onfinish){sm2._wD(s.id+": onfinish()");wrapCallback(s,function(){io_onfinish.apply(s)})}}}};this._whileloading=function(nBytesLoaded,nBytesTotal,nDuration,nBufferLength){var instanceOptions=s._iO;s.bytesLoaded=nBytesLoaded;s.bytesTotal=nBytesTotal;s.duration=Math.floor(nDuration);s.bufferLength=nBufferLength;if(!s.isHTML5&&!instanceOptions.isMovieStar){if(instanceOptions.duration){s.durationEstimate=s.duration>instanceOptions.duration?s.duration:instanceOptions.duration}else{s.durationEstimate=parseInt(s.bytesTotal/s.bytesLoaded*s.duration,10)}}else{s.durationEstimate=s.duration}if(!s.isHTML5){s.buffered=[{start:0,end:s.duration}]}if((s.readyState!==3||s.isHTML5)&&instanceOptions.whileloading){instanceOptions.whileloading.apply(s)}};this._whileplaying=function(nPosition,oPeakData,oWaveformDataLeft,oWaveformDataRight,oEQData){var instanceOptions=s._iO,eqLeft;if(isNaN(nPosition)||nPosition===null){return false}s.position=Math.max(0,nPosition);s._processOnPosition();if(!s.isHTML5&&fV>8){if(instanceOptions.usePeakData&&oPeakData!==_undefined&&oPeakData){s.peakData={left:oPeakData.leftPeak,right:oPeakData.rightPeak}}if(instanceOptions.useWaveformData&&oWaveformDataLeft!==_undefined&&oWaveformDataLeft){s.waveformData={left:oWaveformDataLeft.split(","),right:oWaveformDataRight.split(",")}}if(instanceOptions.useEQData){if(oEQData!==_undefined&&oEQData&&oEQData.leftEQ){eqLeft=oEQData.leftEQ.split(",");s.eqData=eqLeft;s.eqData.left=eqLeft;if(oEQData.rightEQ!==_undefined&&oEQData.rightEQ){s.eqData.right=oEQData.rightEQ.split(",")}}}}if(s.playState===1){if(!s.isHTML5&&fV===8&&!s.position&&s.isBuffering){s._onbufferchange(0)}if(instanceOptions.whileplaying){instanceOptions.whileplaying.apply(s)}}return true};this._oncaptiondata=function(oData){sm2._wD(s.id+": Caption data received.");s.captiondata=oData;if(s._iO.oncaptiondata){s._iO.oncaptiondata.apply(s,[oData])}};this._onmetadata=function(oMDProps,oMDData){sm2._wD(s.id+": Metadata received.");var oData={},i,j;for(i=0,j=oMDProps.length;i<j;i++){oData[oMDProps[i]]=oMDData[i]}s.metadata=oData;if(s._iO.onmetadata){s._iO.onmetadata.call(s,s.metadata)}};this._onid3=function(oID3Props,oID3Data){sm2._wD(s.id+": ID3 data received.");var oData=[],i,j;for(i=0,j=oID3Props.length;i<j;i++){oData[oID3Props[i]]=oID3Data[i]}s.id3=mixin(s.id3,oData);if(s._iO.onid3){s._iO.onid3.apply(s)}};this._onconnect=function(bSuccess){bSuccess=bSuccess===1;sm2._wD(s.id+": "+(bSuccess?"Connected.":"Failed to connect? - "+s.url),bSuccess?1:2);s.connected=bSuccess;if(bSuccess){s.failures=0;if(idCheck(s.id)){if(s.getAutoPlay()){s.play(_undefined,s.getAutoPlay())}else if(s._iO.autoLoad){s.load()}}if(s._iO.onconnect){s._iO.onconnect.apply(s,[bSuccess])}}};this._ondataerror=function(sError){if(s.playState>0){sm2._wD(s.id+": Data error: "+sError);if(s._iO.ondataerror){s._iO.ondataerror.apply(s)}}};this._debug()};getDocument=function(){return doc.body||doc.getElementsByTagName("div")[0]};id=function(sID){return doc.getElementById(sID)};mixin=function(oMain,oAdd){var o1=oMain||{},o2,o;o2=oAdd===_undefined?sm2.defaultOptions:oAdd;for(o in o2){if(o2.hasOwnProperty(o)&&o1[o]===_undefined){if(typeof o2[o]!=="object"||o2[o]===null){o1[o]=o2[o]}else{o1[o]=mixin(o1[o],o2[o])}}}return o1};wrapCallback=function(oSound,callback){if(!oSound.isHTML5&&fV===8){window.setTimeout(callback,0)}else{callback()}};extraOptions={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};assign=function(o,oParent){var i,result=true,hasParent=oParent!==_undefined,setupOptions=sm2.setupOptions,bonusOptions=extraOptions;if(o===_undefined){result=[];for(i in setupOptions){if(setupOptions.hasOwnProperty(i)){result.push(i)}}for(i in bonusOptions){if(bonusOptions.hasOwnProperty(i)){if(typeof sm2[i]==="object"){result.push(i+": {...}")}else if(sm2[i]instanceof Function){result.push(i+": function() {...}")}else{result.push(i)}}}sm2._wD(str("setup",result.join(", ")));return false}for(i in o){if(o.hasOwnProperty(i)){if(typeof o[i]!=="object"||o[i]===null||o[i]instanceof Array||o[i]instanceof RegExp){if(hasParent&&bonusOptions[oParent]!==_undefined){sm2[oParent][i]=o[i]}else if(setupOptions[i]!==_undefined){sm2.setupOptions[i]=o[i];sm2[i]=o[i]}else if(bonusOptions[i]===_undefined){complain(str(sm2[i]===_undefined?"setupUndef":"setupError",i),2);result=false}else{if(sm2[i]instanceof Function){sm2[i].apply(sm2,o[i]instanceof Array?o[i]:[o[i]])}else{sm2[i]=o[i]}}}else{if(bonusOptions[i]===_undefined){complain(str(sm2[i]===_undefined?"setupUndef":"setupError",i),2);result=false}else{return assign(o[i],i)}}}}return result};function preferFlashCheck(kind){return sm2.preferFlash&&hasFlash&&!sm2.ignoreFlash&&(sm2.flash[kind]!==_undefined&&sm2.flash[kind])}event=function(){var old=window.attachEvent,evt={add:old?"attachEvent":"addEventListener",remove:old?"detachEvent":"removeEventListener"};function getArgs(oArgs){var args=slice.call(oArgs),len=args.length;if(old){args[1]="on"+args[1];if(len>3){args.pop()}}else if(len===3){args.push(false)}return args}function apply(args,sType){var element=args.shift(),method=[evt[sType]];if(old){element[method](args[0],args[1])}else{element[method].apply(element,args)}}function add(){apply(getArgs(arguments),"add")}function remove(){apply(getArgs(arguments),"remove")}return{add:add,remove:remove}}();function html5_event(oFn){return function(e){var s=this._s,result;if(!s||!s._a){if(s&&s.id){sm2._wD(s.id+": Ignoring "+e.type)}else{sm2._wD(h5+"Ignoring "+e.type)}result=null}else{result=oFn.call(this,e)}return result}}html5_events={abort:html5_event(function(){sm2._wD(this._s.id+": abort")}),canplay:html5_event(function(){var s=this._s,position1K;if(s._html5_canplay){return true}s._html5_canplay=true;sm2._wD(s.id+": canplay");s._onbufferchange(0);position1K=s._iO.position!==_undefined&&!isNaN(s._iO.position)?s._iO.position/msecScale:null;if(this.currentTime!==position1K){sm2._wD(s.id+": canplay: Setting position to "+position1K);try{this.currentTime=position1K}catch(ee){sm2._wD(s.id+": canplay: Setting position of "+position1K+" failed: "+ee.message,2)}}if(s._iO._oncanplay){s._iO._oncanplay()}}),canplaythrough:html5_event(function(){var s=this._s;if(!s.loaded){s._onbufferchange(0);s._whileloading(s.bytesLoaded,s.bytesTotal,s._get_html5_duration());s._onload(true)}}),durationchange:html5_event(function(){var s=this._s,duration;duration=s._get_html5_duration();if(!isNaN(duration)&&duration!==s.duration){sm2._wD(this._s.id+": durationchange ("+duration+")"+(s.duration?", previously "+s.duration:""));s.durationEstimate=s.duration=duration}}),ended:html5_event(function(){var s=this._s;sm2._wD(s.id+": ended");s._onfinish()}),error:html5_event(function(){sm2._wD(this._s.id+": HTML5 error, code "+this.error.code);this._s._onload(false)}),loadeddata:html5_event(function(){var s=this._s;sm2._wD(s.id+": loadeddata");if(!s._loaded&&!isSafari){s.duration=s._get_html5_duration()}}),loadedmetadata:html5_event(function(){sm2._wD(this._s.id+": loadedmetadata")}),loadstart:html5_event(function(){sm2._wD(this._s.id+": loadstart");this._s._onbufferchange(1)}),play:html5_event(function(){this._s._onbufferchange(0)}),playing:html5_event(function(){sm2._wD(this._s.id+": playing "+String.fromCharCode(9835));this._s._onbufferchange(0)}),progress:html5_event(function(e){var s=this._s,i,j,progStr,buffered=0,isProgress=e.type==="progress",ranges=e.target.buffered,loaded=e.loaded||0,total=e.total||1;s.buffered=[];if(ranges&&ranges.length){for(i=0,j=ranges.length;i<j;i++){s.buffered.push({start:ranges.start(i)*msecScale,end:ranges.end(i)*msecScale})}buffered=(ranges.end(0)-ranges.start(0))*msecScale;loaded=Math.min(1,buffered/(e.target.duration*msecScale));if(isProgress&&ranges.length>1){progStr=[];j=ranges.length;for(i=0;i<j;i++){progStr.push(e.target.buffered.start(i)*msecScale+"-"+e.target.buffered.end(i)*msecScale)}sm2._wD(this._s.id+": progress, timeRanges: "+progStr.join(", "))}if(isProgress&&!isNaN(loaded)){sm2._wD(this._s.id+": progress, "+Math.floor(loaded*100)+"% loaded")}}if(!isNaN(loaded)){s._whileloading(loaded,total,s._get_html5_duration());if(loaded&&total&&loaded===total){html5_events.canplaythrough.call(this,e)}}}),ratechange:html5_event(function(){sm2._wD(this._s.id+": ratechange")}),suspend:html5_event(function(e){var s=this._s;sm2._wD(this._s.id+": suspend");html5_events.progress.call(this,e);s._onsuspend()}),stalled:html5_event(function(){sm2._wD(this._s.id+": stalled")}),timeupdate:html5_event(function(){this._s._onTimer()}),waiting:html5_event(function(){var s=this._s;sm2._wD(this._s.id+": waiting");s._onbufferchange(1)})};html5OK=function(iO){var result;if(!iO||!iO.type&&!iO.url&&!iO.serverURL){result=false}else if(iO.serverURL||iO.type&&preferFlashCheck(iO.type)){result=false}else{result=iO.type?html5CanPlay({type:iO.type}):html5CanPlay({url:iO.url})||sm2.html5Only||iO.url.match(/data\:/i)}return result};html5Unload=function(oAudio){var url;if(oAudio){url=isSafari?emptyURL:sm2.html5.canPlayType("audio/wav")?emptyWAV:emptyURL;oAudio.src=url;if(oAudio._called_unload!==_undefined){oAudio._called_load=false}}if(useGlobalHTML5Audio){lastGlobalHTML5URL=null}return url};html5CanPlay=function(o){if(!sm2.useHTML5Audio||!sm2.hasHTML5){return false}var url=o.url||null,mime=o.type||null,aF=sm2.audioFormats,result,offset,fileExt,item;if(mime&&sm2.html5[mime]!==_undefined){return sm2.html5[mime]&&!preferFlashCheck(mime)}if(!html5Ext){html5Ext=[];for(item in aF){if(aF.hasOwnProperty(item)){html5Ext.push(item);if(aF[item].related){html5Ext=html5Ext.concat(aF[item].related)}}}html5Ext=new RegExp("\\.("+html5Ext.join("|")+")(\\?.*)?$","i")}fileExt=url?url.toLowerCase().match(html5Ext):null;if(!fileExt||!fileExt.length){if(!mime){result=false}else{offset=mime.indexOf(";");fileExt=(offset!==-1?mime.substr(0,offset):mime).substr(6)}}else{fileExt=fileExt[1]}if(fileExt&&sm2.html5[fileExt]!==_undefined){result=sm2.html5[fileExt]&&!preferFlashCheck(fileExt)}else{mime="audio/"+fileExt;result=sm2.html5.canPlayType({type:mime});sm2.html5[fileExt]=result;result=result&&sm2.html5[mime]&&!preferFlashCheck(mime)}return result};testHTML5=function(){if(!sm2.useHTML5Audio||!sm2.hasHTML5){sm2.html5.usingFlash=true;needsFlash=true;return false}var a=Audio!==_undefined?isOpera&&opera.version()<10?new Audio(null):new Audio:null,item,lookup,support={},aF,i;function cp(m){var canPlay,j,result=false,isOK=false;if(!a||typeof a.canPlayType!=="function"){return result}if(m instanceof Array){for(i=0,j=m.length;i<j;i++){if(sm2.html5[m[i]]||a.canPlayType(m[i]).match(sm2.html5Test)){isOK=true;sm2.html5[m[i]]=true;sm2.flash[m[i]]=!!m[i].match(flashMIME)}}result=isOK}else{canPlay=a&&typeof a.canPlayType==="function"?a.canPlayType(m):false;result=!!(canPlay&&canPlay.match(sm2.html5Test))}return result}aF=sm2.audioFormats;for(item in aF){if(aF.hasOwnProperty(item)){lookup="audio/"+item;support[item]=cp(aF[item].type);support[lookup]=support[item];if(item.match(flashMIME)){sm2.flash[item]=true;sm2.flash[lookup]=true}else{sm2.flash[item]=false;sm2.flash[lookup]=false}if(aF[item]&&aF[item].related){for(i=aF[item].related.length-1;i>=0;i--){support["audio/"+aF[item].related[i]]=support[item];sm2.html5[aF[item].related[i]]=support[item];sm2.flash[aF[item].related[i]]=support[item]}}}}support.canPlayType=a?cp:null;sm2.html5=mixin(sm2.html5,support);sm2.html5.usingFlash=featureCheck();needsFlash=sm2.html5.usingFlash;return true};strings={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:sm+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:smc+"Verify that %s is a valid path.",tryDebug:"Try "+sm+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:smc+"Non-HTTP page ("+doc.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:smc+"Special case: Waiting for SWF to load with window focus...",waitForever:smc+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:smc+"Waiting for 100% SWF load...",needFunction:smc+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:smc+"_debug(): Current sound objects",waitOnload:smc+"Waiting for window.onload()",docLoaded:smc+"Document already loaded",onload:smc+"initComplete(): calling soundManager.onload()",onloadOK:sm+".onload() complete",didInit:smc+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:smc+"Failed to remove Flash node.",shutdown:sm+".disable(): Shutting down",queue:smc+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+swfCSS.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:smc+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:sm+".load(): current URL already assigned.",badFV:sm+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:smc+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:smc+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:sm+".setup(): allowed parameters: %s",setupError:sm+'.setup(): "%s" cannot be assigned with this method.',setupUndef:sm+'.setup(): Could not find option "%s"',setupLate:sm+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:smc+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:sm+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."};str=function(){var args,i,j,o,sstr;args=slice.call(arguments);o=args.shift();sstr=strings&&strings[o]?strings[o]:"";if(sstr&&args&&args.length){for(i=0,j=args.length;i<j;i++){sstr=sstr.replace("%s",args[i])}}return sstr};loopFix=function(sOpt){if(fV===8&&sOpt.loops>1&&sOpt.stream){_wDS("as2loop");sOpt.stream=false}return sOpt};policyFix=function(sOpt,sPre){if(sOpt&&!sOpt.usePolicyFile&&(sOpt.onid3||sOpt.usePeakData||sOpt.useWaveformData||sOpt.useEQData)){sm2._wD((sPre||"")+str("policy"));sOpt.usePolicyFile=true}return sOpt};complain=function(sMsg){if(hasConsole&&console.warn!==_undefined){console.warn(sMsg)}else{sm2._wD(sMsg)}};doNothing=function(){return false};disableObject=function(o){var oProp;for(oProp in o){if(o.hasOwnProperty(oProp)&&typeof o[oProp]==="function"){o[oProp]=doNothing}}oProp=null};failSafely=function(bNoDisable){if(bNoDisable===_undefined){bNoDisable=false}if(disabled||bNoDisable){sm2.disable(bNoDisable)}};normalizeMovieURL=function(smURL){var urlParams=null,url;if(smURL){if(smURL.match(/\.swf(\?.*)?$/i)){urlParams=smURL.substr(smURL.toLowerCase().lastIndexOf(".swf?")+4);if(urlParams){return smURL}}else if(smURL.lastIndexOf("/")!==smURL.length-1){smURL+="/"}}url=(smURL&&smURL.lastIndexOf("/")!==-1?smURL.substr(0,smURL.lastIndexOf("/")+1):"./")+sm2.movieURL;if(sm2.noSWFCache){url+="?ts="+(new Date).getTime()}return url};setVersionInfo=function(){fV=parseInt(sm2.flashVersion,10);if(fV!==8&&fV!==9){sm2._wD(str("badFV",fV,defaultFlashVersion));sm2.flashVersion=fV=defaultFlashVersion}var isDebug=sm2.debugMode||sm2.debugFlash?"_debug.swf":".swf";if(sm2.useHTML5Audio&&!sm2.html5Only&&sm2.audioFormats.mp4.required&&fV<9){sm2._wD(str("needfl9"));sm2.flashVersion=fV=9}sm2.version=sm2.versionNumber+(sm2.html5Only?" (HTML5-only mode)":fV===9?" (AS3/Flash 9)":" (AS2/Flash 8)");if(fV>8){sm2.defaultOptions=mixin(sm2.defaultOptions,sm2.flash9Options);sm2.features.buffering=true;sm2.defaultOptions=mixin(sm2.defaultOptions,sm2.movieStarOptions);sm2.filePatterns.flash9=new RegExp("\\.(mp3|"+netStreamTypes.join("|")+")(\\?.*)?$","i");sm2.features.movieStar=true}else{sm2.features.movieStar=false}sm2.filePattern=sm2.filePatterns[fV!==8?"flash9":"flash8"];sm2.movieURL=(fV===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",isDebug);sm2.features.peakData=sm2.features.waveformData=sm2.features.eqData=fV>8};setPolling=function(bPolling,bHighPerformance){if(!flash){return false}flash._setPolling(bPolling,bHighPerformance)};initDebug=function(){if(sm2.debugURLParam.test(wl)){sm2.setupOptions.debugMode=sm2.debugMode=true}if(id(sm2.debugID)){return false}var oD,oDebug,oTarget,oToggle,tmp;if(sm2.debugMode&&!id(sm2.debugID)&&(!hasConsole||!sm2.useConsole||!sm2.consoleOnly)){oD=doc.createElement("div");oD.id=sm2.debugID+"-toggle";oToggle={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001};oD.appendChild(doc.createTextNode("-"));oD.onclick=toggleDebug;oD.title="Toggle SM2 debug console";if(ua.match(/msie 6/i)){oD.style.position="absolute";oD.style.cursor="hand"}for(tmp in oToggle){if(oToggle.hasOwnProperty(tmp)){oD.style[tmp]=oToggle[tmp]}}oDebug=doc.createElement("div");oDebug.id=sm2.debugID;oDebug.style.display=sm2.debugMode?"block":"none";if(sm2.debugMode&&!id(oD.id)){try{oTarget=getDocument();oTarget.appendChild(oD)}catch(e2){throw new Error(str("domError")+" \n"+e2.toString())}oTarget.appendChild(oDebug)}}oTarget=null};idCheck=this.getSoundById;_wDS=function(o,errorLevel){return!o?"":sm2._wD(str(o),errorLevel)};toggleDebug=function(){var o=id(sm2.debugID),oT=id(sm2.debugID+"-toggle");if(!o){return false}if(debugOpen){oT.innerHTML="+";o.style.display="none"}else{oT.innerHTML="-";o.style.display="block"}debugOpen=!debugOpen};debugTS=function(sEventType,bSuccess,sMessage){if(window.sm2Debugger!==_undefined){try{sm2Debugger.handleEvent(sEventType,bSuccess,sMessage)}catch(e){return false}}return true};getSWFCSS=function(){var css=[];if(sm2.debugMode){css.push(swfCSS.sm2Debug)}if(sm2.debugFlash){css.push(swfCSS.flashDebug)}if(sm2.useHighPerformance){css.push(swfCSS.highPerf)}return css.join(" ")};flashBlockHandler=function(){var name=str("fbHandler"),p=sm2.getMoviePercent(),css=swfCSS,error={type:"FLASHBLOCK"};if(sm2.html5Only){return false}if(!sm2.ok()){if(needsFlash){sm2.oMC.className=getSWFCSS()+" "+css.swfDefault+" "+(p===null?css.swfTimedout:css.swfError);sm2._wD(name+": "+str("fbTimeout")+(p?" ("+str("fbLoaded")+")":""))}sm2.didFlashBlock=true;processOnEvents({type:"ontimeout",ignoreInit:true,error:error});catchError(error)}else{if(sm2.didFlashBlock){sm2._wD(name+": Unblocked")}if(sm2.oMC){sm2.oMC.className=[getSWFCSS(),css.swfDefault,css.swfLoaded+(sm2.didFlashBlock?" "+css.swfUnblocked:"")].join(" ")}}};addOnEvent=function(sType,oMethod,oScope){if(on_queue[sType]===_undefined){on_queue[sType]=[]}on_queue[sType].push({method:oMethod,scope:oScope||null,fired:false})};processOnEvents=function(oOptions){if(!oOptions){oOptions={type:sm2.ok()?"onready":"ontimeout"}}if(!didInit&&oOptions&&!oOptions.ignoreInit){return false}if(oOptions.type==="ontimeout"&&(sm2.ok()||disabled&&!oOptions.ignoreInit)){return false}var status={success:oOptions&&oOptions.ignoreInit?sm2.ok():!disabled},srcQueue=oOptions&&oOptions.type?on_queue[oOptions.type]||[]:[],queue=[],i,j,args=[status],canRetry=needsFlash&&!sm2.ok();if(oOptions.error){args[0].error=oOptions.error}for(i=0,j=srcQueue.length;i<j;i++){if(srcQueue[i].fired!==true){queue.push(srcQueue[i])}}if(queue.length){for(i=0,j=queue.length;i<j;i++){if(queue[i].scope){queue[i].method.apply(queue[i].scope,args)}else{queue[i].method.apply(this,args)}if(!canRetry){queue[i].fired=true}}}return true};initUserOnload=function(){window.setTimeout(function(){if(sm2.useFlashBlock){flashBlockHandler()}processOnEvents();if(typeof sm2.onload==="function"){_wDS("onload",1);sm2.onload.apply(window);_wDS("onloadOK",1)}if(sm2.waitForWindowLoad){event.add(window,"load",initUserOnload)}},1)};detectFlash=function(){if(hasFlash!==_undefined){return hasFlash}var hasPlugin=false,n=navigator,nP=n.plugins,obj,type,types,AX=window.ActiveXObject;if(nP&&nP.length){type="application/x-shockwave-flash";types=n.mimeTypes;if(types&&types[type]&&types[type].enabledPlugin&&types[type].enabledPlugin.description){hasPlugin=true}}else if(AX!==_undefined&&!ua.match(/MSAppHost/i)){try{obj=new AX("ShockwaveFlash.ShockwaveFlash")}catch(e){obj=null}hasPlugin=!!obj;obj=null}hasFlash=hasPlugin;return hasPlugin};featureCheck=function(){var flashNeeded,item,formats=sm2.audioFormats,isSpecial=is_iDevice&&!!ua.match(/os (1|2|3_0|3_1)\s/i);if(isSpecial){sm2.hasHTML5=false;sm2.html5Only=true;if(sm2.oMC){sm2.oMC.style.display="none"}}else{if(sm2.useHTML5Audio){if(!sm2.html5||!sm2.html5.canPlayType){sm2._wD("SoundManager: No HTML5 Audio() support detected.");sm2.hasHTML5=false}if(isBadSafari){sm2._wD(smc+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(!hasFlash?" would use flash fallback for MP3/MP4, but none detected.":"will use flash fallback for MP3/MP4, if available"),1)}}}if(sm2.useHTML5Audio&&sm2.hasHTML5){canIgnoreFlash=true;for(item in formats){if(formats.hasOwnProperty(item)){if(formats[item].required){if(!sm2.html5.canPlayType(formats[item].type)){canIgnoreFlash=false;flashNeeded=true}else if(sm2.preferFlash&&(sm2.flash[item]||sm2.flash[formats[item].type])){flashNeeded=true}}}}}if(sm2.ignoreFlash){flashNeeded=false;canIgnoreFlash=true}sm2.html5Only=sm2.hasHTML5&&sm2.useHTML5Audio&&!flashNeeded;return!sm2.html5Only};parseURL=function(url){var i,j,urlResult=0,result;if(url instanceof Array){for(i=0,j=url.length;i<j;i++){if(url[i]instanceof Object){if(sm2.canPlayMIME(url[i].type)){urlResult=i;break}}else if(sm2.canPlayURL(url[i])){urlResult=i;break}}if(url[urlResult].url){url[urlResult]=url[urlResult].url}result=url[urlResult]}else{result=url}return result};startTimer=function(oSound){if(!oSound._hasTimer){oSound._hasTimer=true;if(!mobileHTML5&&sm2.html5PollingInterval){if(h5IntervalTimer===null&&h5TimerCount===0){h5IntervalTimer=setInterval(timerExecute,sm2.html5PollingInterval)}h5TimerCount++}}};stopTimer=function(oSound){if(oSound._hasTimer){oSound._hasTimer=false;if(!mobileHTML5&&sm2.html5PollingInterval){h5TimerCount--}}};timerExecute=function(){var i;if(h5IntervalTimer!==null&&!h5TimerCount){clearInterval(h5IntervalTimer);h5IntervalTimer=null;return false}for(i=sm2.soundIDs.length-1;i>=0;i--){if(sm2.sounds[sm2.soundIDs[i]].isHTML5&&sm2.sounds[sm2.soundIDs[i]]._hasTimer){sm2.sounds[sm2.soundIDs[i]]._onTimer()}}};catchError=function(options){options=options!==_undefined?options:{};if(typeof sm2.onerror==="function"){sm2.onerror.apply(window,[{type:options.type!==_undefined?options.type:null}])}if(options.fatal!==_undefined&&options.fatal){sm2.disable()}};badSafariFix=function(){if(!isBadSafari||!detectFlash()){return false}var aF=sm2.audioFormats,i,item;for(item in aF){if(aF.hasOwnProperty(item)){if(item==="mp3"||item==="mp4"){sm2._wD(sm+": Using flash fallback for "+item+" format");sm2.html5[item]=false;if(aF[item]&&aF[item].related){for(i=aF[item].related.length-1;i>=0;i--){sm2.html5[aF[item].related[i]]=false}}}}}};this._setSandboxType=function(sandboxType){var sb=sm2.sandbox;sb.type=sandboxType;sb.description=sb.types[sb.types[sandboxType]!==_undefined?sandboxType:"unknown"];if(sb.type==="localWithFile"){sb.noRemote=true;sb.noLocal=false;_wDS("secNote",2)}else if(sb.type==="localWithNetwork"){sb.noRemote=false;sb.noLocal=true}else if(sb.type==="localTrusted"){sb.noRemote=false;sb.noLocal=false}};this._externalInterfaceOK=function(swfVersion){if(sm2.swfLoaded){return false}var e;debugTS("swf",true);debugTS("flashtojs",true);sm2.swfLoaded=true;tryInitOnFocus=false;if(isBadSafari){badSafariFix()}if(!swfVersion||swfVersion.replace(/\+dev/i,"")!==sm2.versionNumber.replace(/\+dev/i,"")){e=sm+': Fatal: JavaScript file build "'+sm2.versionNumber+'" does not match Flash SWF build "'+swfVersion+'" at '+sm2.url+". Ensure both are up-to-date.";setTimeout(function versionMismatch(){throw new Error(e)},0);return false}setTimeout(init,isIE?100:1)};createMovie=function(smID,smURL){if(didAppend&&appendSuccess){return false}function initMsg(){var options=[],title,msg=[],delimiter=" + ";title="SoundManager "+sm2.version+(!sm2.html5Only&&sm2.useHTML5Audio?sm2.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"");if(!sm2.html5Only){if(sm2.preferFlash){options.push("preferFlash")}if(sm2.useHighPerformance){options.push("useHighPerformance")}if(sm2.flashPollingInterval){options.push("flashPollingInterval ("+sm2.flashPollingInterval+"ms)")}if(sm2.html5PollingInterval){options.push("html5PollingInterval ("+sm2.html5PollingInterval+"ms)")}if(sm2.wmode){options.push("wmode ("+sm2.wmode+")")}if(sm2.debugFlash){options.push("debugFlash")}if(sm2.useFlashBlock){options.push("flashBlock")}}else{if(sm2.html5PollingInterval){options.push("html5PollingInterval ("+sm2.html5PollingInterval+"ms)")}}if(options.length){msg=msg.concat([options.join(delimiter)])}sm2._wD(title+(msg.length?delimiter+msg.join(", "):""),1);showSupport()}if(sm2.html5Only){setVersionInfo();initMsg();sm2.oMC=id(sm2.movieID);init();didAppend=true;appendSuccess=true;return false}var remoteURL=smURL||sm2.url,localURL=sm2.altURL||remoteURL,swfTitle="JS/Flash audio component (SoundManager 2)",oTarget=getDocument(),extraClass=getSWFCSS(),isRTL=null,html=doc.getElementsByTagName("html")[0],oEmbed,oMovie,tmp,movieHTML,oEl,s,x,sClass;isRTL=html&&html.dir&&html.dir.match(/rtl/i);smID=smID===_undefined?sm2.id:smID;function param(name,value){return'<param name="'+name+'" value="'+value+'" />'}setVersionInfo();sm2.url=normalizeMovieURL(overHTTP?remoteURL:localURL);smURL=sm2.url;sm2.wmode=!sm2.wmode&&sm2.useHighPerformance?"transparent":sm2.wmode;if(sm2.wmode!==null&&(ua.match(/msie 8/i)||!isIE&&!sm2.useHighPerformance)&&navigator.platform.match(/win32|win64/i)){messages.push(strings.spcWmode);sm2.wmode=null}oEmbed={name:smID,id:smID,src:smURL,quality:"high",allowScriptAccess:sm2.allowScriptAccess,bgcolor:sm2.bgColor,pluginspage:http+"www.macromedia.com/go/getflashplayer",title:swfTitle,type:"application/x-shockwave-flash",wmode:sm2.wmode,hasPriority:"true"};if(sm2.debugFlash){oEmbed.FlashVars="debug=1"}if(!sm2.wmode){delete oEmbed.wmode}if(isIE){oMovie=doc.createElement("div");movieHTML=['<object id="'+smID+'" data="'+smURL+'" type="'+oEmbed.type+'" title="'+oEmbed.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',param("movie",smURL),param("AllowScriptAccess",sm2.allowScriptAccess),param("quality",oEmbed.quality),sm2.wmode?param("wmode",sm2.wmode):"",param("bgcolor",sm2.bgColor),param("hasPriority","true"),sm2.debugFlash?param("FlashVars",oEmbed.FlashVars):"","</object>"].join("")}else{oMovie=doc.createElement("embed");for(tmp in oEmbed){if(oEmbed.hasOwnProperty(tmp)){oMovie.setAttribute(tmp,oEmbed[tmp])}}}initDebug();extraClass=getSWFCSS();oTarget=getDocument();if(oTarget){sm2.oMC=id(sm2.movieID)||doc.createElement("div");if(!sm2.oMC.id){
sm2.oMC.id=sm2.movieID;sm2.oMC.className=swfCSS.swfDefault+" "+extraClass;s=null;oEl=null;if(!sm2.useFlashBlock){if(sm2.useHighPerformance){s={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}}else{s={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"};if(isRTL){s.left=Math.abs(parseInt(s.left,10))+"px"}}}if(isWebkit){sm2.oMC.style.zIndex=1e4}if(!sm2.debugFlash){for(x in s){if(s.hasOwnProperty(x)){sm2.oMC.style[x]=s[x]}}}try{if(!isIE){sm2.oMC.appendChild(oMovie)}oTarget.appendChild(sm2.oMC);if(isIE){oEl=sm2.oMC.appendChild(doc.createElement("div"));oEl.className=swfCSS.swfBox;oEl.innerHTML=movieHTML}appendSuccess=true}catch(e){throw new Error(str("domError")+" \n"+e.toString())}}else{sClass=sm2.oMC.className;sm2.oMC.className=(sClass?sClass+" ":swfCSS.swfDefault)+(extraClass?" "+extraClass:"");sm2.oMC.appendChild(oMovie);if(isIE){oEl=sm2.oMC.appendChild(doc.createElement("div"));oEl.className=swfCSS.swfBox;oEl.innerHTML=movieHTML}appendSuccess=true}}didAppend=true;initMsg();return true};initMovie=function(){if(sm2.html5Only){createMovie();return false}if(flash){return false}if(!sm2.url){_wDS("noURL");return false}flash=sm2.getMovie(sm2.id);if(!flash){if(!oRemoved){createMovie(sm2.id,sm2.url)}else{if(!isIE){sm2.oMC.appendChild(oRemoved)}else{sm2.oMC.innerHTML=oRemovedHTML}oRemoved=null;didAppend=true}flash=sm2.getMovie(sm2.id)}if(typeof sm2.oninitmovie==="function"){setTimeout(sm2.oninitmovie,1)}flushMessages();return true};delayWaitForEI=function(){setTimeout(waitForEI,1e3)};rebootIntoHTML5=function(){window.setTimeout(function(){complain(smc+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false...");sm2.setup({preferFlash:false}).reboot();sm2.didFlashBlock=true;sm2.beginDelayedInit()},1)};waitForEI=function(){var p,loadIncomplete=false;if(!sm2.url){return false}if(waitingForEI){return false}waitingForEI=true;event.remove(window,"load",delayWaitForEI);if(hasFlash&&tryInitOnFocus&&!isFocused){_wDS("waitFocus");return false}if(!didInit){p=sm2.getMoviePercent();if(p>0&&p<100){loadIncomplete=true}}setTimeout(function(){p=sm2.getMoviePercent();if(loadIncomplete){waitingForEI=false;sm2._wD(str("waitSWF"));window.setTimeout(delayWaitForEI,1);return false}if(!didInit){sm2._wD(sm+": No Flash response within expected time. Likely causes: "+(p===0?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(sm2.debugFlash?" "+str("checkSWF"):""),2);if(!overHTTP&&p){_wDS("localFail",2);if(!sm2.debugFlash){_wDS("tryDebug",2)}}if(p===0){sm2._wD(str("swf404",sm2.url),1)}debugTS("flashtojs",false,": Timed out"+(overHTTP?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))}if(!didInit&&okToDisable){if(p===null){if(sm2.useFlashBlock||sm2.flashLoadTimeout===0){if(sm2.useFlashBlock){flashBlockHandler()}_wDS("waitForever")}else{if(!sm2.useFlashBlock&&canIgnoreFlash){rebootIntoHTML5()}else{_wDS("waitForever");processOnEvents({type:"ontimeout",ignoreInit:true,error:{type:"INIT_FLASHBLOCK"}})}}}else{if(sm2.flashLoadTimeout===0){_wDS("waitForever")}else{if(!sm2.useFlashBlock&&canIgnoreFlash){rebootIntoHTML5()}else{failSafely(true)}}}}},sm2.flashLoadTimeout)};handleFocus=function(){function cleanup(){event.remove(window,"focus",handleFocus)}if(isFocused||!tryInitOnFocus){cleanup();return true}okToDisable=true;isFocused=true;_wDS("gotFocus");waitingForEI=false;delayWaitForEI();cleanup();return true};flushMessages=function(){if(messages.length){sm2._wD("SoundManager 2: "+messages.join(" "),1);messages=[]}};showSupport=function(){flushMessages();var item,tests=[];if(sm2.useHTML5Audio&&sm2.hasHTML5){for(item in sm2.audioFormats){if(sm2.audioFormats.hasOwnProperty(item)){tests.push(item+" = "+sm2.html5[item]+(!sm2.html5[item]&&needsFlash&&sm2.flash[item]?" (using flash)":sm2.preferFlash&&sm2.flash[item]&&needsFlash?" (preferring flash)":!sm2.html5[item]?" ("+(sm2.audioFormats[item].required?"required, ":"")+"and no flash support)":""))}}sm2._wD("SoundManager 2 HTML5 support: "+tests.join(", "),1)}};initComplete=function(bNoDisable){if(didInit){return false}if(sm2.html5Only){_wDS("sm2Loaded",1);didInit=true;initUserOnload();debugTS("onload",true);return true}var wasTimeout=sm2.useFlashBlock&&sm2.flashLoadTimeout&&!sm2.getMoviePercent(),result=true,error;if(!wasTimeout){didInit=true}error={type:!hasFlash&&needsFlash?"NO_FLASH":"INIT_TIMEOUT"};sm2._wD("SoundManager 2 "+(disabled?"failed to load":"loaded")+" ("+(disabled?"Flash security/load error":"OK")+") "+String.fromCharCode(disabled?10006:10003),disabled?2:1);if(disabled||bNoDisable){if(sm2.useFlashBlock&&sm2.oMC){sm2.oMC.className=getSWFCSS()+" "+(sm2.getMoviePercent()===null?swfCSS.swfTimedout:swfCSS.swfError)}processOnEvents({type:"ontimeout",error:error,ignoreInit:true});debugTS("onload",false);catchError(error);result=false}else{debugTS("onload",true)}if(!disabled){if(sm2.waitForWindowLoad&&!windowLoaded){_wDS("waitOnload");event.add(window,"load",initUserOnload)}else{if(sm2.waitForWindowLoad&&windowLoaded){_wDS("docLoaded")}initUserOnload()}}return result};setProperties=function(){var i,o=sm2.setupOptions;for(i in o){if(o.hasOwnProperty(i)){if(sm2[i]===_undefined){sm2[i]=o[i]}else if(sm2[i]!==o[i]){sm2.setupOptions[i]=sm2[i]}}}};init=function(){if(didInit){_wDS("didInit");return false}function cleanup(){event.remove(window,"load",sm2.beginDelayedInit)}if(sm2.html5Only){if(!didInit){cleanup();sm2.enabled=true;initComplete()}return true}initMovie();try{flash._externalInterfaceTest(false);setPolling(true,sm2.flashPollingInterval||(sm2.useHighPerformance?10:50));if(!sm2.debugMode){flash._disableDebug()}sm2.enabled=true;debugTS("jstoflash",true);if(!sm2.html5Only){event.add(window,"unload",doNothing)}}catch(e){sm2._wD("js/flash exception: "+e.toString());debugTS("jstoflash",false);catchError({type:"JS_TO_FLASH_EXCEPTION",fatal:true});failSafely(true);initComplete();return false}initComplete();cleanup();return true};domContentLoaded=function(){if(didDCLoaded){return false}didDCLoaded=true;setProperties();initDebug();if(!hasFlash&&sm2.hasHTML5){sm2._wD("SoundManager 2: No Flash detected"+(!sm2.useHTML5Audio?", enabling HTML5.":". Trying HTML5-only mode."),1);sm2.setup({useHTML5Audio:true,preferFlash:false})}testHTML5();if(!hasFlash&&needsFlash){messages.push(strings.needFlash);sm2.setup({flashLoadTimeout:1})}if(doc.removeEventListener){doc.removeEventListener("DOMContentLoaded",domContentLoaded,false)}initMovie();return true};domContentLoadedIE=function(){if(doc.readyState==="complete"){domContentLoaded();doc.detachEvent("onreadystatechange",domContentLoadedIE)}return true};winOnLoad=function(){windowLoaded=true;domContentLoaded();event.remove(window,"load",winOnLoad)};detectFlash();event.add(window,"focus",handleFocus);event.add(window,"load",delayWaitForEI);event.add(window,"load",winOnLoad);if(doc.addEventListener){doc.addEventListener("DOMContentLoaded",domContentLoaded,false)}else if(doc.attachEvent){doc.attachEvent("onreadystatechange",domContentLoadedIE)}else{debugTS("onload",false);catchError({type:"NO_DOM2_EVENTS",fatal:true})}}if(window.SM2_DEFER===_undefined||!SM2_DEFER){soundManager=new SoundManager}if(typeof module==="object"&&module&&typeof module.exports==="object"){module.exports.SoundManager=SoundManager;module.exports.soundManager=soundManager}else if(typeof define==="function"&&define.amd){define(function(){function getInstance(smBuilder){if(!window.soundManager&&smBuilder instanceof Function){var instance=smBuilder(SoundManager);if(instance instanceof SoundManager){window.soundManager=instance}}return window.soundManager}return{constructor:SoundManager,getInstance:getInstance}})}window.SoundManager=SoundManager;window.soundManager=soundManager})(window);!function(name,definition){if(typeof module!="undefined"&&module.exports)module.exports=definition();else if(typeof define=="function"&&define.amd)define(definition);else this[name]=definition()}("bowser",function(){var t=true;function detect(ua){function getFirstMatch(regex){var match=ua.match(regex);return match&&match.length>1&&match[1]||""}function getSecondMatch(regex){var match=ua.match(regex);return match&&match.length>1&&match[2]||""}var iosdevice=getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase(),likeAndroid=/like android/i.test(ua),android=!likeAndroid&&/android/i.test(ua),chromeBook=/CrOS/.test(ua),edgeVersion=getFirstMatch(/edge\/(\d+(\.\d+)?)/i),versionIdentifier=getFirstMatch(/version\/(\d+(\.\d+)?)/i),tablet=/tablet/i.test(ua),mobile=!tablet&&/[^-]mobi/i.test(ua),result;if(/opera|opr/i.test(ua)){result={name:"Opera",opera:t,version:versionIdentifier||getFirstMatch(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}}else if(/yabrowser/i.test(ua)){result={name:"Yandex Browser",yandexbrowser:t,version:versionIdentifier||getFirstMatch(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}}else if(/windows phone/i.test(ua)){result={name:"Windows Phone",windowsphone:t};if(edgeVersion){result.msedge=t;result.version=edgeVersion}else{result.msie=t;result.version=getFirstMatch(/iemobile\/(\d+(\.\d+)?)/i)}}else if(/msie|trident/i.test(ua)){result={name:"Internet Explorer",msie:t,version:getFirstMatch(/(?:msie |rv:)(\d+(\.\d+)?)/i)}}else if(chromeBook){result={name:"Chrome",chromeBook:t,chrome:t,version:getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}}else if(/chrome.+? edge/i.test(ua)){result={name:"Microsoft Edge",msedge:t,version:edgeVersion}}else if(/chrome|crios|crmo/i.test(ua)){result={name:"Chrome",chrome:t,version:getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}}else if(iosdevice){result={name:iosdevice=="iphone"?"iPhone":iosdevice=="ipad"?"iPad":"iPod"};if(versionIdentifier){result.version=versionIdentifier}}else if(/sailfish/i.test(ua)){result={name:"Sailfish",sailfish:t,version:getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}}else if(/seamonkey\//i.test(ua)){result={name:"SeaMonkey",seamonkey:t,version:getFirstMatch(/seamonkey\/(\d+(\.\d+)?)/i)}}else if(/firefox|iceweasel/i.test(ua)){result={name:"Firefox",firefox:t,version:getFirstMatch(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)};if(/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(ua)){result.firefoxos=t}}else if(/silk/i.test(ua)){result={name:"Amazon Silk",silk:t,version:getFirstMatch(/silk\/(\d+(\.\d+)?)/i)}}else if(android){result={name:"Android",version:versionIdentifier}}else if(/phantom/i.test(ua)){result={name:"PhantomJS",phantom:t,version:getFirstMatch(/phantomjs\/(\d+(\.\d+)?)/i)}}else if(/blackberry|\bbb\d+/i.test(ua)||/rim\stablet/i.test(ua)){result={name:"BlackBerry",blackberry:t,version:versionIdentifier||getFirstMatch(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}}else if(/(web|hpw)os/i.test(ua)){result={name:"WebOS",webos:t,version:versionIdentifier||getFirstMatch(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)};/touchpad\//i.test(ua)&&(result.touchpad=t)}else if(/bada/i.test(ua)){result={name:"Bada",bada:t,version:getFirstMatch(/dolfin\/(\d+(\.\d+)?)/i)}}else if(/tizen/i.test(ua)){result={name:"Tizen",tizen:t,version:getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||versionIdentifier}}else if(/safari/i.test(ua)){result={name:"Safari",safari:t,version:versionIdentifier}}else{result={name:getFirstMatch(/^(.*)\/(.*) /),version:getSecondMatch(/^(.*)\/(.*) /)}}if(!result.msedge&&/(apple)?webkit/i.test(ua)){result.name=result.name||"Webkit";result.webkit=t;if(!result.version&&versionIdentifier){result.version=versionIdentifier}}else if(!result.opera&&/gecko\//i.test(ua)){result.name=result.name||"Gecko";result.gecko=t;result.version=result.version||getFirstMatch(/gecko\/(\d+(\.\d+)?)/i)}if(!result.msedge&&(android||result.silk)){result.android=t}else if(iosdevice){result[iosdevice]=t;result.ios=t}var osVersion="";if(result.windowsphone){osVersion=getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i)}else if(iosdevice){osVersion=getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i);osVersion=osVersion.replace(/[_\s]/g,".")}else if(android){osVersion=getFirstMatch(/android[ \/-](\d+(\.\d+)*)/i)}else if(result.webos){osVersion=getFirstMatch(/(?:web|hpw)os\/(\d+(\.\d+)*)/i)}else if(result.blackberry){osVersion=getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i)}else if(result.bada){osVersion=getFirstMatch(/bada\/(\d+(\.\d+)*)/i)}else if(result.tizen){osVersion=getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i)}if(osVersion){result.osversion=osVersion}var osMajorVersion=osVersion.split(".")[0];if(tablet||iosdevice=="ipad"||android&&(osMajorVersion==3||osMajorVersion==4&&!mobile)||result.silk){result.tablet=t}else if(mobile||iosdevice=="iphone"||iosdevice=="ipod"||android||result.blackberry||result.webos||result.bada){result.mobile=t}if(result.msedge||result.msie&&result.version>=10||result.yandexbrowser&&result.version>=15||result.chrome&&result.version>=20||result.firefox&&result.version>=20||result.safari&&result.version>=6||result.opera&&result.version>=10||result.ios&&result.osversion&&result.osversion.split(".")[0]>=6||result.blackberry&&result.version>=10.1){result.a=t}else if(result.msie&&result.version<10||result.chrome&&result.version<20||result.firefox&&result.version<20||result.safari&&result.version<6||result.opera&&result.version<10||result.ios&&result.osversion&&result.osversion.split(".")[0]<6){result.c=t}else result.x=t;return result}var bowser=detect(typeof navigator!=="undefined"?navigator.userAgent:"");bowser.test=function(browserList){for(var i=0;i<browserList.length;++i){var browserItem=browserList[i];if(typeof browserItem==="string"){if(browserItem in bowser){return true}}}return false};bowser._detect=detect;return bowser});(function(global){function SignalBinding(signal,listener,isOnce,listenerContext,priority){this._listener=listener;this._isOnce=isOnce;this.context=listenerContext;this._signal=signal;this._priority=priority||0}SignalBinding.prototype={active:true,params:null,execute:function(paramsArr){var handlerReturn,params;if(this.active&&!!this._listener){params=this.params?this.params.concat(paramsArr):paramsArr;handlerReturn=this._listener.apply(this.context,params);if(this._isOnce){this.detach()}}return handlerReturn},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal;delete this._listener;delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}};function validateListener(listener,fnName){if(typeof listener!=="function"){throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",fnName))}}function Signal(){this._bindings=[];this._prevParams=null;var self=this;this.dispatch=function(){Signal.prototype.dispatch.apply(self,arguments)}}Signal.prototype={VERSION:"1.0.0",memorize:false,_shouldPropagate:true,active:true,_registerListener:function(listener,isOnce,listenerContext,priority){var prevIndex=this._indexOfListener(listener,listenerContext),binding;if(prevIndex!==-1){binding=this._bindings[prevIndex];if(binding.isOnce()!==isOnce){throw new Error("You cannot add"+(isOnce?"":"Once")+"() then add"+(!isOnce?"":"Once")+"() the same listener without removing the relationship first.")}}else{binding=new SignalBinding(this,listener,isOnce,listenerContext,priority);this._addBinding(binding)}if(this.memorize&&this._prevParams){binding.execute(this._prevParams)}return binding},_addBinding:function(binding){var n=this._bindings.length;do{--n}while(this._bindings[n]&&binding._priority<=this._bindings[n]._priority);this._bindings.splice(n+1,0,binding)},_indexOfListener:function(listener,context){var n=this._bindings.length,cur;while(n--){cur=this._bindings[n];if(cur._listener===listener&&cur.context===context){return n}}return-1},has:function(listener,context){return this._indexOfListener(listener,context)!==-1},add:function(listener,listenerContext,priority){validateListener(listener,"add");return this._registerListener(listener,false,listenerContext,priority)},addOnce:function(listener,listenerContext,priority){validateListener(listener,"addOnce");return this._registerListener(listener,true,listenerContext,priority)},remove:function(listener,context){validateListener(listener,"remove");var i=this._indexOfListener(listener,context);if(i!==-1){this._bindings[i]._destroy();this._bindings.splice(i,1)}return listener},removeAll:function(){var n=this._bindings.length;while(n--){this._bindings[n]._destroy()}this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=false},dispatch:function(params){if(!this.active){return}var paramsArr=Array.prototype.slice.call(arguments),n=this._bindings.length,bindings;if(this.memorize){this._prevParams=paramsArr}if(!n){return}bindings=this._bindings.slice();this._shouldPropagate=true;do{n--}while(bindings[n]&&this._shouldPropagate&&bindings[n].execute(paramsArr)!==false)},forget:function(){this._prevParams=null},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var signals=Signal;signals.Signal=Signal;if(typeof define==="function"&&define.amd){define(function(){return signals})}else if(typeof module!=="undefined"&&module.exports){module.exports=signals}else{global["signals"]=signals}})(this);function createCookie(name,value,days,domain){if(days){var date=new Date;date.setTime(date.getTime()+days*24*60*60*1e3);var expires="; expires="+date.toGMTString()}else var expires="";var domain=domain?"; domain="+domain:"";document.cookie=name+"="+value+expires+domain+"; path=/"}function readCookie(name){var nameEQ=name+"=";var ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" ")c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length)}return null}function eraseCookie(name,domain){var domain=domain?"; domain="+domain:"";createCookie(name,"",-1,domain)}"use strict";(function(){var root=this;var previous_emoji=root.EmojiConvertor;var emoji=function(){var self=this;self.img_set="apple";self.img_sets={apple:{path:"/emoji-data/img-apple-64/",sheet:"/emoji-data/sheet_apple_64.png",mask:1},google:{path:"/emoji-data/img-google-64/",sheet:"/emoji-data/sheet_google_64.png",mask:2},twitter:{path:"/emoji-data/img-twitter-64/",sheet:"/emoji-data/sheet_twitter_64.png",mask:4},emojione:{path:"/emoji-data/img-emojione-64/",sheet:"/emoji-data/sheet_emojione_64.png",mask:8}};self.use_css_imgs=false;self.colons_mode=false;self.text_mode=false;self.include_title=false;self.allow_native=true;self.use_sheet=false;self.avoid_ms_emoji=true;self.allow_caps=false;self.img_suffix="";self.inits={};self.map={};self.init_env();return self};emoji.prototype.noConflict=function(){root.EmojiConvertor=previous_emoji;return emoji};emoji.prototype.replace_emoticons=function(str){var self=this;var colonized=self.replace_emoticons_with_colons(str);return self.replace_colons(colonized)};emoji.prototype.replace_emoticons_with_colons=function(str){var self=this;self.init_emoticons();var _prev_offset=0;var emoticons_with_parens=[];var str_replaced=str.replace(self.rx_emoticons,function(m,$1,emoticon,offset){var prev_offset=_prev_offset;_prev_offset=offset+m.length;var has_open_paren=emoticon.indexOf("(")!==-1;var has_close_paren=emoticon.indexOf(")")!==-1;if((has_open_paren||has_close_paren)&&emoticons_with_parens.indexOf(emoticon)==-1){emoticons_with_parens.push(emoticon)}if(has_close_paren&&!has_open_paren){var piece=str.substring(prev_offset,offset);if(piece.indexOf("(")!==-1&&piece.indexOf(")")===-1)return m}if(m==="\n8)"){var before_match=str.substring(0,offset);if(/\n?(6\)|7\))/.test(before_match))return m}var val=self.data[self.map.emoticons[emoticon]][3][0];return val?$1+":"+val+":":m});if(emoticons_with_parens.length){var escaped_emoticons=emoticons_with_parens.map(self.escape_rx);var parenthetical_rx=new RegExp("(\\(.+)("+escaped_emoticons.join("|")+")(.+\\))","g");str_replaced=str_replaced.replace(parenthetical_rx,function(m,$1,emoticon,$2){var val=self.data[self.map.emoticons[emoticon]][3][0];return val?$1+":"+val+":"+$2:m})}return str_replaced};emoji.prototype.replace_colons=function(str){var self=this;self.init_colons();return str.replace(self.rx_colons,function(m){var idx=m.substr(1,m.length-2);if(self.allow_caps)idx=idx.toLowerCase();if(idx.indexOf("::skin-tone-")>-1){var skin_tone=idx.substr(-1,1);var skin_idx="skin-tone-"+skin_tone;var skin_val=self.map.colons[skin_idx];idx=idx.substr(0,idx.length-13);var val=self.map.colons[idx];if(val){return self.replacement(val,idx,":",{idx:skin_val,actual:skin_idx,wrapper:":"})}else{return":"+idx+":"+self.replacement(skin_val,skin_idx,":")}}else{var val=self.map.colons[idx];return val?self.replacement(val,idx,":"):m}})};emoji.prototype.replace_unified=function(str){var self=this;self.init_unified();return str.replace(self.rx_unified,function(m,p1,p2){var val=self.map.unified[p1];if(!val)return m;var idx=null;if(p2=="🏻")idx="1f3fb";if(p2=="🏼")idx="1f3fc";if(p2=="🏽")idx="1f3fd";if(p2=="🏾")idx="1f3fe";if(p2=="🏿")idx="1f3ff";if(idx){return self.replacement(val,null,null,{idx:idx,actual:p2,wrapper:""})}return self.replacement(val)})};emoji.prototype.addAliases=function(map){var self=this;self.init_colons();for(var i in map){self.map.colons[i]=map[i]}};emoji.prototype.removeAliases=function(list){var self=this;for(var i=0;i<list.length;i++){var alias=list[i];delete self.map.colons[alias];finder_block:{for(var j in self.data){for(var k=0;k<self.data[j][3].length;k++){if(alias==self.data[j][3][k]){self.map.colons[alias]=j;break finder_block}}}}}};emoji.prototype.replacement=function(idx,actual,wrapper,variation){var self=this;var extra="";var variation_idx=0;if(typeof variation==="object"){extra=self.replacement(variation.idx,variation.actual,variation.wrapper);variation_idx=idx+"-"+variation.idx}var img_set=self.img_set;if((!self.use_sheet||!self.supports_css)&&!(self.data[idx][6]&self.img_sets[self.img_set].mask)){img_set="apple"}wrapper=wrapper||"";if(self.colons_mode)return":"+self.data[idx][3][0]+":"+extra;var text_name=actual?wrapper+actual+wrapper:self.data[idx][8]||wrapper+self.data[idx][3][0]+wrapper;if(self.text_mode)return text_name+extra;self.init_env();if(self.replace_mode=="unified"&&self.allow_native&&self.data[idx][0][0])return self.data[idx][0][0]+extra;if(self.replace_mode=="softbank"&&self.allow_native&&self.data[idx][1])return self.data[idx][1]+extra;if(self.replace_mode=="google"&&self.allow_native&&self.data[idx][2])return self.data[idx][2]+extra;var img=self.data[idx][7]||self.img_sets[img_set].path+idx+".png"+self.img_suffix;var title=self.include_title?' title="'+(actual||self.data[idx][3][0])+'"':"";var text=self.include_text?wrapper+(actual||self.data[idx][3][0])+wrapper:"";var px=self.data[idx][4];var py=self.data[idx][5];if(variation_idx&&self.variations_data[variation_idx]&&self.variations_data[variation_idx][2]&&!self.data[idx][7]){if(self.variations_data[variation_idx][2]&self.img_sets[self.img_set].mask){img=self.img_sets[self.img_set].path+variation_idx+".png";px=self.variations_data[variation_idx][0];py=self.variations_data[variation_idx][1];extra=""}}if(self.supports_css){if(self.use_sheet&&px!=null&&py!=null){var mul=100/(self.sheet_size-1);var style="background: url("+self.img_sets[img_set].sheet+");background-position:"+mul*px+"% "+mul*py+"%;background-size:"+self.sheet_size+"00%";return'<span class="emoji-outer emoji-sizer" style="'+style+'"'+title+">"+text+"</span>"+extra}else if(self.use_css_imgs){return'<span class="emoji emoji-'+idx+'"'+title+">"+text+"</span>"+extra}else{if(TS.boot_data.feature_a11y_deanimation&&TS.model.prefs.a11y_animations===false){var img_proxy=TS.utility.getImgProxyURLWithOptions(img,{emoji:true});return'<span class="emoji emoji-sizer" style="background-image:url('+img_proxy+')"'+title+">"+text+"</span>"+extra}else{return'<span class="emoji emoji-sizer" style="background-image:url('+img+')"'+title+">"+text+"</span>"+extra}}}return'<img src="'+img+'" class="emoji" '+title+"/>"+extra};emoji.prototype.init_emoticons=function(){var self=this;if(self.inits.emoticons)return;self.init_colons();self.inits.emoticons=1;var a=[];self.map.emoticons={};for(var i in self.emoticons_data){var emoticon=i.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;");if(!self.map.colons[self.emoticons_data[i]])continue;self.map.emoticons[emoticon]=self.map.colons[self.emoticons_data[i]];a.push(self.escape_rx(emoticon))}self.rx_emoticons=new RegExp("(^|\\s)("+a.join("|")+")(?=$|[\\s|\\?\\.,!])","g")};emoji.prototype.init_colons=function(){var self=this;if(self.inits.colons)return;self.inits.colons=1;self.rx_colons=new RegExp(":[a-zA-Z0-9-_+]+:(:skin-tone-[2-6]:)?","g");self.map.colons={};for(var i in self.data){for(var j=0;j<self.data[i][3].length;j++){self.map.colons[self.data[i][3][j]]=i}}};emoji.prototype.init_unified=function(){var self=this;if(self.inits.unified)return;self.inits.unified=1;var a=[];self.map.unified={};for(var i in self.data){for(var j=0;j<self.data[i][0].length;j++){a.push(self.data[i][0][j].replace("*","\\*"));self.map.unified[self.data[i][0][j]]=i}}a=a.sort(function(a,b){return b.length-a.length});self.rx_unified=new RegExp("("+a.join("|")+")(�[�-�])?","g")};emoji.prototype.init_env=function(){var self=this;if(self.inits.env)return;self.inits.env=1;self.replace_mode="img";self.supports_css=false;if(typeof navigator!=="undefined"){var ua=navigator.userAgent;if(window.getComputedStyle){var st=window.getComputedStyle(document.body);if(st["background-size"]||st["backgroundSize"]){self.supports_css=true}}if(ua.match(/(iPhone|iPod|iPad|iPhone\s+Simulator)/i)){if(ua.match(/OS\s+[12345]/i)){self.replace_mode="softbank";return}if(ua.match(/OS\s+[6789]/i)){self.replace_mode="unified";return}}if(ua.match(/Mac OS X 10[._ ](?:[789]|1\d)/i)){self.replace_mode="unified";return}if(!self.avoid_ms_emoji){if(ua.match(/Windows NT 6.[1-9]/i)||ua.match(/Windows NT 10.[0-9]/i)){if(!ua.match(/Chrome/i)&&!ua.match(/MSIE 8/i)){self.replace_mode="unified";return}}}}if(false&&ua.match(/Android/i)){self.replace_mode="google";return}if(self.supports_css){self.replace_mode="css"}};emoji.prototype.escape_rx=function(text){return text.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};emoji.prototype.sheet_size=41;emoji.prototype.data={"00a9":[["©️","©"],"","󾬩",["copyright"],0,0,11,0],"00ae":[["®️","®"],"","󾬭",["registered"],0,1,11,0],"203c":[["‼️","‼"],"","󾬆",["bangbang"],0,2,15,0],2049:[["⁉️","⁉"],"","󾬅",["interrobang"],0,3,15,0],2122:[["™️","™"],"","󾬪",["tm"],0,4,11,0],2139:[["ℹ️","ℹ"],"","󾭇",["information_source"],0,5,15,0],2194:[["↔️","↔"],"","󾫶",["left_right_arrow"],0,6,15,0],2195:[["↕️","↕"],"","󾫷",["arrow_up_down"],0,7,15,0],2196:[["↖️","↖"],"","󾫲",["arrow_upper_left"],0,8,15,0],2197:[["↗️","↗"],"","󾫰",["arrow_upper_right"],0,9,15,0],2198:[["↘️","↘"],"","󾫱",["arrow_lower_right"],0,10,15,0],2199:[["↙️","↙"],"","󾫳",["arrow_lower_left"],0,11,15,0],"21a9":[["↩️","↩"],"","󾮃",["leftwards_arrow_with_hook"],0,12,15,0],"21aa":[["↪️","↪"],"","󾮈",["arrow_right_hook"],0,13,15,0],"231a":[["⌚️","⌚"],"","󾀝",["watch"],0,14,15,0],"231b":[["⌛️","⌛"],"","󾀜",["hourglass"],0,15,15,0],2328:[["⌨️","⌨"],"","",["keyboard"],0,16,15,0],"23cf":[["⏏"],"","",["eject"],0,17,2,0],"23e9":[["⏩"],"","󾫾",["fast_forward"],0,18,15,0],"23ea":[["⏪"],"","󾫿",["rewind"],0,19,15,0],"23eb":[["⏫"],"","󾬃",["arrow_double_up"],0,20,15,0],"23ec":[["⏬"],"","󾬂",["arrow_double_down"],0,21,15,0],"23ed":[["⏭"],"","",["black_right_pointing_double_triangle_with_vertical_bar"],0,22,15,0],"23ee":[["⏮"],"","",["black_left_pointing_double_triangle_with_vertical_bar"],0,23,15,0],"23ef":[["⏯"],"","",["black_right_pointing_triangle_with_double_vertical_bar"],0,24,15,0],"23f0":[["⏰"],"","󾀪",["alarm_clock"],0,25,15,0],"23f1":[["⏱"],"","",["stopwatch"],0,26,15,0],"23f2":[["⏲"],"","",["timer_clock"],0,27,15,0],"23f3":[["⏳"],"","󾀛",["hourglass_flowing_sand"],0,28,15,0],"23f8":[["⏸"],"","",["double_vertical_bar"],0,29,15,0],"23f9":[["⏹"],"","",["black_square_for_stop"],0,30,15,0],"23fa":[["⏺"],"","",["black_circle_for_record"],0,31,15,0],"24c2":[["Ⓜ️","Ⓜ"],"","󾟡",["m"],0,32,15,0],"25aa":[["▪️","▪"],"","󾭮",["black_small_square"],0,33,15,0],"25ab":[["▫️","▫"],"","󾭭",["white_small_square"],0,34,15,0],"25b6":[["▶️","▶"],"","󾫼",["arrow_forward"],0,35,15,0],"25c0":[["◀️","◀"],"","󾫽",["arrow_backward"],0,36,15,0],"25fb":[["◻️","◻"],"","󾭱",["white_medium_square"],0,37,15,0],"25fc":[["◼️","◼"],"","󾭲",["black_medium_square"],0,38,15,0],"25fd":[["◽️","◽"],"","󾭯",["white_medium_small_square"],0,39,15,0],"25fe":[["◾️","◾"],"","󾭰",["black_medium_small_square"],0,40,15,0],2600:[["☀️","☀"],"","󾀀",["sunny"],1,0,15,0],2601:[["☁️","☁"],"","󾀁",["cloud"],1,1,15,0],2602:[["☂️","☂"],"","",["umbrella"],1,2,15,0],2603:[["☃️","☃"],"","",["snowman"],1,3,15,0],2604:[["☄️","☄"],"","",["comet"],1,4,15,0],"260e":[["☎️","☎"],"","󾔣",["phone","telephone"],1,5,15,0],2611:[["☑️","☑"],"","󾮋",["ballot_box_with_check"],1,6,15,0],2614:[["☔️","☔"],"","󾀂",["umbrella_with_rain_drops"],1,7,15,0],2615:[["☕️","☕"],"","󾦁",["coffee"],1,8,15,0],2618:[["☘"],"","",["shamrock"],1,9,15,0],"261d":[["☝️","☝"],"","󾮘",["point_up"],1,10,15,0],2620:[["☠️","☠"],"","",["skull_and_crossbones"],1,16,15,0],2622:[["☢️","☢"],"","",["radioactive_sign"],1,17,15,0],2623:[["☣️","☣"],"","",["biohazard_sign"],1,18,15,0],2626:[["☦️","☦"],"","",["orthodox_cross"],1,19,15,0],"262a":[["☪️","☪"],"","",["star_and_crescent"],1,20,15,0],"262e":[["☮️","☮"],"","",["peace_symbol"],1,21,15,0],"262f":[["☯️","☯"],"","",["yin_yang"],1,22,15,0],2638:[["☸️","☸"],"","",["wheel_of_dharma"],1,23,15,0],2639:[["☹️","☹"],"","",["white_frowning_face"],1,24,15,0],"263a":[["☺️","☺"],"","󾌶",["relaxed"],1,25,15,0],2648:[["♈️","♈"],"","󾀫",["aries"],1,26,15,0],2649:[["♉️","♉"],"","󾀬",["taurus"],1,27,15,0],"264a":[["♊️","♊"],"","󾀭",["gemini"],1,28,15,0],"264b":[["♋️","♋"],"","󾀮",["cancer"],1,29,15,0],"264c":[["♌️","♌"],"","󾀯",["leo"],1,30,15,0],"264d":[["♍️","♍"],"","󾀰",["virgo"],1,31,15,0],"264e":[["♎️","♎"],"","󾀱",["libra"],1,32,15,0],"264f":[["♏️","♏"],"","󾀲",["scorpius"],1,33,15,0],2650:[["♐️","♐"],"","󾀳",["sagittarius"],1,34,15,0],2651:[["♑️","♑"],"","󾀴",["capricorn"],1,35,15,0],2652:[["♒️","♒"],"","󾀵",["aquarius"],1,36,15,0],2653:[["♓️","♓"],"","󾀶",["pisces"],1,37,15,0],2660:[["♠️","♠"],"","󾬛",["spades"],1,38,15,0],2663:[["♣️","♣"],"","󾬝",["clubs"],1,39,15,0],2665:[["♥️","♥"],"","󾬚",["hearts"],1,40,15,0],2666:[["♦️","♦"],"","󾬜",["diamonds"],2,0,15,0],2668:[["♨️","♨"],"","󾟺",["hotsprings"],2,1,15,0],"267b":[["♻️","♻"],"","󾬬",["recycle"],2,2,15,0],"267f":[["♿️","♿"],"","󾬠",["wheelchair"],2,3,15,0],2692:[["⚒"],"","",["hammer_and_pick"],2,4,15,0],2693:[["⚓️","⚓"],"","󾓁",["anchor"],2,5,15,0],2694:[["⚔"],"","",["crossed_swords"],2,6,15,0],2696:[["⚖"],"","",["scales"],2,7,15,0],2697:[["⚗"],"","",["alembic"],2,8,15,0],2699:[["⚙"],"","",["gear"],2,9,15,0],"269b":[["⚛"],"","",["atom_symbol"],2,10,15,0],"269c":[["⚜"],"","",["fleur_de_lis"],2,11,15,0],"26a0":[["⚠️","⚠"],"","󾬣",["warning"],2,12,15,0],"26a1":[["⚡️","⚡"],"","󾀄",["zap"],2,13,15,0],"26aa":[["⚪️","⚪"],"","󾭥",["white_circle"],2,14,15,0],"26ab":[["⚫️","⚫"],"","󾭦",["black_circle"],2,15,15,0],"26b0":[["⚰"],"","",["coffin"],2,16,15,0],"26b1":[["⚱"],"","",["funeral_urn"],2,17,15,0],"26bd":[["⚽️","⚽"],"","󾟔",["soccer"],2,18,15,0],"26be":[["⚾️","⚾"],"","󾟑",["baseball"],2,19,15,0],"26c4":[["⛄️","⛄"],"","󾀃",["snowman_without_snow"],2,20,15,0],"26c5":[["⛅️","⛅"],"","󾀏",["partly_sunny"],2,21,15,0],"26c8":[["⛈"],"","",["thunder_cloud_and_rain"],2,22,15,0],"26ce":[["⛎"],"","󾀷",["ophiuchus"],2,23,15,0],"26cf":[["⛏"],"","",["pick"],2,24,15,0],"26d1":[["⛑"],"","",["helmet_with_white_cross"],2,25,15,0],"26d3":[["⛓"],"","",["chains"],2,26,15,0],
"26d4":[["⛔️","⛔"],"","󾬦",["no_entry"],2,27,15,0],"26e9":[["⛩"],"","",["shinto_shrine"],2,28,15,0],"26ea":[["⛪️","⛪"],"","󾒻",["church"],2,29,15,0],"26f0":[["⛰"],"","",["mountain"],2,30,15,0],"26f1":[["⛱"],"","",["umbrella_on_ground"],2,31,15,0],"26f2":[["⛲️","⛲"],"","󾒼",["fountain"],2,32,15,0],"26f3":[["⛳️","⛳"],"","󾟒",["golf"],2,33,15,0],"26f4":[["⛴"],"","",["ferry"],2,34,15,0],"26f5":[["⛵️","⛵"],"","󾟪",["boat","sailboat"],2,35,15,0],"26f7":[["⛷"],"","",["skier"],2,36,15,0],"26f8":[["⛸"],"","",["ice_skate"],2,37,15,0],"26f9":[["⛹"],"","",["person_with_ball"],2,38,15,0],"26fa":[["⛺️","⛺"],"","󾟻",["tent"],3,3,15,0],"26fd":[["⛽️","⛽"],"","󾟵",["fuelpump"],3,4,15,0],2702:[["✂️","✂"],"","󾔾",["scissors"],3,5,15,0],2705:[["✅"],"","󾭊",["white_check_mark"],3,6,15,0],2708:[["✈️","✈"],"","󾟩",["airplane"],3,7,15,0],2709:[["✉️","✉"],"","󾔩",["email","envelope"],3,8,15,0],"270a":[["✊"],"","󾮓",["fist"],3,9,15,0],"270b":[["✋"],"","󾮕",["hand","raised_hand"],3,15,15,0],"270c":[["✌️","✌"],"","󾮔",["v"],3,21,15,0],"270d":[["✍️","✍"],"","",["writing_hand"],3,27,15,0],"270f":[["✏️","✏"],"","󾔹",["pencil2"],3,33,15,0],2712:[["✒️","✒"],"","󾔶",["black_nib"],3,34,15,0],2714:[["✔️","✔"],"","󾭉",["heavy_check_mark"],3,35,15,0],2716:[["✖️","✖"],"","󾭓",["heavy_multiplication_x"],3,36,15,0],"271d":[["✝️","✝"],"","",["latin_cross"],3,37,15,0],2721:[["✡️","✡"],"","",["star_of_david"],3,38,15,0],2728:[["✨"],"","󾭠",["sparkles"],3,39,15,0],2733:[["✳️","✳"],"","󾭢",["eight_spoked_asterisk"],3,40,15,0],2734:[["✴️","✴"],"","󾭡",["eight_pointed_black_star"],4,0,15,0],2744:[["❄️","❄"],"","󾀎",["snowflake"],4,1,15,0],2747:[["❇️","❇"],"","󾭷",["sparkle"],4,2,15,0],"274c":[["❌"],"","󾭅",["x"],4,3,15,0],"274e":[["❎"],"","󾭆",["negative_squared_cross_mark"],4,4,15,0],2753:[["❓"],"","󾬉",["question"],4,5,15,0],2754:[["❔"],"","󾬊",["grey_question"],4,6,15,0],2755:[["❕"],"","󾬋",["grey_exclamation"],4,7,15,0],2757:[["❗️","❗"],"","󾬄",["exclamation","heavy_exclamation_mark"],4,8,15,0],2763:[["❣️","❣"],"","",["heavy_heart_exclamation_mark_ornament"],4,9,15,0],2764:[["❤️","❤"],"","󾬌",["heart"],4,10,15,0,"<3"],2795:[["➕"],"","󾭑",["heavy_plus_sign"],4,11,15,0],2796:[["➖"],"","󾭒",["heavy_minus_sign"],4,12,15,0],2797:[["➗"],"","󾭔",["heavy_division_sign"],4,13,15,0],"27a1":[["➡️","➡"],"","󾫺",["arrow_right"],4,14,15,0],"27b0":[["➰"],"","󾬈",["curly_loop"],4,15,15,0],"27bf":[["➿"],"","󾠫",["loop"],4,16,15,0],2934:[["⤴️","⤴"],"","󾫴",["arrow_heading_up"],4,17,15,0],2935:[["⤵️","⤵"],"","󾫵",["arrow_heading_down"],4,18,15,0],"2b05":[["⬅️","⬅"],"","󾫻",["arrow_left"],4,19,15,0],"2b06":[["⬆️","⬆"],"","󾫸",["arrow_up"],4,20,15,0],"2b07":[["⬇️","⬇"],"","󾫹",["arrow_down"],4,21,15,0],"2b1b":[["⬛️","⬛"],"","󾭬",["black_large_square"],4,22,15,0],"2b1c":[["⬜️","⬜"],"","󾭫",["white_large_square"],4,23,15,0],"2b50":[["⭐️","⭐"],"","󾭨",["star"],4,24,15,0],"2b55":[["⭕️","⭕"],"","󾭄",["o"],4,25,15,0],3030:[["〰️","〰"],"","󾬇",["wavy_dash"],4,26,15,0],"303d":[["〽️","〽"],"","󾠛",["part_alternation_mark"],4,27,15,0],3297:[["㊗️","㊗"],"","󾭃",["congratulations"],4,28,15,0],3299:[["㊙️","㊙"],"","󾬫",["secret"],4,29,15,0],"1f004":[["🀄️","🀄"],"","󾠋",["mahjong"],4,30,15,0],"1f0cf":[["🃏"],"","󾠒",["black_joker"],4,31,15,0],"1f170":[["🅰️","🅰"],"","󾔋",["a"],4,32,15,0],"1f171":[["🅱️","🅱"],"","󾔌",["b"],4,33,15,0],"1f17e":[["🅾️","🅾"],"","󾔎",["o2"],4,34,15,0],"1f17f":[["🅿️","🅿"],"","󾟶",["parking"],4,35,15,0],"1f18e":[["🆎"],"","󾔍",["ab"],4,36,15,0],"1f191":[["🆑"],"","󾮄",["cl"],4,37,15,0],"1f192":[["🆒"],"","󾬸",["cool"],4,38,15,0],"1f193":[["🆓"],"","󾬡",["free"],4,39,15,0],"1f194":[["🆔"],"","󾮁",["id"],4,40,15,0],"1f195":[["🆕"],"","󾬶",["new"],5,0,15,0],"1f196":[["🆖"],"","󾬨",["ng"],5,1,15,0],"1f197":[["🆗"],"","󾬧",["ok"],5,2,15,0],"1f198":[["🆘"],"","󾭏",["sos"],5,3,15,0],"1f199":[["🆙"],"","󾬷",["up"],5,4,15,0],"1f19a":[["🆚"],"","󾬲",["vs"],5,5,15,0],"1f201":[["🈁"],"","󾬤",["koko"],5,6,15,0],"1f202":[["🈂️","🈂"],"","󾬿",["sa"],5,7,15,0],"1f21a":[["🈚️","🈚"],"","󾬺",["u7121"],5,8,15,0],"1f22f":[["🈯️","🈯"],"","󾭀",["u6307"],5,9,15,0],"1f232":[["🈲"],"","󾬮",["u7981"],5,10,15,0],"1f233":[["🈳"],"","󾬯",["u7a7a"],5,11,15,0],"1f234":[["🈴"],"","󾬰",["u5408"],5,12,15,0],"1f235":[["🈵"],"","󾬱",["u6e80"],5,13,15,0],"1f236":[["🈶"],"","󾬹",["u6709"],5,14,15,0],"1f237":[["🈷️","🈷"],"","󾬻",["u6708"],5,15,15,0],"1f238":[["🈸"],"","󾬼",["u7533"],5,16,15,0],"1f239":[["🈹"],"","󾬾",["u5272"],5,17,15,0],"1f23a":[["🈺"],"","󾭁",["u55b6"],5,18,15,0],"1f250":[["🉐"],"","󾬽",["ideograph_advantage"],5,19,15,0],"1f251":[["🉑"],"","󾭐",["accept"],5,20,15,0],"1f300":[["🌀"],"","󾀅",["cyclone"],5,21,15,0],"1f301":[["🌁"],"","󾀆",["foggy"],5,22,15,0],"1f302":[["🌂"],"","󾀇",["closed_umbrella"],5,23,15,0],"1f303":[["🌃"],"","󾀈",["night_with_stars"],5,24,15,0],"1f304":[["🌄"],"","󾀉",["sunrise_over_mountains"],5,25,15,0],"1f305":[["🌅"],"","󾀊",["sunrise"],5,26,15,0],"1f306":[["🌆"],"","󾀋",["city_sunset"],5,27,15,0],"1f307":[["🌇"],"","󾀌",["city_sunrise"],5,28,15,0],"1f308":[["🌈"],"","󾀍",["rainbow"],5,29,15,0],"1f309":[["🌉"],"","󾀐",["bridge_at_night"],5,30,15,0],"1f30a":[["🌊"],"","󾀸",["ocean"],5,31,15,0],"1f30b":[["🌋"],"","󾀺",["volcano"],5,32,15,0],"1f30c":[["🌌"],"","󾀻",["milky_way"],5,33,15,0],"1f30d":[["🌍"],"","",["earth_africa"],5,34,15,0],"1f30e":[["🌎"],"","",["earth_americas"],5,35,15,0],"1f30f":[["🌏"],"","󾀹",["earth_asia"],5,36,15,0],"1f310":[["🌐"],"","",["globe_with_meridians"],5,37,15,0],"1f311":[["🌑"],"","󾀑",["new_moon"],5,38,15,0],"1f312":[["🌒"],"","",["waxing_crescent_moon"],5,39,15,0],"1f313":[["🌓"],"","󾀓",["first_quarter_moon"],5,40,15,0],"1f314":[["🌔"],"","󾀒",["moon","waxing_gibbous_moon"],6,0,15,0],"1f315":[["🌕"],"","󾀕",["full_moon"],6,1,15,0],"1f316":[["🌖"],"","",["waning_gibbous_moon"],6,2,15,0],"1f317":[["🌗"],"","",["last_quarter_moon"],6,3,15,0],"1f318":[["🌘"],"","",["waning_crescent_moon"],6,4,15,0],"1f319":[["🌙"],"","󾀔",["crescent_moon"],6,5,15,0],"1f31a":[["🌚"],"","",["new_moon_with_face"],6,6,15,0],"1f31b":[["🌛"],"","󾀖",["first_quarter_moon_with_face"],6,7,15,0],"1f31c":[["🌜"],"","",["last_quarter_moon_with_face"],6,8,15,0],"1f31d":[["🌝"],"","",["full_moon_with_face"],6,9,15,0],"1f31e":[["🌞"],"","",["sun_with_face"],6,10,15,0],"1f31f":[["🌟"],"","󾭩",["star2"],6,11,15,0],"1f320":[["🌠"],"","󾭪",["stars"],6,12,15,0],"1f321":[["🌡"],"","",["thermometer"],6,13,15,0],"1f324":[["🌤"],"","",["mostly_sunny","sun_small_cloud"],6,14,15,0],"1f325":[["🌥"],"","",["barely_sunny","sun_behind_cloud"],6,15,15,0],"1f326":[["🌦"],"","",["partly_sunny_rain","sun_behind_rain_cloud"],6,16,15,0],"1f327":[["🌧"],"","",["rain_cloud"],6,17,15,0],"1f328":[["🌨"],"","",["snow_cloud"],6,18,15,0],"1f329":[["🌩"],"","",["lightning","lightning_cloud"],6,19,15,0],"1f32a":[["🌪"],"","",["tornado","tornado_cloud"],6,20,15,0],"1f32b":[["🌫"],"","",["fog"],6,21,15,0],"1f32c":[["🌬"],"","",["wind_blowing_face"],6,22,15,0],"1f32d":[["🌭"],"","",["hotdog"],6,23,15,0],"1f32e":[["🌮"],"","",["taco"],6,24,15,0],"1f32f":[["🌯"],"","",["burrito"],6,25,15,0],"1f330":[["🌰"],"","󾁌",["chestnut"],6,26,15,0],"1f331":[["🌱"],"","󾀾",["seedling"],6,27,15,0],"1f332":[["🌲"],"","",["evergreen_tree"],6,28,15,0],"1f333":[["🌳"],"","",["deciduous_tree"],6,29,15,0],"1f334":[["🌴"],"","󾁇",["palm_tree"],6,30,15,0],"1f335":[["🌵"],"","󾁈",["cactus"],6,31,15,0],"1f336":[["🌶"],"","",["hot_pepper"],6,32,15,0],"1f337":[["🌷"],"","󾀽",["tulip"],6,33,15,0],"1f338":[["🌸"],"","󾁀",["cherry_blossom"],6,34,15,0],"1f339":[["🌹"],"","󾁁",["rose"],6,35,15,0],"1f33a":[["🌺"],"","󾁅",["hibiscus"],6,36,15,0],"1f33b":[["🌻"],"","󾁆",["sunflower"],6,37,15,0],"1f33c":[["🌼"],"","󾁍",["blossom"],6,38,15,0],"1f33d":[["🌽"],"","󾁊",["corn"],6,39,15,0],"1f33e":[["🌾"],"","󾁉",["ear_of_rice"],6,40,15,0],"1f33f":[["🌿"],"","󾁎",["herb"],7,0,15,0],"1f340":[["🍀"],"","󾀼",["four_leaf_clover"],7,1,15,0],"1f341":[["🍁"],"","󾀿",["maple_leaf"],7,2,15,0],"1f342":[["🍂"],"","󾁂",["fallen_leaf"],7,3,15,0],"1f343":[["🍃"],"","󾁃",["leaves"],7,4,15,0],"1f344":[["🍄"],"","󾁋",["mushroom"],7,5,15,0],"1f345":[["🍅"],"","󾁕",["tomato"],7,6,15,0],"1f346":[["🍆"],"","󾁖",["eggplant"],7,7,15,0],"1f347":[["🍇"],"","󾁙",["grapes"],7,8,15,0],"1f348":[["🍈"],"","󾁗",["melon"],7,9,15,0],"1f349":[["🍉"],"","󾁔",["watermelon"],7,10,15,0],"1f34a":[["🍊"],"","󾁒",["tangerine"],7,11,15,0],"1f34b":[["🍋"],"","",["lemon"],7,12,15,0],"1f34c":[["🍌"],"","󾁐",["banana"],7,13,15,0],"1f34d":[["🍍"],"","󾁘",["pineapple"],7,14,15,0],"1f34e":[["🍎"],"","󾁑",["apple"],7,15,15,0],"1f34f":[["🍏"],"","󾁛",["green_apple"],7,16,15,0],"1f350":[["🍐"],"","",["pear"],7,17,15,0],"1f351":[["🍑"],"","󾁚",["peach"],7,18,15,0],"1f352":[["🍒"],"","󾁏",["cherries"],7,19,15,0],"1f353":[["🍓"],"","󾁓",["strawberry"],7,20,15,0],"1f354":[["🍔"],"","󾥠",["hamburger"],7,21,15,0],"1f355":[["🍕"],"","󾥵",["pizza"],7,22,15,0],"1f356":[["🍖"],"","󾥲",["meat_on_bone"],7,23,15,0],"1f357":[["🍗"],"","󾥶",["poultry_leg"],7,24,15,0],"1f358":[["🍘"],"","󾥩",["rice_cracker"],7,25,15,0],"1f359":[["🍙"],"","󾥡",["rice_ball"],7,26,15,0],"1f35a":[["🍚"],"","󾥪",["rice"],7,27,15,0],"1f35b":[["🍛"],"","󾥬",["curry"],7,28,15,0],"1f35c":[["🍜"],"","󾥣",["ramen"],7,29,15,0],"1f35d":[["🍝"],"","󾥫",["spaghetti"],7,30,15,0],"1f35e":[["🍞"],"","󾥤",["bread"],7,31,15,0],"1f35f":[["🍟"],"","󾥧",["fries"],7,32,15,0],"1f360":[["🍠"],"","󾥴",["sweet_potato"],7,33,15,0],"1f361":[["🍡"],"","󾥨",["dango"],7,34,15,0],"1f362":[["🍢"],"","󾥭",["oden"],7,35,15,0],"1f363":[["🍣"],"","󾥮",["sushi"],7,36,15,0],"1f364":[["🍤"],"","󾥿",["fried_shrimp"],7,37,15,0],"1f365":[["🍥"],"","󾥳",["fish_cake"],7,38,15,0],"1f366":[["🍦"],"","󾥦",["icecream"],7,39,15,0],"1f367":[["🍧"],"","󾥱",["shaved_ice"],7,40,15,0],"1f368":[["🍨"],"","󾥷",["ice_cream"],8,0,15,0],"1f369":[["🍩"],"","󾥸",["doughnut"],8,1,15,0],"1f36a":[["🍪"],"","󾥹",["cookie"],8,2,15,0],"1f36b":[["🍫"],"","󾥺",["chocolate_bar"],8,3,15,0],"1f36c":[["🍬"],"","󾥻",["candy"],8,4,15,0],"1f36d":[["🍭"],"","󾥼",["lollipop"],8,5,15,0],"1f36e":[["🍮"],"","󾥽",["custard"],8,6,15,0],"1f36f":[["🍯"],"","󾥾",["honey_pot"],8,7,15,0],"1f370":[["🍰"],"","󾥢",["cake"],8,8,15,0],"1f371":[["🍱"],"","󾥯",["bento"],8,9,15,0],"1f372":[["🍲"],"","󾥰",["stew"],8,10,15,0],"1f373":[["🍳"],"","󾥥",["egg"],8,11,15,0],"1f374":[["🍴"],"","󾦀",["fork_and_knife"],8,12,15,0],"1f375":[["🍵"],"","󾦄",["tea"],8,13,15,0],"1f376":[["🍶"],"","󾦅",["sake"],8,14,15,0],"1f377":[["🍷"],"","󾦆",["wine_glass"],8,15,15,0],"1f378":[["🍸"],"","󾦂",["cocktail"],8,16,15,0],"1f379":[["🍹"],"","󾦈",["tropical_drink"],8,17,15,0],"1f37a":[["🍺"],"","󾦃",["beer"],8,18,15,0],"1f37b":[["🍻"],"","󾦇",["beers"],8,19,15,0],"1f37c":[["🍼"],"","",["baby_bottle"],8,20,15,0],"1f37d":[["🍽"],"","",["knife_fork_plate"],8,21,15,0],"1f37e":[["🍾"],"","",["champagne"],8,22,15,0],"1f37f":[["🍿"],"","",["popcorn"],8,23,15,0],"1f380":[["🎀"],"","󾔏",["ribbon"],8,24,15,0],"1f381":[["🎁"],"","󾔐",["gift"],8,25,15,0],"1f382":[["🎂"],"","󾔑",["birthday"],8,26,15,0],"1f383":[["🎃"],"","󾔟",["jack_o_lantern"],8,27,15,0],"1f384":[["🎄"],"","󾔒",["christmas_tree"],8,28,15,0],"1f385":[["🎅"],"","󾔓",["santa"],8,29,15,0],"1f386":[["🎆"],"","󾔕",["fireworks"],8,35,15,0],"1f387":[["🎇"],"","󾔝",["sparkler"],8,36,15,0],"1f388":[["🎈"],"","󾔖",["balloon"],8,37,15,0],"1f389":[["🎉"],"","󾔗",["tada"],8,38,15,0],"1f38a":[["🎊"],"","󾔠",["confetti_ball"],8,39,15,0],"1f38b":[["🎋"],"","󾔡",["tanabata_tree"],8,40,15,0],"1f38c":[["🎌"],"","󾔔",["crossed_flags"],9,0,15,0],"1f38d":[["🎍"],"","󾔘",["bamboo"],9,1,15,0],"1f38e":[["🎎"],"","󾔙",["dolls"],9,2,15,0],"1f38f":[["🎏"],"","󾔜",["flags"],9,3,15,0],"1f390":[["🎐"],"","󾔞",["wind_chime"],9,4,15,0],"1f391":[["🎑"],"","󾀗",["rice_scene"],9,5,15,0],"1f392":[["🎒"],"","󾔛",["school_satchel"],9,6,15,0],"1f393":[["🎓"],"","󾔚",["mortar_board"],9,7,15,0],"1f396":[["🎖"],"","",["medal"],9,8,15,0],"1f397":[["🎗"],"","",["reminder_ribbon"],9,9,15,0],"1f399":[["🎙"],"","",["studio_microphone"],9,10,15,0],"1f39a":[["🎚"],"","",["level_slider"],9,11,15,0],"1f39b":[["🎛"],"","",["control_knobs"],9,12,15,0],"1f39e":[["🎞"],"","",["film_frames"],9,13,15,0],"1f39f":[["🎟"],"","",["admission_tickets"],9,14,15,0],"1f3a0":[["🎠"],"","󾟼",["carousel_horse"],9,15,15,0],"1f3a1":[["🎡"],"","󾟽",["ferris_wheel"],9,16,15,0],"1f3a2":[["🎢"],"","󾟾",["roller_coaster"],9,17,15,0],"1f3a3":[["🎣"],"","󾟿",["fishing_pole_and_fish"],9,18,15,0],"1f3a4":[["🎤"],"","󾠀",["microphone"],9,19,15,0],"1f3a5":[["🎥"],"","󾠁",["movie_camera"],9,20,15,0],"1f3a6":[["🎦"],"","󾠂",["cinema"],9,21,15,0],"1f3a7":[["🎧"],"","󾠃",["headphones"],9,22,15,0],"1f3a8":[["🎨"],"","󾠄",["art"],9,23,15,0],"1f3a9":[["🎩"],"","󾠅",["tophat"],9,24,15,0],"1f3aa":[["🎪"],"","󾠆",["circus_tent"],9,25,15,0],"1f3ab":[["🎫"],"","󾠇",["ticket"],9,26,15,0],"1f3ac":[["🎬"],"","󾠈",["clapper"],9,27,15,0],"1f3ad":[["🎭"],"","󾠉",["performing_arts"],9,28,15,0],"1f3ae":[["🎮"],"","󾠊",["video_game"],9,29,15,0],"1f3af":[["🎯"],"","󾠌",["dart"],9,30,15,0],"1f3b0":[["🎰"],"","󾠍",["slot_machine"],9,31,15,0],"1f3b1":[["🎱"],"","󾠎",["8ball"],9,32,15,0],"1f3b2":[["🎲"],"","󾠏",["game_die"],9,33,15,0],"1f3b3":[["🎳"],"","󾠐",["bowling"],9,34,15,0],"1f3b4":[["🎴"],"","󾠑",["flower_playing_cards"],9,35,15,0],"1f3b5":[["🎵"],"","󾠓",["musical_note"],9,36,15,0],"1f3b6":[["🎶"],"","󾠔",["notes"],9,37,15,0],"1f3b7":[["🎷"],"","󾠕",["saxophone"],9,38,15,0],"1f3b8":[["🎸"],"","󾠖",["guitar"],9,39,15,0],"1f3b9":[["🎹"],"","󾠗",["musical_keyboard"],9,40,15,0],"1f3ba":[["🎺"],"","󾠘",["trumpet"],10,0,15,0],"1f3bb":[["🎻"],"","󾠙",["violin"],10,1,15,0],"1f3bc":[["🎼"],"","󾠚",["musical_score"],10,2,15,0],"1f3bd":[["🎽"],"","󾟐",["running_shirt_with_sash"],10,3,15,0],"1f3be":[["🎾"],"","󾟓",["tennis"],10,4,15,0],"1f3bf":[["🎿"],"","󾟕",["ski"],10,5,15,0],"1f3c0":[["🏀"],"","󾟖",["basketball"],10,6,15,0],"1f3c1":[["🏁"],"","󾟗",["checkered_flag"],10,7,15,0],"1f3c2":[["🏂"],"","󾟘",["snowboarder"],10,8,15,0],"1f3c3":[["🏃"],"","󾟙",["runner","running"],10,9,15,0],"1f3c4":[["🏄"],"","󾟚",["surfer"],10,15,15,0],"1f3c5":[["🏅"],"","",["sports_medal"],10,21,15,0],"1f3c6":[["🏆"],"","󾟛",["trophy"],10,22,15,0],"1f3c7":[["🏇"],"","",["horse_racing"],10,23,15,0],"1f3c8":[["🏈"],"","󾟝",["football"],10,29,15,0],"1f3c9":[["🏉"],"","",["rugby_football"],10,30,15,0],"1f3ca":[["🏊"],"","󾟞",["swimmer"],10,31,15,0],"1f3cb":[["🏋"],"","",["weight_lifter"],10,37,15,0],"1f3cc":[["🏌"],"","",["golfer"],11,2,15,0],"1f3cd":[["🏍"],"","",["racing_motorcycle"],11,3,15,0],"1f3ce":[["🏎"],"","",["racing_car"],11,4,15,0],"1f3cf":[["🏏"],"","",["cricket_bat_and_ball"],11,5,15,0],"1f3d0":[["🏐"],"","",["volleyball"],11,6,15,0],"1f3d1":[["🏑"],"","",["field_hockey_stick_and_ball"],11,7,15,0],"1f3d2":[["🏒"],"","",["ice_hockey_stick_and_puck"],11,8,15,0],"1f3d3":[["🏓"],"","",["table_tennis_paddle_and_ball"],11,9,15,0],"1f3d4":[["🏔"],"","",["snow_capped_mountain"],11,10,15,0],"1f3d5":[["🏕"],"","",["camping"],11,11,15,0],"1f3d6":[["🏖"],"","",["beach_with_umbrella"],11,12,15,0],"1f3d7":[["🏗"],"","",["building_construction"],11,13,15,0],"1f3d8":[["🏘"],"","",["house_buildings"],11,14,15,0],"1f3d9":[["🏙"],"","",["cityscape"],11,15,15,0],"1f3da":[["🏚"],"","",["derelict_house_building"],11,16,15,0],"1f3db":[["🏛"],"","",["classical_building"],11,17,15,0],"1f3dc":[["🏜"],"","",["desert"],11,18,15,0],"1f3dd":[["🏝"],"","",["desert_island"],11,19,15,0],"1f3de":[["🏞"],"","",["national_park"],11,20,15,0],"1f3df":[["🏟"],"","",["stadium"],11,21,15,0],"1f3e0":[["🏠"],"","󾒰",["house"],11,22,15,0],"1f3e1":[["🏡"],"","󾒱",["house_with_garden"],11,23,15,0],"1f3e2":[["🏢"],"","󾒲",["office"],11,24,15,0],"1f3e3":[["🏣"],"","󾒳",["post_office"],11,25,15,0],"1f3e4":[["🏤"],"","",["european_post_office"],11,26,15,0],"1f3e5":[["🏥"],"","󾒴",["hospital"],11,27,15,0],"1f3e6":[["🏦"],"","󾒵",["bank"],11,28,15,0],"1f3e7":[["🏧"],"","󾒶",["atm"],11,29,15,0],"1f3e8":[["🏨"],"","󾒷",["hotel"],11,30,15,0],"1f3e9":[["🏩"],"","󾒸",["love_hotel"],11,31,15,0],"1f3ea":[["🏪"],"","󾒹",["convenience_store"],11,32,15,0],"1f3eb":[["🏫"],"","󾒺",["school"],11,33,15,0],"1f3ec":[["🏬"],"","󾒽",["department_store"],11,34,15,0],"1f3ed":[["🏭"],"","󾓀",["factory"],11,35,15,0],"1f3ee":[["🏮"],"","󾓂",["izakaya_lantern","lantern"],11,36,15,0],"1f3ef":[["🏯"],"","󾒾",["japanese_castle"],11,37,15,0],"1f3f0":[["🏰"],"","󾒿",["european_castle"],11,38,15,0],"1f3f3":[["🏳"],"","",["waving_white_flag"],11,39,15,0],"1f3f4":[["🏴"],"","",["waving_black_flag"],11,40,15,0],"1f3f5":[["🏵"],"","",["rosette"],12,0,15,0],"1f3f7":[["🏷"],"","",["label"],12,1,15,0],"1f3f8":[["🏸"],"","",["badminton_racquet_and_shuttlecock"],12,2,15,0],"1f3f9":[["🏹"],"","",["bow_and_arrow"],12,3,15,0],"1f3fa":[["🏺"],"","",["amphora"],12,4,15,0],"1f3fb":[["🏻"],"","",["skin-tone-2"],12,5,13,0],"1f3fc":[["🏼"],"","",["skin-tone-3"],12,6,13,0],"1f3fd":[["🏽"],"","",["skin-tone-4"],12,7,13,0],"1f3fe":[["🏾"],"","",["skin-tone-5"],12,8,13,0],"1f3ff":[["🏿"],"","",["skin-tone-6"],12,9,13,0],"1f400":[["🐀"],"","",["rat"],12,10,15,0],"1f401":[["🐁"],"","",["mouse2"],12,11,15,0],"1f402":[["🐂"],"","",["ox"],12,12,15,0],"1f403":[["🐃"],"","",["water_buffalo"],12,13,15,0],"1f404":[["🐄"],"","",["cow2"],12,14,15,0],"1f405":[["🐅"],"","",["tiger2"],12,15,15,0],"1f406":[["🐆"],"","",["leopard"],12,16,15,0],"1f407":[["🐇"],"","",["rabbit2"],12,17,15,0],"1f408":[["🐈"],"","",["cat2"],12,18,15,0],"1f409":[["🐉"],"","",["dragon"],12,19,15,0],"1f40a":[["🐊"],"","",["crocodile"],12,20,15,0],"1f40b":[["🐋"],"","",["whale2"],12,21,15,0],"1f40c":[["🐌"],"","󾆹",["snail"],12,22,15,0],"1f40d":[["🐍"],"","󾇓",["snake"],12,23,15,0],"1f40e":[["🐎"],"","󾟜",["racehorse"],12,24,15,0],"1f40f":[["🐏"],"","",["ram"],12,25,15,0],"1f410":[["🐐"],"","",["goat"],12,26,15,0],"1f411":[["🐑"],"","󾇏",["sheep"],12,27,15,0],"1f412":[["🐒"],"","󾇎",["monkey"],12,28,15,0],"1f413":[["🐓"],"","",["rooster"],12,29,15,0],"1f414":[["🐔"],"","󾇔",["chicken"],12,30,15,0],"1f415":[["🐕"],"","",["dog2"],12,31,15,0],"1f416":[["🐖"],"","",["pig2"],12,32,15,0],"1f417":[["🐗"],"","󾇕",["boar"],12,33,15,0],"1f418":[["🐘"],"","󾇌",["elephant"],12,34,15,0],"1f419":[["🐙"],"","󾇅",["octopus"],12,35,15,0],"1f41a":[["🐚"],"","󾇆",["shell"],12,36,15,0],"1f41b":[["🐛"],"","󾇋",["bug"],12,37,15,0],"1f41c":[["🐜"],"","󾇚",["ant"],12,38,15,0],"1f41d":[["🐝"],"","󾇡",["bee","honeybee"],12,39,15,0],"1f41e":[["🐞"],"","󾇢",["beetle"],12,40,15,0],"1f41f":[["🐟"],"","󾆽",["fish"],13,0,15,0],"1f420":[["🐠"],"","󾇉",["tropical_fish"],13,1,15,0],"1f421":[["🐡"],"","󾇙",["blowfish"],13,2,15,0],"1f422":[["🐢"],"","󾇜",["turtle"],13,3,15,0],"1f423":[["🐣"],"","󾇝",["hatching_chick"],13,4,15,0],"1f424":[["🐤"],"","󾆺",["baby_chick"],13,5,15,0],"1f425":[["🐥"],"","󾆻",["hatched_chick"],13,6,15,0],"1f426":[["🐦"],"","󾇈",["bird"],13,7,15,0],"1f427":[["🐧"],"","󾆼",["penguin"],13,8,15,0],"1f428":[["🐨"],"","󾇍",["koala"],13,9,15,0],"1f429":[["🐩"],"","󾇘",["poodle"],13,10,15,0],"1f42a":[["🐪"],"","",["dromedary_camel"],13,11,15,0],"1f42b":[["🐫"],"","󾇖",["camel"],13,12,15,0],"1f42c":[["🐬"],"","󾇇",["dolphin","flipper"],13,13,15,0],"1f42d":[["🐭"],"","󾇂",["mouse"],13,14,15,0],"1f42e":[["🐮"],"","󾇑",["cow"],13,15,15,0],"1f42f":[["🐯"],"","󾇀",["tiger"],13,16,15,0],"1f430":[["🐰"],"","󾇒",["rabbit"],13,17,15,0],"1f431":[["🐱"],"","󾆸",["cat"],13,18,15,0],"1f432":[["🐲"],"","󾇞",["dragon_face"],13,19,15,0],"1f433":[["🐳"],"","󾇃",["whale"],13,20,15,0],"1f434":[["🐴"],"","󾆾",["horse"],13,21,15,0],"1f435":[["🐵"],"","󾇄",["monkey_face"],13,22,15,0],"1f436":[["🐶"],"","󾆷",["dog"],13,23,15,0],"1f437":[["🐷"],"","󾆿",["pig"],13,24,15,0],"1f438":[["🐸"],"","󾇗",["frog"],13,25,15,0],"1f439":[["🐹"],"","󾇊",["hamster"],13,26,15,0],"1f43a":[["🐺"],"","󾇐",["wolf"],13,27,15,0],"1f43b":[["🐻"],"","󾇁",["bear"],13,28,15,0],"1f43c":[["🐼"],"","󾇟",["panda_face"],13,29,15,0],"1f43d":[["🐽"],"","󾇠",["pig_nose"],13,30,15,0],"1f43e":[["🐾"],"","󾇛",["feet","paw_prints"],13,31,15,0],"1f43f":[["🐿"],"","",["chipmunk"],13,32,15,0],"1f440":[["👀"],"","󾆐",["eyes"],13,33,15,0],"1f441":[["👁"],"","",["eye"],13,34,15,0],"1f442":[["👂"],"","󾆑",["ear"],13,35,15,0],"1f443":[["👃"],"","󾆒",["nose"],14,0,15,0],"1f444":[["👄"],"","󾆓",["lips"],14,6,15,0],"1f445":[["👅"],"","󾆔",["tongue"],14,7,15,0],"1f446":[["👆"],"","󾮙",["point_up_2"],14,8,15,0],"1f447":[["👇"],"","󾮚",["point_down"],14,14,15,0],"1f448":[["👈"],"","󾮛",["point_left"],14,20,15,0],"1f449":[["👉"],"","󾮜",["point_right"],14,26,15,0],"1f44a":[["👊"],"","󾮖",["facepunch","punch"],14,32,15,0],"1f44b":[["👋"],"","󾮝",["wave"],14,38,15,0],"1f44c":[["👌"],"","󾮟",["ok_hand"],15,3,15,0],"1f44d":[["👍"],"","󾮗",["+1","thumbsup"],15,9,15,0],"1f44e":[["👎"],"","󾮠",["-1","thumbsdown"],15,15,15,0],"1f44f":[["👏"],"","󾮞",["clap"],15,21,15,0],"1f450":[["👐"],"","󾮡",["open_hands"],15,27,15,0],"1f451":[["👑"],"","󾓑",["crown"],15,33,15,0],"1f452":[["👒"],"","󾓔",["womans_hat"],15,34,15,0],"1f453":[["👓"],"","󾓎",["eyeglasses"],15,35,15,0],"1f454":[["👔"],"","󾓓",["necktie"],15,36,15,0],"1f455":[["👕"],"","󾓏",["shirt","tshirt"],15,37,15,0],"1f456":[["👖"],"","󾓐",["jeans"],15,38,15,0],"1f457":[["👗"],"","󾓕",["dress"],15,39,15,0],"1f458":[["👘"],"","󾓙",["kimono"],15,40,15,0],"1f459":[["👙"],"","󾓚",["bikini"],16,0,15,0],"1f45a":[["👚"],"","󾓛",["womans_clothes"],16,1,15,0],"1f45b":[["👛"],"","󾓜",["purse"],16,2,15,0],"1f45c":[["👜"],"","󾓰",["handbag"],16,3,15,0],"1f45d":[["👝"],"","󾓱",["pouch"],16,4,15,0],"1f45e":[["👞"],"","󾓌",["mans_shoe","shoe"],16,5,15,0],"1f45f":[["👟"],"","󾓍",["athletic_shoe"],16,6,15,0],"1f460":[["👠"],"","󾓖",["high_heel"],16,7,15,0],"1f461":[["👡"],"","󾓗",["sandal"],16,8,15,0],"1f462":[["👢"],"","󾓘",["boot"],16,9,15,0],"1f463":[["👣"],"","󾕓",["footprints"],16,10,15,0],"1f464":[["👤"],"","󾆚",["bust_in_silhouette"],16,11,15,0],"1f465":[["👥"],"","",["busts_in_silhouette"],16,12,15,0],"1f466":[["👦"],"","󾆛",["boy"],16,13,15,0],"1f467":[["👧"],"","󾆜",["girl"],16,19,15,0],"1f468":[["👨"],"","󾆝",["man"],16,25,15,0],"1f469":[["👩"],"","󾆞",["woman"],16,31,15,0],"1f46a":[["👨‍👩‍👦","👪"],"","󾆟",["family","man-woman-boy"],16,37,15,0],"1f46b":[["👫"],"","󾆠",["couple","man_and_woman_holding_hands"],16,38,15,0],"1f46c":[["👬"],"","",["two_men_holding_hands"],16,39,15,0],"1f46d":[["👭"],"","",["two_women_holding_hands"],16,40,15,0],"1f46e":[["👮"],"","󾆡",["cop"],17,0,15,0],"1f46f":[["👯"],"","󾆢",["dancers"],17,6,15,0],"1f470":[["👰"],"","󾆣",["bride_with_veil"],17,7,15,0],"1f471":[["👱"],"","󾆤",["person_with_blond_hair"],17,13,15,0],"1f472":[["👲"],"","󾆥",["man_with_gua_pi_mao"],17,19,15,0],"1f473":[["👳"],"","󾆦",["man_with_turban"],17,25,15,0],"1f474":[["👴"],"","󾆧",["older_man"],17,31,15,0],"1f475":[["👵"],"","󾆨",["older_woman"],17,37,15,0],"1f476":[["👶"],"","󾆩",["baby"],18,2,15,0],"1f477":[["👷"],"","󾆪",["construction_worker"],18,8,15,0],"1f478":[["👸"],"","󾆫",["princess"],18,14,15,0],"1f479":[["👹"],"","󾆬",["japanese_ogre"],18,20,15,0],"1f47a":[["👺"],"","󾆭",["japanese_goblin"],18,21,15,0],"1f47b":[["👻"],"","󾆮",["ghost"],18,22,15,0],"1f47c":[["👼"],"","󾆯",["angel"],18,23,15,0],"1f47d":[["👽"],"","󾆰",["alien"],18,29,15,0],"1f47e":[["👾"],"","󾆱",["space_invader"],18,30,15,0],"1f47f":[["👿"],"","󾆲",["imp"],18,31,15,0],"1f480":[["💀"],"","󾆳",["skull"],18,32,15,0],"1f481":[["💁"],"","󾆴",["information_desk_person"],18,33,15,0],"1f482":[["💂"],"","󾆵",["guardsman"],18,39,15,0],"1f483":[["💃"],"","󾆶",["dancer"],19,4,15,0],"1f484":[["💄"],"","󾆕",["lipstick"],19,10,15,0],"1f485":[["💅"],"","󾆖",["nail_care"],19,11,15,0],"1f486":[["💆"],"","󾆗",["massage"],19,17,15,0],"1f487":[["💇"],"","󾆘",["haircut"],19,23,15,0],"1f488":[["💈"],"","󾆙",["barber"],19,29,15,0],"1f489":[["💉"],"","󾔉",["syringe"],19,30,15,0],"1f48a":[["💊"],"","󾔊",["pill"],19,31,15,0],"1f48b":[["💋"],"","󾠣",["kiss"],19,32,15,0],"1f48c":[["💌"],"","󾠤",["love_letter"],19,33,15,0],"1f48d":[["💍"],"","󾠥",["ring"],19,34,15,0],"1f48e":[["💎"],"","󾠦",["gem"],19,35,15,0],"1f48f":[["💏"],"","󾠧",["couplekiss"],19,36,15,0],"1f490":[["💐"],"","󾠨",["bouquet"],19,37,15,0],"1f491":[["💑"],"","󾠩",["couple_with_heart"],19,38,15,0],"1f492":[["💒"],"","󾠪",["wedding"],19,39,15,0],"1f493":[["💓"],"","󾬍",["heartbeat"],19,40,15,0],"1f494":[["💔"],"","󾬎",["broken_heart"],20,0,15,0,"</3"],"1f495":[["💕"],"","󾬏",["two_hearts"],20,1,15,0],"1f496":[["💖"],"","󾬐",["sparkling_heart"],20,2,15,0],"1f497":[["💗"],"","󾬑",["heartpulse"],20,3,15,0],"1f498":[["💘"],"","󾬒",["cupid"],20,4,15,0],"1f499":[["💙"],"","󾬓",["blue_heart"],20,5,15,0,"<3"],"1f49a":[["💚"],"","󾬔",["green_heart"],20,6,15,0,"<3"],"1f49b":[["💛"],"","󾬕",["yellow_heart"],20,7,15,0,"<3"],"1f49c":[["💜"],"","󾬖",["purple_heart"],20,8,15,0,"<3"],"1f49d":[["💝"],"","󾬗",["gift_heart"],20,9,15,0],"1f49e":[["💞"],"","󾬘",["revolving_hearts"],20,10,15,0],"1f49f":[["💟"],"","󾬙",["heart_decoration"],20,11,15,0],"1f4a0":[["💠"],"","󾭕",["diamond_shape_with_a_dot_inside"],20,12,15,0],"1f4a1":[["💡"],"","󾭖",["bulb"],20,13,15,0],"1f4a2":[["💢"],"","󾭗",["anger"],20,14,15,0],"1f4a3":[["💣"],"","󾭘",["bomb"],20,15,15,0],"1f4a4":[["💤"],"","󾭙",["zzz"],20,16,15,0],"1f4a5":[["💥"],"","󾭚",["boom","collision"],20,17,15,0],"1f4a6":[["💦"],"","󾭛",["sweat_drops"],20,18,15,0],"1f4a7":[["💧"],"","󾭜",["droplet"],20,19,15,0],"1f4a8":[["💨"],"","󾭝",["dash"],20,20,15,0],"1f4a9":[["💩"],"","󾓴",["hankey","poop","shit"],20,21,15,0],"1f4aa":[["💪"],"","󾭞",["muscle"],20,22,15,0],"1f4ab":[["💫"],"","󾭟",["dizzy"],20,28,15,0],"1f4ac":[["💬"],"","󾔲",["speech_balloon"],20,29,15,0],"1f4ad":[["💭"],"","",["thought_balloon"],20,30,15,0],"1f4ae":[["💮"],"","󾭺",["white_flower"],20,31,15,0],"1f4af":[["💯"],"","󾭻",["100"],20,32,15,0],"1f4b0":[["💰"],"","󾓝",["moneybag"],20,33,15,0],"1f4b1":[["💱"],"","󾓞",["currency_exchange"],20,34,15,0],"1f4b2":[["💲"],"","󾓠",["heavy_dollar_sign"],20,35,15,0],"1f4b3":[["💳"],"","󾓡",["credit_card"],20,36,15,0],"1f4b4":[["💴"],"","󾓢",["yen"],20,37,15,0],"1f4b5":[["💵"],"","󾓣",["dollar"],20,38,15,0],"1f4b6":[["💶"],"","",["euro"],20,39,15,0],"1f4b7":[["💷"],"","",["pound"],20,40,15,0],"1f4b8":[["💸"],"","󾓤",["money_with_wings"],21,0,15,0],"1f4b9":[["💹"],"","󾓟",["chart"],21,1,15,0],"1f4ba":[["💺"],"","󾔷",["seat"],21,2,15,0],"1f4bb":[["💻"],"","󾔸",["computer"],21,3,15,0],"1f4bc":[["💼"],"","󾔻",["briefcase"],21,4,15,0],"1f4bd":[["💽"],"","󾔼",["minidisc"],21,5,15,0],"1f4be":[["💾"],"","󾔽",["floppy_disk"],21,6,15,0],"1f4bf":[["💿"],"","󾠝",["cd"],21,7,15,0],"1f4c0":[["📀"],"","󾠞",["dvd"],21,8,15,0],"1f4c1":[["📁"],"","󾕃",["file_folder"],21,9,15,0],"1f4c2":[["📂"],"","󾕄",["open_file_folder"],21,10,15,0],"1f4c3":[["📃"],"","󾕀",["page_with_curl"],21,11,15,0],"1f4c4":[["📄"],"","󾕁",["page_facing_up"],21,12,15,0],"1f4c5":[["📅"],"","󾕂",["date"],21,13,15,0],"1f4c6":[["📆"],"","󾕉",["calendar"],21,14,15,0],"1f4c7":[["📇"],"","󾕍",["card_index"],21,15,15,0],"1f4c8":[["📈"],"","󾕋",["chart_with_upwards_trend"],21,16,15,0],"1f4c9":[["📉"],"","󾕌",["chart_with_downwards_trend"],21,17,15,0],"1f4ca":[["📊"],"","󾕊",["bar_chart"],21,18,15,0],"1f4cb":[["📋"],"","󾕈",["clipboard"],21,19,15,0],"1f4cc":[["📌"],"","󾕎",["pushpin"],21,20,15,0],"1f4cd":[["📍"],"","󾔿",["round_pushpin"],21,21,15,0],"1f4ce":[["📎"],"","󾔺",["paperclip"],21,22,15,0],"1f4cf":[["📏"],"","󾕐",["straight_ruler"],21,23,15,0],"1f4d0":[["📐"],"","󾕑",["triangular_ruler"],21,24,15,0],"1f4d1":[["📑"],"","󾕒",["bookmark_tabs"],21,25,15,0],"1f4d2":[["📒"],"","󾕏",["ledger"],21,26,15,0],"1f4d3":[["📓"],"","󾕅",["notebook"],21,27,15,0],"1f4d4":[["📔"],"","󾕇",["notebook_with_decorative_cover"],21,28,15,0],"1f4d5":[["📕"],"","󾔂",["closed_book"],21,29,15,0],"1f4d6":[["📖"],"","󾕆",["book","open_book"],21,30,15,0],"1f4d7":[["📗"],"","󾓿",["green_book"],21,31,15,0],"1f4d8":[["📘"],"","󾔀",["blue_book"],21,32,15,0],"1f4d9":[["📙"],"","󾔁",["orange_book"],21,33,15,0],"1f4da":[["📚"],"","󾔃",["books"],21,34,15,0],"1f4db":[["📛"],"","󾔄",["name_badge"],21,35,15,0],"1f4dc":[["📜"],"","󾓽",["scroll"],21,36,15,0],"1f4dd":[["📝"],"","󾔧",["memo","pencil"],21,37,15,0],"1f4de":[["📞"],"","󾔤",["telephone_receiver"],21,38,15,0],"1f4df":[["📟"],"","󾔢",["pager"],21,39,15,0],"1f4e0":[["📠"],"","󾔨",["fax"],21,40,15,0],"1f4e1":[["📡"],"","󾔱",["satellite_antenna"],22,0,15,0],"1f4e2":[["📢"],"","󾔯",["loudspeaker"],22,1,15,0],"1f4e3":[["📣"],"","󾔰",["mega"],22,2,15,0],"1f4e4":[["📤"],"","󾔳",["outbox_tray"],22,3,15,0],"1f4e5":[["📥"],"","󾔴",["inbox_tray"],22,4,15,0],"1f4e6":[["📦"],"","󾔵",["package"],22,5,15,0],"1f4e7":[["📧"],"","󾮒",["e-mail"],22,6,15,0],"1f4e8":[["📨"],"","󾔪",["incoming_envelope"],22,7,15,0],"1f4e9":[["📩"],"","󾔫",["envelope_with_arrow"],22,8,15,0],"1f4ea":[["📪"],"","󾔬",["mailbox_closed"],22,9,15,0],"1f4eb":[["📫"],"","󾔭",["mailbox"],22,10,15,0],"1f4ec":[["📬"],"","",["mailbox_with_mail"],22,11,15,0],"1f4ed":[["📭"],"","",["mailbox_with_no_mail"],22,12,15,0],"1f4ee":[["📮"],"","󾔮",["postbox"],22,13,15,0],"1f4ef":[["📯"],"","",["postal_horn"],22,14,15,0],"1f4f0":[["📰"],"","󾠢",["newspaper"],22,15,15,0],"1f4f1":[["📱"],"","󾔥",["iphone"],22,16,15,0],"1f4f2":[["📲"],"","󾔦",["calling"],22,17,15,0],"1f4f3":[["📳"],"","󾠹",["vibration_mode"],22,18,15,0],"1f4f4":[["📴"],"","󾠺",["mobile_phone_off"],22,19,15,0],"1f4f5":[["📵"],"","",["no_mobile_phones"],22,20,15,0],"1f4f6":[["📶"],"","󾠸",["signal_strength"],22,21,15,0],"1f4f7":[["📷"],"","󾓯",["camera"],22,22,15,0],"1f4f8":[["📸"],"","",["camera_with_flash"],22,23,15,0],"1f4f9":[["📹"],"","󾓹",["video_camera"],22,24,15,0],"1f4fa":[["📺"],"","󾠜",["tv"],22,25,15,0],"1f4fb":[["📻"],"","󾠟",["radio"],22,26,15,0],"1f4fc":[["📼"],"","󾠠",["vhs"],22,27,15,0],"1f4fd":[["📽"],"","",["film_projector"],22,28,15,0],"1f4ff":[["📿"],"","",["prayer_beads"],22,29,15,0],"1f500":[["🔀"],"","",["twisted_rightwards_arrows"],22,30,15,0],"1f501":[["🔁"],"","",["repeat"],22,31,15,0],"1f502":[["🔂"],"","",["repeat_one"],22,32,15,0],"1f503":[["🔃"],"","󾮑",["arrows_clockwise"],22,33,15,0],"1f504":[["🔄"],"","",["arrows_counterclockwise"],22,34,15,0],"1f505":[["🔅"],"","",["low_brightness"],22,35,15,0],"1f506":[["🔆"],"","",["high_brightness"],22,36,15,0],"1f507":[["🔇"],"","",["mute"],22,37,15,0],"1f508":[["🔈"],"","",["speaker"],22,38,15,0],"1f509":[["🔉"],"","",["sound"],22,39,15,0],"1f50a":[["🔊"],"","󾠡",["loud_sound"],22,40,15,0],"1f50b":[["🔋"],"","󾓼",["battery"],23,0,15,0],"1f50c":[["🔌"],"","󾓾",["electric_plug"],23,1,15,0],"1f50d":[["🔍"],"","󾮅",["mag"],23,2,15,0],"1f50e":[["🔎"],"","󾮍",["mag_right"],23,3,15,0],"1f50f":[["🔏"],"","󾮐",["lock_with_ink_pen"],23,4,15,0],"1f510":[["🔐"],"","󾮊",["closed_lock_with_key"],23,5,15,0],"1f511":[["🔑"],"","󾮂",["key"],23,6,15,0],"1f512":[["🔒"],"","󾮆",["lock"],23,7,15,0],"1f513":[["🔓"],"","󾮇",["unlock"],23,8,15,0],"1f514":[["🔔"],"","󾓲",["bell"],23,9,15,0],"1f515":[["🔕"],"","",["no_bell"],23,10,15,0],"1f516":[["🔖"],"","󾮏",["bookmark"],23,11,15,0],"1f517":[["🔗"],"","󾭋",["link"],23,12,15,0],"1f518":[["🔘"],"","󾮌",["radio_button"],23,13,15,0],"1f519":[["🔙"],"","󾮎",["back"],23,14,15,0],"1f51a":[["🔚"],"","󾀚",["end"],23,15,15,0],"1f51b":[["🔛"],"","󾀙",["on"],23,16,15,0],"1f51c":[["🔜"],"","󾀘",["soon"],23,17,15,0],"1f51d":[["🔝"],"","󾭂",["top"],23,18,15,0],"1f51e":[["🔞"],"","󾬥",["underage"],23,19,15,0],"1f51f":[["🔟"],"","󾠻",["keycap_ten"],23,20,15,0],"1f520":[["🔠"],"","󾭼",["capital_abcd"],23,21,15,0],"1f521":[["🔡"],"","󾭽",["abcd"],23,22,15,0],"1f522":[["🔢"],"","󾭾",["1234"],23,23,15,0],"1f523":[["🔣"],"","󾭿",["symbols"],23,24,15,0],"1f524":[["🔤"],"","󾮀",["abc"],23,25,15,0],"1f525":[["🔥"],"","󾓶",["fire"],23,26,15,0],"1f526":[["🔦"],"","󾓻",["flashlight"],23,27,15,0],"1f527":[["🔧"],"","󾓉",["wrench"],23,28,15,0],
"1f528":[["🔨"],"","󾓊",["hammer"],23,29,15,0],"1f529":[["🔩"],"","󾓋",["nut_and_bolt"],23,30,15,0],"1f52a":[["🔪"],"","󾓺",["hocho","knife"],23,31,15,0],"1f52b":[["🔫"],"","󾓵",["gun"],23,32,15,0],"1f52c":[["🔬"],"","",["microscope"],23,33,15,0],"1f52d":[["🔭"],"","",["telescope"],23,34,15,0],"1f52e":[["🔮"],"","󾓷",["crystal_ball"],23,35,15,0],"1f52f":[["🔯"],"","󾓸",["six_pointed_star"],23,36,15,0],"1f530":[["🔰"],"","󾁄",["beginner"],23,37,15,0],"1f531":[["🔱"],"","󾓒",["trident"],23,38,15,0],"1f532":[["🔲"],"","󾭤",["black_square_button"],23,39,15,0],"1f533":[["🔳"],"","󾭧",["white_square_button"],23,40,15,0],"1f534":[["🔴"],"","󾭣",["red_circle"],24,0,15,0],"1f535":[["🔵"],"","󾭤",["large_blue_circle"],24,1,15,0],"1f536":[["🔶"],"","󾭳",["large_orange_diamond"],24,2,15,0],"1f537":[["🔷"],"","󾭴",["large_blue_diamond"],24,3,15,0],"1f538":[["🔸"],"","󾭵",["small_orange_diamond"],24,4,15,0],"1f539":[["🔹"],"","󾭶",["small_blue_diamond"],24,5,15,0],"1f53a":[["🔺"],"","󾭸",["small_red_triangle"],24,6,15,0],"1f53b":[["🔻"],"","󾭹",["small_red_triangle_down"],24,7,15,0],"1f53c":[["🔼"],"","󾬁",["arrow_up_small"],24,8,15,0],"1f53d":[["🔽"],"","󾬀",["arrow_down_small"],24,9,15,0],"1f549":[["🕉"],"","",["om_symbol"],24,10,15,0],"1f54a":[["🕊"],"","",["dove_of_peace"],24,11,15,0],"1f54b":[["🕋"],"","",["kaaba"],24,12,15,0],"1f54c":[["🕌"],"","",["mosque"],24,13,15,0],"1f54d":[["🕍"],"","",["synagogue"],24,14,15,0],"1f54e":[["🕎"],"","",["menorah_with_nine_branches"],24,15,15,0],"1f550":[["🕐"],"","󾀞",["clock1"],24,16,15,0],"1f551":[["🕑"],"","󾀟",["clock2"],24,17,15,0],"1f552":[["🕒"],"","󾀠",["clock3"],24,18,15,0],"1f553":[["🕓"],"","󾀡",["clock4"],24,19,15,0],"1f554":[["🕔"],"","󾀢",["clock5"],24,20,15,0],"1f555":[["🕕"],"","󾀣",["clock6"],24,21,15,0],"1f556":[["🕖"],"","󾀤",["clock7"],24,22,15,0],"1f557":[["🕗"],"","󾀥",["clock8"],24,23,15,0],"1f558":[["🕘"],"","󾀦",["clock9"],24,24,15,0],"1f559":[["🕙"],"","󾀧",["clock10"],24,25,15,0],"1f55a":[["🕚"],"","󾀨",["clock11"],24,26,15,0],"1f55b":[["🕛"],"","󾀩",["clock12"],24,27,15,0],"1f55c":[["🕜"],"","",["clock130"],24,28,15,0],"1f55d":[["🕝"],"","",["clock230"],24,29,15,0],"1f55e":[["🕞"],"","",["clock330"],24,30,15,0],"1f55f":[["🕟"],"","",["clock430"],24,31,15,0],"1f560":[["🕠"],"","",["clock530"],24,32,15,0],"1f561":[["🕡"],"","",["clock630"],24,33,15,0],"1f562":[["🕢"],"","",["clock730"],24,34,15,0],"1f563":[["🕣"],"","",["clock830"],24,35,15,0],"1f564":[["🕤"],"","",["clock930"],24,36,15,0],"1f565":[["🕥"],"","",["clock1030"],24,37,15,0],"1f566":[["🕦"],"","",["clock1130"],24,38,15,0],"1f567":[["🕧"],"","",["clock1230"],24,39,15,0],"1f56f":[["🕯"],"","",["candle"],24,40,15,0],"1f570":[["🕰"],"","",["mantelpiece_clock"],25,0,15,0],"1f573":[["🕳"],"","",["hole"],25,1,15,0],"1f574":[["🕴"],"","",["man_in_business_suit_levitating"],25,2,15,0],"1f575":[["🕵"],"","",["sleuth_or_spy"],25,3,15,0],"1f576":[["🕶"],"","",["dark_sunglasses"],25,9,15,0],"1f577":[["🕷"],"","",["spider"],25,10,15,0],"1f578":[["🕸"],"","",["spider_web"],25,11,15,0],"1f579":[["🕹"],"","",["joystick"],25,12,15,0],"1f587":[["🖇"],"","",["linked_paperclips"],25,13,15,0],"1f58a":[["🖊"],"","",["lower_left_ballpoint_pen"],25,14,15,0],"1f58b":[["🖋"],"","",["lower_left_fountain_pen"],25,15,15,0],"1f58c":[["🖌"],"","",["lower_left_paintbrush"],25,16,15,0],"1f58d":[["🖍"],"","",["lower_left_crayon"],25,17,15,0],"1f590":[["🖐"],"","",["raised_hand_with_fingers_splayed"],25,18,15,0],"1f595":[["🖕"],"","",["middle_finger","reversed_hand_with_middle_finger_extended"],25,24,15,0],"1f596":[["🖖"],"","",["spock-hand"],25,30,15,0],"1f5a5":[["🖥"],"","",["desktop_computer"],25,36,15,0],"1f5a8":[["🖨"],"","",["printer"],25,37,15,0],"1f5b1":[["🖱"],"","",["three_button_mouse"],25,38,15,0],"1f5b2":[["🖲"],"","",["trackball"],25,39,15,0],"1f5bc":[["🖼"],"","",["frame_with_picture"],25,40,15,0],"1f5c2":[["🗂"],"","",["card_index_dividers"],26,0,15,0],"1f5c3":[["🗃"],"","",["card_file_box"],26,1,15,0],"1f5c4":[["🗄"],"","",["file_cabinet"],26,2,15,0],"1f5d1":[["🗑"],"","",["wastebasket"],26,3,15,0],"1f5d2":[["🗒"],"","",["spiral_note_pad"],26,4,15,0],"1f5d3":[["🗓"],"","",["spiral_calendar_pad"],26,5,15,0],"1f5dc":[["🗜"],"","",["compression"],26,6,15,0],"1f5dd":[["🗝"],"","",["old_key"],26,7,15,0],"1f5de":[["🗞"],"","",["rolled_up_newspaper"],26,8,15,0],"1f5e1":[["🗡"],"","",["dagger_knife"],26,9,15,0],"1f5e3":[["🗣"],"","",["speaking_head_in_silhouette"],26,10,15,0],"1f5e8":[["🗨"],"","",["left_speech_bubble"],26,11,7,0],"1f5ef":[["🗯"],"","",["right_anger_bubble"],26,12,15,0],"1f5f3":[["🗳"],"","",["ballot_box_with_ballot"],26,13,15,0],"1f5fa":[["🗺"],"","",["world_map"],26,14,15,0],"1f5fb":[["🗻"],"","󾓃",["mount_fuji"],26,15,15,0],"1f5fc":[["🗼"],"","󾓄",["tokyo_tower"],26,16,15,0],"1f5fd":[["🗽"],"","󾓆",["statue_of_liberty"],26,17,15,0],"1f5fe":[["🗾"],"","󾓇",["japan"],26,18,15,0],"1f5ff":[["🗿"],"","󾓈",["moyai"],26,19,15,0],"1f600":[["😀"],"","",["grinning"],26,20,15,0,":D"],"1f601":[["😁"],"","󾌳",["grin"],26,21,15,0],"1f602":[["😂"],"","󾌴",["joy"],26,22,15,0],"1f603":[["😃"],"","󾌰",["smiley"],26,23,15,0,":)"],"1f604":[["😄"],"","󾌸",["smile"],26,24,15,0,":)"],"1f605":[["😅"],"","󾌱",["sweat_smile"],26,25,15,0],"1f606":[["😆"],"","󾌲",["laughing","satisfied"],26,26,15,0],"1f607":[["😇"],"","",["innocent"],26,27,15,0],"1f608":[["😈"],"","",["smiling_imp"],26,28,15,0],"1f609":[["😉"],"","󾍇",["wink"],26,29,15,0,";)"],"1f60a":[["😊"],"","󾌵",["blush"],26,30,15,0,":)"],"1f60b":[["😋"],"","󾌫",["yum"],26,31,15,0],"1f60c":[["😌"],"","󾌾",["relieved"],26,32,15,0],"1f60d":[["😍"],"","󾌧",["heart_eyes"],26,33,15,0],"1f60e":[["😎"],"","",["sunglasses"],26,34,15,0],"1f60f":[["😏"],"","󾍃",["smirk"],26,35,15,0],"1f610":[["😐"],"","",["neutral_face"],26,36,15,0],"1f611":[["😑"],"","",["expressionless"],26,37,15,0],"1f612":[["😒"],"","󾌦",["unamused"],26,38,15,0,":("],"1f613":[["😓"],"","󾍄",["sweat"],26,39,15,0],"1f614":[["😔"],"","󾍀",["pensive"],26,40,15,0],"1f615":[["😕"],"","",["confused"],27,0,15,0],"1f616":[["😖"],"","󾌿",["confounded"],27,1,15,0],"1f617":[["😗"],"","",["kissing"],27,2,15,0],"1f618":[["😘"],"","󾌬",["kissing_heart"],27,3,15,0],"1f619":[["😙"],"","",["kissing_smiling_eyes"],27,4,15,0],"1f61a":[["😚"],"","󾌭",["kissing_closed_eyes"],27,5,15,0],"1f61b":[["😛"],"","",["stuck_out_tongue"],27,6,15,0,":p"],"1f61c":[["😜"],"","󾌩",["stuck_out_tongue_winking_eye"],27,7,15,0,";p"],"1f61d":[["😝"],"","󾌪",["stuck_out_tongue_closed_eyes"],27,8,15,0],"1f61e":[["😞"],"","󾌣",["disappointed"],27,9,15,0,":("],"1f61f":[["😟"],"","",["worried"],27,10,15,0],"1f620":[["😠"],"","󾌠",["angry"],27,11,15,0],"1f621":[["😡"],"","󾌽",["rage"],27,12,15,0],"1f622":[["😢"],"","󾌹",["cry"],27,13,15,0,":'("],"1f623":[["😣"],"","󾌼",["persevere"],27,14,15,0],"1f624":[["😤"],"","󾌨",["triumph"],27,15,15,0],"1f625":[["😥"],"","󾍅",["disappointed_relieved"],27,16,15,0],"1f626":[["😦"],"","",["frowning"],27,17,15,0],"1f627":[["😧"],"","",["anguished"],27,18,15,0],"1f628":[["😨"],"","󾌻",["fearful"],27,19,15,0],"1f629":[["😩"],"","󾌡",["weary"],27,20,15,0],"1f62a":[["😪"],"","󾍂",["sleepy"],27,21,15,0],"1f62b":[["😫"],"","󾍆",["tired_face"],27,22,15,0],"1f62c":[["😬"],"","",["grimacing"],27,23,15,0],"1f62d":[["😭"],"","󾌺",["sob"],27,24,15,0,":'("],"1f62e":[["😮"],"","",["open_mouth"],27,25,15,0],"1f62f":[["😯"],"","",["hushed"],27,26,15,0],"1f630":[["😰"],"","󾌥",["cold_sweat"],27,27,15,0],"1f631":[["😱"],"","󾍁",["scream"],27,28,15,0],"1f632":[["😲"],"","󾌢",["astonished"],27,29,15,0],"1f633":[["😳"],"","󾌯",["flushed"],27,30,15,0],"1f634":[["😴"],"","",["sleeping"],27,31,15,0],"1f635":[["😵"],"","󾌤",["dizzy_face"],27,32,15,0],"1f636":[["😶"],"","",["no_mouth"],27,33,15,0],"1f637":[["😷"],"","󾌮",["mask"],27,34,15,0],"1f638":[["😸"],"","󾍉",["smile_cat"],27,35,15,0],"1f639":[["😹"],"","󾍊",["joy_cat"],27,36,15,0],"1f63a":[["😺"],"","󾍈",["smiley_cat"],27,37,15,0],"1f63b":[["😻"],"","󾍌",["heart_eyes_cat"],27,38,15,0],"1f63c":[["😼"],"","󾍏",["smirk_cat"],27,39,15,0],"1f63d":[["😽"],"","󾍋",["kissing_cat"],27,40,15,0],"1f63e":[["😾"],"","󾍎",["pouting_cat"],28,0,15,0],"1f63f":[["😿"],"","󾍍",["crying_cat_face"],28,1,15,0],"1f640":[["🙀"],"","󾍐",["scream_cat"],28,2,15,0],"1f641":[["🙁"],"","",["slightly_frowning_face"],28,3,15,0],"1f642":[["🙂"],"","",["slightly_smiling_face"],28,4,15,0],"1f643":[["🙃"],"","",["upside_down_face"],28,5,15,0],"1f644":[["🙄"],"","",["face_with_rolling_eyes"],28,6,15,0],"1f645":[["🙅"],"","󾍑",["no_good"],28,7,15,0],"1f646":[["🙆"],"","󾍒",["ok_woman"],28,13,15,0],"1f647":[["🙇"],"","󾍓",["bow"],28,19,15,0],"1f648":[["🙈"],"","󾍔",["see_no_evil"],28,25,15,0],"1f649":[["🙉"],"","󾍖",["hear_no_evil"],28,26,15,0],"1f64a":[["🙊"],"","󾍕",["speak_no_evil"],28,27,15,0],"1f64b":[["🙋"],"","󾍗",["raising_hand"],28,28,15,0],"1f64c":[["🙌"],"","󾍘",["raised_hands"],28,34,15,0],"1f64d":[["🙍"],"","󾍙",["person_frowning"],28,40,15,0],"1f64e":[["🙎"],"","󾍚",["person_with_pouting_face"],29,5,15,0],"1f64f":[["🙏"],"","󾍛",["pray"],29,11,15,0],"1f680":[["🚀"],"","󾟭",["rocket"],29,17,15,0],"1f681":[["🚁"],"","",["helicopter"],29,18,15,0],"1f682":[["🚂"],"","",["steam_locomotive"],29,19,15,0],"1f683":[["🚃"],"","󾟟",["railway_car"],29,20,15,0],"1f684":[["🚄"],"","󾟢",["bullettrain_side"],29,21,15,0],"1f685":[["🚅"],"","󾟣",["bullettrain_front"],29,22,15,0],"1f686":[["🚆"],"","",["train2"],29,23,15,0],"1f687":[["🚇"],"","󾟠",["metro"],29,24,15,0],"1f688":[["🚈"],"","",["light_rail"],29,25,15,0],"1f689":[["🚉"],"","󾟬",["station"],29,26,15,0],"1f68a":[["🚊"],"","",["tram"],29,27,15,0],"1f68b":[["🚋"],"","",["train"],29,28,15,0],"1f68c":[["🚌"],"","󾟦",["bus"],29,29,15,0],"1f68d":[["🚍"],"","",["oncoming_bus"],29,30,15,0],"1f68e":[["🚎"],"","",["trolleybus"],29,31,15,0],"1f68f":[["🚏"],"","󾟧",["busstop"],29,32,15,0],"1f690":[["🚐"],"","",["minibus"],29,33,15,0],"1f691":[["🚑"],"","󾟳",["ambulance"],29,34,15,0],"1f692":[["🚒"],"","󾟲",["fire_engine"],29,35,15,0],"1f693":[["🚓"],"","󾟴",["police_car"],29,36,15,0],"1f694":[["🚔"],"","",["oncoming_police_car"],29,37,15,0],"1f695":[["🚕"],"","󾟯",["taxi"],29,38,15,0],"1f696":[["🚖"],"","",["oncoming_taxi"],29,39,15,0],"1f697":[["🚗"],"","󾟤",["car","red_car"],29,40,15,0],"1f698":[["🚘"],"","",["oncoming_automobile"],30,0,15,0],"1f699":[["🚙"],"","󾟥",["blue_car"],30,1,15,0],"1f69a":[["🚚"],"","󾟱",["truck"],30,2,15,0],"1f69b":[["🚛"],"","",["articulated_lorry"],30,3,15,0],"1f69c":[["🚜"],"","",["tractor"],30,4,15,0],"1f69d":[["🚝"],"","",["monorail"],30,5,15,0],"1f69e":[["🚞"],"","",["mountain_railway"],30,6,15,0],"1f69f":[["🚟"],"","",["suspension_railway"],30,7,15,0],"1f6a0":[["🚠"],"","",["mountain_cableway"],30,8,15,0],"1f6a1":[["🚡"],"","",["aerial_tramway"],30,9,15,0],"1f6a2":[["🚢"],"","󾟨",["ship"],30,10,15,0],"1f6a3":[["🚣"],"","",["rowboat"],30,11,15,0],"1f6a4":[["🚤"],"","󾟮",["speedboat"],30,17,15,0],"1f6a5":[["🚥"],"","󾟷",["traffic_light"],30,18,15,0],"1f6a6":[["🚦"],"","",["vertical_traffic_light"],30,19,15,0],"1f6a7":[["🚧"],"","󾟸",["construction"],30,20,15,0],"1f6a8":[["🚨"],"","󾟹",["rotating_light"],30,21,15,0],"1f6a9":[["🚩"],"","󾬢",["triangular_flag_on_post"],30,22,15,0],"1f6aa":[["🚪"],"","󾓳",["door"],30,23,15,0],"1f6ab":[["🚫"],"","󾭈",["no_entry_sign"],30,24,15,0],"1f6ac":[["🚬"],"","󾬞",["smoking"],30,25,15,0],"1f6ad":[["🚭"],"","󾬟",["no_smoking"],30,26,15,0],"1f6ae":[["🚮"],"","",["put_litter_in_its_place"],30,27,15,0],"1f6af":[["🚯"],"","",["do_not_litter"],30,28,15,0],"1f6b0":[["🚰"],"","",["potable_water"],30,29,15,0],"1f6b1":[["🚱"],"","",["non-potable_water"],30,30,15,0],"1f6b2":[["🚲"],"","󾟫",["bike"],30,31,15,0],"1f6b3":[["🚳"],"","",["no_bicycles"],30,32,15,0],"1f6b4":[["🚴"],"","",["bicyclist"],30,33,15,0],"1f6b5":[["🚵"],"","",["mountain_bicyclist"],30,39,15,0],"1f6b6":[["🚶"],"","󾟰",["walking"],31,4,15,0],"1f6b7":[["🚷"],"","",["no_pedestrians"],31,10,15,0],"1f6b8":[["🚸"],"","",["children_crossing"],31,11,15,0],"1f6b9":[["🚹"],"","󾬳",["mens"],31,12,15,0],"1f6ba":[["🚺"],"","󾬴",["womens"],31,13,15,0],"1f6bb":[["🚻"],"","󾔆",["restroom"],31,14,15,0],"1f6bc":[["🚼"],"","󾬵",["baby_symbol"],31,15,15,0],"1f6bd":[["🚽"],"","󾔇",["toilet"],31,16,15,0],"1f6be":[["🚾"],"","󾔈",["wc"],31,17,15,0],"1f6bf":[["🚿"],"","",["shower"],31,18,15,0],"1f6c0":[["🛀"],"","󾔅",["bath"],31,19,15,0],"1f6c1":[["🛁"],"","",["bathtub"],31,25,15,0],"1f6c2":[["🛂"],"","",["passport_control"],31,26,15,0],"1f6c3":[["🛃"],"","",["customs"],31,27,15,0],"1f6c4":[["🛄"],"","",["baggage_claim"],31,28,15,0],"1f6c5":[["🛅"],"","",["left_luggage"],31,29,15,0],"1f6cb":[["🛋"],"","",["couch_and_lamp"],31,30,15,0],"1f6cc":[["🛌"],"","",["sleeping_accommodation"],31,31,15,0],"1f6cd":[["🛍"],"","",["shopping_bags"],31,32,15,0],"1f6ce":[["🛎"],"","",["bellhop_bell"],31,33,15,0],"1f6cf":[["🛏"],"","",["bed"],31,34,15,0],"1f6d0":[["🛐"],"","",["place_of_worship"],31,35,15,0],"1f6e0":[["🛠"],"","",["hammer_and_wrench"],31,36,15,0],"1f6e1":[["🛡"],"","",["shield"],31,37,15,0],"1f6e2":[["🛢"],"","",["oil_drum"],31,38,15,0],"1f6e3":[["🛣"],"","",["motorway"],31,39,15,0],"1f6e4":[["🛤"],"","",["railway_track"],31,40,15,0],"1f6e5":[["🛥"],"","",["motor_boat"],32,0,15,0],"1f6e9":[["🛩"],"","",["small_airplane"],32,1,15,0],"1f6eb":[["🛫"],"","",["airplane_departure"],32,2,15,0],"1f6ec":[["🛬"],"","",["airplane_arriving"],32,3,15,0],"1f6f0":[["🛰"],"","",["satellite"],32,4,15,0],"1f6f3":[["🛳"],"","",["passenger_ship"],32,5,15,0],"1f910":[["🤐"],"","",["zipper_mouth_face"],32,6,15,0],"1f911":[["🤑"],"","",["money_mouth_face"],32,7,15,0],"1f912":[["🤒"],"","",["face_with_thermometer"],32,8,15,0],"1f913":[["🤓"],"","",["nerd_face"],32,9,15,0],"1f914":[["🤔"],"","",["thinking_face"],32,10,15,0],"1f915":[["🤕"],"","",["face_with_head_bandage"],32,11,15,0],"1f916":[["🤖"],"","",["robot_face"],32,12,15,0],"1f917":[["🤗"],"","",["hugging_face"],32,13,15,0],"1f918":[["🤘"],"","",["the_horns","sign_of_the_horns"],32,14,15,0],"1f980":[["🦀"],"","",["crab"],32,20,15,0],"1f981":[["🦁"],"","",["lion_face"],32,21,15,0],"1f982":[["🦂"],"","",["scorpion"],32,22,15,0],"1f983":[["🦃"],"","",["turkey"],32,23,15,0],"1f984":[["🦄"],"","",["unicorn_face"],32,24,15,0],"1f9c0":[["🧀"],"","",["cheese_wedge"],32,25,15,0],"0023-20e3":[["#️⃣","#⃣"],"","󾠬",["hash"],32,26,15,0],"002a-20e3":[["*⃣"],"","",["keycap_star"],32,27,15,0],"0030-20e3":[["0️⃣","0⃣"],"","󾠷",["zero"],32,28,15,0],"0031-20e3":[["1️⃣","1⃣"],"","󾠮",["one"],32,29,15,0],"0032-20e3":[["2️⃣","2⃣"],"","󾠯",["two"],32,30,15,0],"0033-20e3":[["3️⃣","3⃣"],"","󾠰",["three"],32,31,15,0],"0034-20e3":[["4️⃣","4⃣"],"","󾠱",["four"],32,32,15,0],"0035-20e3":[["5️⃣","5⃣"],"","󾠲",["five"],32,33,15,0],"0036-20e3":[["6️⃣","6⃣"],"","󾠳",["six"],32,34,15,0],"0037-20e3":[["7️⃣","7⃣"],"","󾠴",["seven"],32,35,15,0],"0038-20e3":[["8️⃣","8⃣"],"","󾠵",["eight"],32,36,15,0],"0039-20e3":[["9️⃣","9⃣"],"","󾠶",["nine"],32,37,15,0],"1f1e6-1f1e8":[["🇦🇨"],"","",["flag-ac"],32,38,13,0],"1f1e6-1f1e9":[["🇦🇩"],"","",["flag-ad"],32,39,15,0],"1f1e6-1f1ea":[["🇦🇪"],"","",["flag-ae"],32,40,15,0],"1f1e6-1f1eb":[["🇦🇫"],"","",["flag-af"],33,0,15,0],"1f1e6-1f1ec":[["🇦🇬"],"","",["flag-ag"],33,1,15,0],"1f1e6-1f1ee":[["🇦🇮"],"","",["flag-ai"],33,2,15,0],"1f1e6-1f1f1":[["🇦🇱"],"","",["flag-al"],33,3,15,0],"1f1e6-1f1f2":[["🇦🇲"],"","",["flag-am"],33,4,15,0],"1f1e6-1f1f4":[["🇦🇴"],"","",["flag-ao"],33,5,15,0],"1f1e6-1f1f6":[["🇦🇶"],"","",["flag-aq"],33,6,13,0],"1f1e6-1f1f7":[["🇦🇷"],"","",["flag-ar"],33,7,15,0],"1f1e6-1f1f8":[["🇦🇸"],"","",["flag-as"],33,8,15,0],"1f1e6-1f1f9":[["🇦🇹"],"","",["flag-at"],33,9,15,0],"1f1e6-1f1fa":[["🇦🇺"],"","",["flag-au"],33,10,15,0],"1f1e6-1f1fc":[["🇦🇼"],"","",["flag-aw"],33,11,15,0],"1f1e6-1f1fd":[["🇦🇽"],"","",["flag-ax"],33,12,15,0],"1f1e6-1f1ff":[["🇦🇿"],"","",["flag-az"],33,13,15,0],"1f1e7-1f1e6":[["🇧🇦"],"","",["flag-ba"],33,14,15,0],"1f1e7-1f1e7":[["🇧🇧"],"","",["flag-bb"],33,15,15,0],"1f1e7-1f1e9":[["🇧🇩"],"","",["flag-bd"],33,16,15,0],"1f1e7-1f1ea":[["🇧🇪"],"","",["flag-be"],33,17,15,0],"1f1e7-1f1eb":[["🇧🇫"],"","",["flag-bf"],33,18,15,0],"1f1e7-1f1ec":[["🇧🇬"],"","",["flag-bg"],33,19,15,0],"1f1e7-1f1ed":[["🇧🇭"],"","",["flag-bh"],33,20,15,0],"1f1e7-1f1ee":[["🇧🇮"],"","",["flag-bi"],33,21,15,0],"1f1e7-1f1ef":[["🇧🇯"],"","",["flag-bj"],33,22,15,0],"1f1e7-1f1f1":[["🇧🇱"],"","",["flag-bl"],33,23,13,0],"1f1e7-1f1f2":[["🇧🇲"],"","",["flag-bm"],33,24,15,0],"1f1e7-1f1f3":[["🇧🇳"],"","",["flag-bn"],33,25,15,0],"1f1e7-1f1f4":[["🇧🇴"],"","",["flag-bo"],33,26,15,0],"1f1e7-1f1f6":[["🇧🇶"],"","",["flag-bq"],33,27,13,0],"1f1e7-1f1f7":[["🇧🇷"],"","",["flag-br"],33,28,15,0],"1f1e7-1f1f8":[["🇧🇸"],"","",["flag-bs"],33,29,15,0],"1f1e7-1f1f9":[["🇧🇹"],"","",["flag-bt"],33,30,15,0],"1f1e7-1f1fb":[["🇧🇻"],"","",["flag-bv"],33,31,13,0],"1f1e7-1f1fc":[["🇧🇼"],"","",["flag-bw"],33,32,15,0],"1f1e7-1f1fe":[["🇧🇾"],"","",["flag-by"],33,33,15,0],"1f1e7-1f1ff":[["🇧🇿"],"","",["flag-bz"],33,34,15,0],"1f1e8-1f1e6":[["🇨🇦"],"","",["flag-ca"],33,35,15,0],"1f1e8-1f1e8":[["🇨🇨"],"","",["flag-cc"],33,36,15,0],"1f1e8-1f1e9":[["🇨🇩"],"","",["flag-cd"],33,37,15,0],"1f1e8-1f1eb":[["🇨🇫"],"","",["flag-cf"],33,38,15,0],"1f1e8-1f1ec":[["🇨🇬"],"","",["flag-cg"],33,39,15,0],"1f1e8-1f1ed":[["🇨🇭"],"","",["flag-ch"],33,40,15,0],"1f1e8-1f1ee":[["🇨🇮"],"","",["flag-ci"],34,0,15,0],"1f1e8-1f1f0":[["🇨🇰"],"","",["flag-ck"],34,1,15,0],"1f1e8-1f1f1":[["🇨🇱"],"","",["flag-cl"],34,2,15,0],"1f1e8-1f1f2":[["🇨🇲"],"","",["flag-cm"],34,3,15,0],"1f1e8-1f1f3":[["🇨🇳"],"","󾓭",["flag-cn","cn"],34,4,15,0],"1f1e8-1f1f4":[["🇨🇴"],"","",["flag-co"],34,5,15,0],"1f1e8-1f1f5":[["🇨🇵"],"","",["flag-cp"],34,6,13,0],"1f1e8-1f1f7":[["🇨🇷"],"","",["flag-cr"],34,7,15,0],"1f1e8-1f1fa":[["🇨🇺"],"","",["flag-cu"],34,8,15,0],"1f1e8-1f1fb":[["🇨🇻"],"","",["flag-cv"],34,9,15,0],"1f1e8-1f1fc":[["🇨🇼"],"","",["flag-cw"],34,10,15,0],"1f1e8-1f1fd":[["🇨🇽"],"","",["flag-cx"],34,11,15,0],"1f1e8-1f1fe":[["🇨🇾"],"","",["flag-cy"],34,12,15,0],"1f1e8-1f1ff":[["🇨🇿"],"","",["flag-cz"],34,13,15,0],"1f1e9-1f1ea":[["🇩🇪"],"","󾓨",["flag-de","de"],34,14,15,0],"1f1e9-1f1ec":[["🇩🇬"],"","",["flag-dg"],34,15,13,0],"1f1e9-1f1ef":[["🇩🇯"],"","",["flag-dj"],34,16,15,0],"1f1e9-1f1f0":[["🇩🇰"],"","",["flag-dk"],34,17,15,0],"1f1e9-1f1f2":[["🇩🇲"],"","",["flag-dm"],34,18,15,0],"1f1e9-1f1f4":[["🇩🇴"],"","",["flag-do"],34,19,15,0],"1f1e9-1f1ff":[["🇩🇿"],"","",["flag-dz"],34,20,15,0],"1f1ea-1f1e6":[["🇪🇦"],"","",["flag-ea"],34,21,13,0],"1f1ea-1f1e8":[["🇪🇨"],"","",["flag-ec"],34,22,15,0],"1f1ea-1f1ea":[["🇪🇪"],"","",["flag-ee"],34,23,15,0],"1f1ea-1f1ec":[["🇪🇬"],"","",["flag-eg"],34,24,15,0],"1f1ea-1f1ed":[["🇪🇭"],"","",["flag-eh"],34,25,13,0],"1f1ea-1f1f7":[["🇪🇷"],"","",["flag-er"],34,26,15,0],"1f1ea-1f1f8":[["🇪🇸"],"","󾓫",["flag-es","es"],34,27,15,0],"1f1ea-1f1f9":[["🇪🇹"],"","",["flag-et"],34,28,15,0],"1f1ea-1f1fa":[["🇪🇺"],"","",["flag-eu"],34,29,15,0],"1f1eb-1f1ee":[["🇫🇮"],"","",["flag-fi"],34,30,15,0],"1f1eb-1f1ef":[["🇫🇯"],"","",["flag-fj"],34,31,15,0],"1f1eb-1f1f0":[["🇫🇰"],"","",["flag-fk"],34,32,13,0],"1f1eb-1f1f2":[["🇫🇲"],"","",["flag-fm"],34,33,15,0],"1f1eb-1f1f4":[["🇫🇴"],"","",["flag-fo"],34,34,15,0],"1f1eb-1f1f7":[["🇫🇷"],"","󾓧",["flag-fr","fr"],34,35,15,0],"1f1ec-1f1e6":[["🇬🇦"],"","",["flag-ga"],34,36,15,0],"1f1ec-1f1e7":[["🇬🇧"],"","󾓪",["flag-gb","gb","uk"],34,37,15,0],"1f1ec-1f1e9":[["🇬🇩"],"","",["flag-gd"],34,38,15,0],"1f1ec-1f1ea":[["🇬🇪"],"","",["flag-ge"],34,39,15,0],"1f1ec-1f1eb":[["🇬🇫"],"","",["flag-gf"],34,40,13,0],"1f1ec-1f1ec":[["🇬🇬"],"","",["flag-gg"],35,0,15,0],"1f1ec-1f1ed":[["🇬🇭"],"","",["flag-gh"],35,1,15,0],"1f1ec-1f1ee":[["🇬🇮"],"","",["flag-gi"],35,2,15,0],"1f1ec-1f1f1":[["🇬🇱"],"","",["flag-gl"],35,3,15,0],"1f1ec-1f1f2":[["🇬🇲"],"","",["flag-gm"],35,4,15,0],"1f1ec-1f1f3":[["🇬🇳"],"","",["flag-gn"],35,5,15,0],"1f1ec-1f1f5":[["🇬🇵"],"","",["flag-gp"],35,6,13,0],"1f1ec-1f1f6":[["🇬🇶"],"","",["flag-gq"],35,7,15,0],"1f1ec-1f1f7":[["🇬🇷"],"","",["flag-gr"],35,8,15,0],"1f1ec-1f1f8":[["🇬🇸"],"","",["flag-gs"],35,9,13,0],"1f1ec-1f1f9":[["🇬🇹"],"","",["flag-gt"],35,10,15,0],"1f1ec-1f1fa":[["🇬🇺"],"","",["flag-gu"],35,11,15,0],"1f1ec-1f1fc":[["🇬🇼"],"","",["flag-gw"],35,12,15,0],"1f1ec-1f1fe":[["🇬🇾"],"","",["flag-gy"],35,13,15,0],"1f1ed-1f1f0":[["🇭🇰"],"","",["flag-hk"],35,14,15,0],"1f1ed-1f1f2":[["🇭🇲"],"","",["flag-hm"],35,15,13,0],"1f1ed-1f1f3":[["🇭🇳"],"","",["flag-hn"],35,16,15,0],"1f1ed-1f1f7":[["🇭🇷"],"","",["flag-hr"],35,17,15,0],"1f1ed-1f1f9":[["🇭🇹"],"","",["flag-ht"],35,18,15,0],"1f1ed-1f1fa":[["🇭🇺"],"","",["flag-hu"],35,19,15,0],"1f1ee-1f1e8":[["🇮🇨"],"","",["flag-ic"],35,20,13,0],"1f1ee-1f1e9":[["🇮🇩"],"","",["flag-id"],35,21,15,0],"1f1ee-1f1ea":[["🇮🇪"],"","",["flag-ie"],35,22,15,0],"1f1ee-1f1f1":[["🇮🇱"],"","",["flag-il"],35,23,15,0],"1f1ee-1f1f2":[["🇮🇲"],"","",["flag-im"],35,24,15,0],"1f1ee-1f1f3":[["🇮🇳"],"","",["flag-in"],35,25,15,0],"1f1ee-1f1f4":[["🇮🇴"],"","",["flag-io"],35,26,15,0],"1f1ee-1f1f6":[["🇮🇶"],"","",["flag-iq"],35,27,15,0],"1f1ee-1f1f7":[["🇮🇷"],"","",["flag-ir"],35,28,15,0],"1f1ee-1f1f8":[["🇮🇸"],"","",["flag-is"],35,29,15,0],"1f1ee-1f1f9":[["🇮🇹"],"","󾓩",["flag-it","it"],35,30,15,0],"1f1ef-1f1ea":[["🇯🇪"],"","",["flag-je"],35,31,15,0],"1f1ef-1f1f2":[["🇯🇲"],"","",["flag-jm"],35,32,15,0],"1f1ef-1f1f4":[["🇯🇴"],"","",["flag-jo"],35,33,15,0],"1f1ef-1f1f5":[["🇯🇵"],"","󾓥",["flag-jp","jp"],35,34,15,0],"1f1f0-1f1ea":[["🇰🇪"],"","",["flag-ke"],35,35,15,0],"1f1f0-1f1ec":[["🇰🇬"],"","",["flag-kg"],35,36,15,0],"1f1f0-1f1ed":[["🇰🇭"],"","",["flag-kh"],35,37,15,0],"1f1f0-1f1ee":[["🇰🇮"],"","",["flag-ki"],35,38,15,0],"1f1f0-1f1f2":[["🇰🇲"],"","",["flag-km"],35,39,15,0],"1f1f0-1f1f3":[["🇰🇳"],"","",["flag-kn"],35,40,15,0],"1f1f0-1f1f5":[["🇰🇵"],"","",["flag-kp"],36,0,15,0],"1f1f0-1f1f7":[["🇰🇷"],"","󾓮",["flag-kr","kr"],36,1,15,0],"1f1f0-1f1fc":[["🇰🇼"],"","",["flag-kw"],36,2,15,0],"1f1f0-1f1fe":[["🇰🇾"],"","",["flag-ky"],36,3,15,0],"1f1f0-1f1ff":[["🇰🇿"],"","",["flag-kz"],36,4,15,0],"1f1f1-1f1e6":[["🇱🇦"],"","",["flag-la"],36,5,15,0],"1f1f1-1f1e7":[["🇱🇧"],"","",["flag-lb"],36,6,15,0],"1f1f1-1f1e8":[["🇱🇨"],"","",["flag-lc"],36,7,15,0],"1f1f1-1f1ee":[["🇱🇮"],"","",["flag-li"],36,8,15,0],"1f1f1-1f1f0":[["🇱🇰"],"","",["flag-lk"],36,9,15,0],"1f1f1-1f1f7":[["🇱🇷"],"","",["flag-lr"],36,10,15,0],"1f1f1-1f1f8":[["🇱🇸"],"","",["flag-ls"],36,11,15,0],"1f1f1-1f1f9":[["🇱🇹"],"","",["flag-lt"],36,12,15,0],"1f1f1-1f1fa":[["🇱🇺"],"","",["flag-lu"],36,13,15,0],"1f1f1-1f1fb":[["🇱🇻"],"","",["flag-lv"],36,14,15,0],"1f1f1-1f1fe":[["🇱🇾"],"","",["flag-ly"],36,15,15,0],"1f1f2-1f1e6":[["🇲🇦"],"","",["flag-ma"],36,16,15,0],"1f1f2-1f1e8":[["🇲🇨"],"","",["flag-mc"],36,17,15,0],"1f1f2-1f1e9":[["🇲🇩"],"","",["flag-md"],36,18,15,0],"1f1f2-1f1ea":[["🇲🇪"],"","",["flag-me"],36,19,15,0],"1f1f2-1f1eb":[["🇲🇫"],"","",["flag-mf"],36,20,13,0],"1f1f2-1f1ec":[["🇲🇬"],"","",["flag-mg"],36,21,15,0],"1f1f2-1f1ed":[["🇲🇭"],"","",["flag-mh"],36,22,15,0],"1f1f2-1f1f0":[["🇲🇰"],"","",["flag-mk"],36,23,15,0],"1f1f2-1f1f1":[["🇲🇱"],"","",["flag-ml"],36,24,15,0],"1f1f2-1f1f2":[["🇲🇲"],"","",["flag-mm"],36,25,15,0],"1f1f2-1f1f3":[["🇲🇳"],"","",["flag-mn"],36,26,15,0],"1f1f2-1f1f4":[["🇲🇴"],"","",["flag-mo"],36,27,15,0],"1f1f2-1f1f5":[["🇲🇵"],"","",["flag-mp"],36,28,15,0],"1f1f2-1f1f6":[["🇲🇶"],"","",["flag-mq"],36,29,13,0],"1f1f2-1f1f7":[["🇲🇷"],"","",["flag-mr"],36,30,15,0],"1f1f2-1f1f8":[["🇲🇸"],"","",["flag-ms"],36,31,15,0],"1f1f2-1f1f9":[["🇲🇹"],"","",["flag-mt"],36,32,15,0],"1f1f2-1f1fa":[["🇲🇺"],"","",["flag-mu"],36,33,15,0],"1f1f2-1f1fb":[["🇲🇻"],"","",["flag-mv"],36,34,15,0],"1f1f2-1f1fc":[["🇲🇼"],"","",["flag-mw"],36,35,15,0],"1f1f2-1f1fd":[["🇲🇽"],"","",["flag-mx"],36,36,15,0],"1f1f2-1f1fe":[["🇲🇾"],"","",["flag-my"],36,37,15,0],"1f1f2-1f1ff":[["🇲🇿"],"","",["flag-mz"],36,38,15,0],"1f1f3-1f1e6":[["🇳🇦"],"","",["flag-na"],36,39,15,0],"1f1f3-1f1e8":[["🇳🇨"],"","",["flag-nc"],36,40,13,0],"1f1f3-1f1ea":[["🇳🇪"],"","",["flag-ne"],37,0,15,0],"1f1f3-1f1eb":[["🇳🇫"],"","",["flag-nf"],37,1,15,0],"1f1f3-1f1ec":[["🇳🇬"],"","",["flag-ng"],37,2,15,0],"1f1f3-1f1ee":[["🇳🇮"],"","",["flag-ni"],37,3,15,0],"1f1f3-1f1f1":[["🇳🇱"],"","",["flag-nl"],37,4,15,0],"1f1f3-1f1f4":[["🇳🇴"],"","",["flag-no"],37,5,15,0],"1f1f3-1f1f5":[["🇳🇵"],"","",["flag-np"],37,6,15,0],"1f1f3-1f1f7":[["🇳🇷"],"","",["flag-nr"],37,7,15,0],"1f1f3-1f1fa":[["🇳🇺"],"","",["flag-nu"],37,8,15,0],"1f1f3-1f1ff":[["🇳🇿"],"","",["flag-nz"],37,9,15,0],"1f1f4-1f1f2":[["🇴🇲"],"","",["flag-om"],37,10,15,0],"1f1f5-1f1e6":[["🇵🇦"],"","",["flag-pa"],37,11,15,0],"1f1f5-1f1ea":[["🇵🇪"],"","",["flag-pe"],37,12,15,0],"1f1f5-1f1eb":[["🇵🇫"],"","",["flag-pf"],37,13,15,0],"1f1f5-1f1ec":[["🇵🇬"],"","",["flag-pg"],37,14,15,0],"1f1f5-1f1ed":[["🇵🇭"],"","",["flag-ph"],37,15,15,0],"1f1f5-1f1f0":[["🇵🇰"],"","",["flag-pk"],37,16,15,0],"1f1f5-1f1f1":[["🇵🇱"],"","",["flag-pl"],37,17,15,0],"1f1f5-1f1f2":[["🇵🇲"],"","",["flag-pm"],37,18,13,0],"1f1f5-1f1f3":[["🇵🇳"],"","",["flag-pn"],37,19,15,0],"1f1f5-1f1f7":[["🇵🇷"],"","",["flag-pr"],37,20,15,0],"1f1f5-1f1f8":[["🇵🇸"],"","",["flag-ps"],37,21,15,0],"1f1f5-1f1f9":[["🇵🇹"],"","",["flag-pt"],37,22,15,0],"1f1f5-1f1fc":[["🇵🇼"],"","",["flag-pw"],37,23,15,0],"1f1f5-1f1fe":[["🇵🇾"],"","",["flag-py"],37,24,15,0],"1f1f6-1f1e6":[["🇶🇦"],"","",["flag-qa"],37,25,15,0],"1f1f7-1f1ea":[["🇷🇪"],"","",["flag-re"],37,26,13,0],"1f1f7-1f1f4":[["🇷🇴"],"","",["flag-ro"],37,27,15,0],"1f1f7-1f1f8":[["🇷🇸"],"","",["flag-rs"],37,28,15,0],"1f1f7-1f1fa":[["🇷🇺"],"","󾓬",["flag-ru","ru"],37,29,15,0],"1f1f7-1f1fc":[["🇷🇼"],"","",["flag-rw"],37,30,15,0],"1f1f8-1f1e6":[["🇸🇦"],"","",["flag-sa"],37,31,15,0],"1f1f8-1f1e7":[["🇸🇧"],"","",["flag-sb"],37,32,15,0],"1f1f8-1f1e8":[["🇸🇨"],"","",["flag-sc"],37,33,15,0],"1f1f8-1f1e9":[["🇸🇩"],"","",["flag-sd"],37,34,15,0],"1f1f8-1f1ea":[["🇸🇪"],"","",["flag-se"],37,35,15,0],"1f1f8-1f1ec":[["🇸🇬"],"","",["flag-sg"],37,36,15,0],"1f1f8-1f1ed":[["🇸🇭"],"","",["flag-sh"],37,37,13,0],"1f1f8-1f1ee":[["🇸🇮"],"","",["flag-si"],37,38,15,0],"1f1f8-1f1ef":[["🇸🇯"],"","",["flag-sj"],37,39,13,0],"1f1f8-1f1f0":[["🇸🇰"],"","",["flag-sk"],37,40,15,0],"1f1f8-1f1f1":[["🇸🇱"],"","",["flag-sl"],38,0,15,0],"1f1f8-1f1f2":[["🇸🇲"],"","",["flag-sm"],38,1,15,0],"1f1f8-1f1f3":[["🇸🇳"],"","",["flag-sn"],38,2,15,0],"1f1f8-1f1f4":[["🇸🇴"],"","",["flag-so"],38,3,15,0],"1f1f8-1f1f7":[["🇸🇷"],"","",["flag-sr"],38,4,15,0],"1f1f8-1f1f8":[["🇸🇸"],"","",["flag-ss"],38,5,15,0],"1f1f8-1f1f9":[["🇸🇹"],"","",["flag-st"],38,6,15,0],"1f1f8-1f1fb":[["🇸🇻"],"","",["flag-sv"],38,7,15,0],"1f1f8-1f1fd":[["🇸🇽"],"","",["flag-sx"],38,8,15,0],"1f1f8-1f1fe":[["🇸🇾"],"","",["flag-sy"],38,9,15,0],"1f1f8-1f1ff":[["🇸🇿"],"","",["flag-sz"],38,10,15,0],"1f1f9-1f1e6":[["🇹🇦"],"","",["flag-ta"],38,11,13,0],"1f1f9-1f1e8":[["🇹🇨"],"","",["flag-tc"],38,12,15,0],"1f1f9-1f1e9":[["🇹🇩"],"","",["flag-td"],38,13,15,0],"1f1f9-1f1eb":[["🇹🇫"],"","",["flag-tf"],38,14,13,0],"1f1f9-1f1ec":[["🇹🇬"],"","",["flag-tg"],38,15,15,0],"1f1f9-1f1ed":[["🇹🇭"],"","",["flag-th"],38,16,15,0],"1f1f9-1f1ef":[["🇹🇯"],"","",["flag-tj"],38,17,15,0],"1f1f9-1f1f0":[["🇹🇰"],"","",["flag-tk"],38,18,15,0],"1f1f9-1f1f1":[["🇹🇱"],"","",["flag-tl"],38,19,15,0],"1f1f9-1f1f2":[["🇹🇲"],"","",["flag-tm"],38,20,15,0],"1f1f9-1f1f3":[["🇹🇳"],"","",["flag-tn"],38,21,15,0],"1f1f9-1f1f4":[["🇹🇴"],"","",["flag-to"],38,22,15,0],"1f1f9-1f1f7":[["🇹🇷"],"","",["flag-tr"],38,23,15,0],"1f1f9-1f1f9":[["🇹🇹"],"","",["flag-tt"],38,24,15,0],"1f1f9-1f1fb":[["🇹🇻"],"","",["flag-tv"],38,25,15,0],"1f1f9-1f1fc":[["🇹🇼"],"","",["flag-tw"],38,26,15,0],"1f1f9-1f1ff":[["🇹🇿"],"","",["flag-tz"],38,27,15,0],"1f1fa-1f1e6":[["🇺🇦"],"","",["flag-ua"],38,28,15,0],"1f1fa-1f1ec":[["🇺🇬"],"","",["flag-ug"],38,29,15,0],"1f1fa-1f1f2":[["🇺🇲"],"","",["flag-um"],38,30,13,0],"1f1fa-1f1f8":[["🇺🇸"],"","󾓦",["flag-us","us"],38,31,15,0],"1f1fa-1f1fe":[["🇺🇾"],"","",["flag-uy"],38,32,15,0],"1f1fa-1f1ff":[["🇺🇿"],"","",["flag-uz"],38,33,15,0],"1f1fb-1f1e6":[["🇻🇦"],"","",["flag-va"],38,34,15,0],"1f1fb-1f1e8":[["🇻🇨"],"","",["flag-vc"],38,35,15,0],"1f1fb-1f1ea":[["🇻🇪"],"","",["flag-ve"],38,36,15,0],"1f1fb-1f1ec":[["🇻🇬"],"","",["flag-vg"],38,37,15,0],"1f1fb-1f1ee":[["🇻🇮"],"","",["flag-vi"],38,38,15,0],"1f1fb-1f1f3":[["🇻🇳"],"","",["flag-vn"],38,39,15,0],"1f1fb-1f1fa":[["🇻🇺"],"","",["flag-vu"],38,40,15,0],"1f1fc-1f1eb":[["🇼🇫"],"","",["flag-wf"],39,0,13,0],"1f1fc-1f1f8":[["🇼🇸"],"","",["flag-ws"],39,1,15,0],"1f1fd-1f1f0":[["🇽🇰"],"","",["flag-xk"],39,2,13,0],"1f1fe-1f1ea":[["🇾🇪"],"","",["flag-ye"],39,3,15,0],"1f1fe-1f1f9":[["🇾🇹"],"","",["flag-yt"],39,4,13,0],"1f1ff-1f1e6":[["🇿🇦"],"","",["flag-za"],39,5,15,0],"1f1ff-1f1f2":[["🇿🇲"],"","",["flag-zm"],39,6,15,0],"1f1ff-1f1fc":[["🇿🇼"],"","",["flag-zw"],39,7,15,0],"1f468-200d-1f468-200d-1f466":[["👨‍👨‍👦"],"","",["man-man-boy"],39,8,15,0],"1f468-200d-1f468-200d-1f466-200d-1f466":[["👨‍👨‍👦‍👦"],"","",["man-man-boy-boy"],39,9,15,0],"1f468-200d-1f468-200d-1f467":[["👨‍👨‍👧"],"","",["man-man-girl"],39,10,15,0],"1f468-200d-1f468-200d-1f467-200d-1f466":[["👨‍👨‍👧‍👦"],"","",["man-man-girl-boy"],39,11,15,0],"1f468-200d-1f468-200d-1f467-200d-1f467":[["👨‍👨‍👧‍👧"],"","",["man-man-girl-girl"],39,12,15,0],"1f468-200d-1f469-200d-1f466-200d-1f466":[["👨‍👩‍👦‍👦"],"","",["man-woman-boy-boy"],39,13,15,0],"1f468-200d-1f469-200d-1f467":[["👨‍👩‍👧"],"","",["man-woman-girl"],39,14,15,0],"1f468-200d-1f469-200d-1f467-200d-1f466":[["👨‍👩‍👧‍👦"],"","",["man-woman-girl-boy"],39,15,15,0],"1f468-200d-1f469-200d-1f467-200d-1f467":[["👨‍👩‍👧‍👧"],"","",["man-woman-girl-girl"],39,16,15,0],"1f468-200d-2764-fe0f-200d-1f468":[["👨‍❤️‍👨"],"","",["man-heart-man"],39,17,7,0],"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468":[["👨‍❤️‍💋‍👨"],"","",["man-kiss-man"],39,18,7,0],"1f469-200d-1f469-200d-1f466":[["👩‍👩‍👦"],"","",["woman-woman-boy"],39,19,15,0],"1f469-200d-1f469-200d-1f466-200d-1f466":[["👩‍👩‍👦‍👦"],"","",["woman-woman-boy-boy"],39,20,15,0],"1f469-200d-1f469-200d-1f467":[["👩‍👩‍👧"],"","",["woman-woman-girl"],39,21,15,0],"1f469-200d-1f469-200d-1f467-200d-1f466":[["👩‍👩‍👧‍👦"],"","",["woman-woman-girl-boy"],39,22,15,0],"1f469-200d-1f469-200d-1f467-200d-1f467":[["👩‍👩‍👧‍👧"],"","",["woman-woman-girl-girl"],39,23,15,0],"1f469-200d-2764-fe0f-200d-1f469":[["👩‍❤️‍👩"],"","",["woman-heart-woman"],39,24,7,0],"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469":[["👩‍❤️‍💋‍👩"],"","",["woman-kiss-woman"],39,25,7,0]};emoji.prototype.emoticons_data={"<3":"heart",":o)":"monkey_face",":*":"kiss",":-*":"kiss","</3":"broken_heart","=)":"smiley","=-)":"smiley","C:":"smile","c:":"smile",":D":"smile",":-D":"smile",":>":"laughing",":->":"laughing",";)":"wink",";-)":"wink","8)":"sunglasses",":|":"neutral_face",":-|":"neutral_face",":\\":"confused",":-\\":"confused",":/":"confused",":-/":"confused",":p":"stuck_out_tongue",":-p":"stuck_out_tongue",":P":"stuck_out_tongue",":-P":"stuck_out_tongue",":b":"stuck_out_tongue",":-b":"stuck_out_tongue",";p":"stuck_out_tongue_winking_eye",";-p":"stuck_out_tongue_winking_eye",";b":"stuck_out_tongue_winking_eye",";-b":"stuck_out_tongue_winking_eye",";P":"stuck_out_tongue_winking_eye",";-P":"stuck_out_tongue_winking_eye","):":"disappointed",":(":"disappointed",":-(":"disappointed",">:(":"angry",">:-(":"angry",":'(":"cry","D:":"anguished",":o":"open_mouth",":-o":"open_mouth",":O":"open_mouth",":-O":"open_mouth",":)":"slightly_smiling_face","(:":"slightly_smiling_face",":-)":"slightly_smiling_face"};emoji.prototype.variations_data={"261d-1f3fb":[1,11,13],"261d-1f3fc":[1,12,13],"261d-1f3fd":[1,13,13],"261d-1f3fe":[1,14,13],"261d-1f3ff":[1,15,13],"26f9-1f3fb":[2,39,13],"26f9-1f3fc":[2,40,13],"26f9-1f3fd":[3,0,13],"26f9-1f3fe":[3,1,13],"26f9-1f3ff":[3,2,13],"270a-1f3fb":[3,10,13],"270a-1f3fc":[3,11,13],"270a-1f3fd":[3,12,13],"270a-1f3fe":[3,13,13],"270a-1f3ff":[3,14,13],"270b-1f3fb":[3,16,13],"270b-1f3fc":[3,17,13],"270b-1f3fd":[3,18,13],
"270b-1f3fe":[3,19,13],"270b-1f3ff":[3,20,13],"270c-1f3fb":[3,22,13],"270c-1f3fc":[3,23,13],"270c-1f3fd":[3,24,13],"270c-1f3fe":[3,25,13],"270c-1f3ff":[3,26,13],"270d-1f3fb":[3,28,13],"270d-1f3fc":[3,29,13],"270d-1f3fd":[3,30,13],"270d-1f3fe":[3,31,13],"270d-1f3ff":[3,32,13],"1f385-1f3fb":[8,30,13],"1f385-1f3fc":[8,31,13],"1f385-1f3fd":[8,32,13],"1f385-1f3fe":[8,33,13],"1f385-1f3ff":[8,34,13],"1f3c3-1f3fb":[10,10,13],"1f3c3-1f3fc":[10,11,13],"1f3c3-1f3fd":[10,12,13],"1f3c3-1f3fe":[10,13,13],"1f3c3-1f3ff":[10,14,13],"1f3c4-1f3fb":[10,16,13],"1f3c4-1f3fc":[10,17,13],"1f3c4-1f3fd":[10,18,13],"1f3c4-1f3fe":[10,19,13],"1f3c4-1f3ff":[10,20,13],"1f3c7-1f3fb":[10,24,13],"1f3c7-1f3fc":[10,25,13],"1f3c7-1f3fd":[10,26,13],"1f3c7-1f3fe":[10,27,13],"1f3c7-1f3ff":[10,28,13],"1f3ca-1f3fb":[10,32,13],"1f3ca-1f3fc":[10,33,13],"1f3ca-1f3fd":[10,34,13],"1f3ca-1f3fe":[10,35,13],"1f3ca-1f3ff":[10,36,13],"1f3cb-1f3fb":[10,38,13],"1f3cb-1f3fc":[10,39,13],"1f3cb-1f3fd":[10,40,13],"1f3cb-1f3fe":[11,0,13],"1f3cb-1f3ff":[11,1,13],"1f442-1f3fb":[13,36,13],"1f442-1f3fc":[13,37,13],"1f442-1f3fd":[13,38,13],"1f442-1f3fe":[13,39,13],"1f442-1f3ff":[13,40,13],"1f443-1f3fb":[14,1,13],"1f443-1f3fc":[14,2,13],"1f443-1f3fd":[14,3,13],"1f443-1f3fe":[14,4,13],"1f443-1f3ff":[14,5,13],"1f446-1f3fb":[14,9,13],"1f446-1f3fc":[14,10,13],"1f446-1f3fd":[14,11,13],"1f446-1f3fe":[14,12,13],"1f446-1f3ff":[14,13,13],"1f447-1f3fb":[14,15,13],"1f447-1f3fc":[14,16,13],"1f447-1f3fd":[14,17,13],"1f447-1f3fe":[14,18,13],"1f447-1f3ff":[14,19,13],"1f448-1f3fb":[14,21,13],"1f448-1f3fc":[14,22,13],"1f448-1f3fd":[14,23,13],"1f448-1f3fe":[14,24,13],"1f448-1f3ff":[14,25,13],"1f449-1f3fb":[14,27,13],"1f449-1f3fc":[14,28,13],"1f449-1f3fd":[14,29,13],"1f449-1f3fe":[14,30,13],"1f449-1f3ff":[14,31,13],"1f44a-1f3fb":[14,33,13],"1f44a-1f3fc":[14,34,13],"1f44a-1f3fd":[14,35,13],"1f44a-1f3fe":[14,36,13],"1f44a-1f3ff":[14,37,13],"1f44b-1f3fb":[14,39,13],"1f44b-1f3fc":[14,40,13],"1f44b-1f3fd":[15,0,13],"1f44b-1f3fe":[15,1,13],"1f44b-1f3ff":[15,2,13],"1f44c-1f3fb":[15,4,13],"1f44c-1f3fc":[15,5,13],"1f44c-1f3fd":[15,6,13],"1f44c-1f3fe":[15,7,13],"1f44c-1f3ff":[15,8,13],"1f44d-1f3fb":[15,10,13],"1f44d-1f3fc":[15,11,13],"1f44d-1f3fd":[15,12,13],"1f44d-1f3fe":[15,13,13],"1f44d-1f3ff":[15,14,13],"1f44e-1f3fb":[15,16,13],"1f44e-1f3fc":[15,17,13],"1f44e-1f3fd":[15,18,13],"1f44e-1f3fe":[15,19,13],"1f44e-1f3ff":[15,20,13],"1f44f-1f3fb":[15,22,13],"1f44f-1f3fc":[15,23,13],"1f44f-1f3fd":[15,24,13],"1f44f-1f3fe":[15,25,13],"1f44f-1f3ff":[15,26,13],"1f450-1f3fb":[15,28,13],"1f450-1f3fc":[15,29,13],"1f450-1f3fd":[15,30,13],"1f450-1f3fe":[15,31,13],"1f450-1f3ff":[15,32,13],"1f466-1f3fb":[16,14,13],"1f466-1f3fc":[16,15,13],"1f466-1f3fd":[16,16,13],"1f466-1f3fe":[16,17,13],"1f466-1f3ff":[16,18,13],"1f467-1f3fb":[16,20,13],"1f467-1f3fc":[16,21,13],"1f467-1f3fd":[16,22,13],"1f467-1f3fe":[16,23,13],"1f467-1f3ff":[16,24,13],"1f468-1f3fb":[16,26,13],"1f468-1f3fc":[16,27,13],"1f468-1f3fd":[16,28,13],"1f468-1f3fe":[16,29,13],"1f468-1f3ff":[16,30,13],"1f469-1f3fb":[16,32,13],"1f469-1f3fc":[16,33,13],"1f469-1f3fd":[16,34,13],"1f469-1f3fe":[16,35,13],"1f469-1f3ff":[16,36,13],"1f46e-1f3fb":[17,1,13],"1f46e-1f3fc":[17,2,13],"1f46e-1f3fd":[17,3,13],"1f46e-1f3fe":[17,4,13],"1f46e-1f3ff":[17,5,13],"1f470-1f3fb":[17,8,13],"1f470-1f3fc":[17,9,13],"1f470-1f3fd":[17,10,13],"1f470-1f3fe":[17,11,13],"1f470-1f3ff":[17,12,13],"1f471-1f3fb":[17,14,13],"1f471-1f3fc":[17,15,13],"1f471-1f3fd":[17,16,13],"1f471-1f3fe":[17,17,13],"1f471-1f3ff":[17,18,13],"1f472-1f3fb":[17,20,13],"1f472-1f3fc":[17,21,13],"1f472-1f3fd":[17,22,13],"1f472-1f3fe":[17,23,13],"1f472-1f3ff":[17,24,13],"1f473-1f3fb":[17,26,13],"1f473-1f3fc":[17,27,13],"1f473-1f3fd":[17,28,13],"1f473-1f3fe":[17,29,13],"1f473-1f3ff":[17,30,13],"1f474-1f3fb":[17,32,13],"1f474-1f3fc":[17,33,13],"1f474-1f3fd":[17,34,13],"1f474-1f3fe":[17,35,13],"1f474-1f3ff":[17,36,13],"1f475-1f3fb":[17,38,13],"1f475-1f3fc":[17,39,13],"1f475-1f3fd":[17,40,13],"1f475-1f3fe":[18,0,13],"1f475-1f3ff":[18,1,13],"1f476-1f3fb":[18,3,13],"1f476-1f3fc":[18,4,13],"1f476-1f3fd":[18,5,13],"1f476-1f3fe":[18,6,13],"1f476-1f3ff":[18,7,13],"1f477-1f3fb":[18,9,13],"1f477-1f3fc":[18,10,13],"1f477-1f3fd":[18,11,13],"1f477-1f3fe":[18,12,13],"1f477-1f3ff":[18,13,13],"1f478-1f3fb":[18,15,13],"1f478-1f3fc":[18,16,13],"1f478-1f3fd":[18,17,13],"1f478-1f3fe":[18,18,13],"1f478-1f3ff":[18,19,13],"1f47c-1f3fb":[18,24,13],"1f47c-1f3fc":[18,25,13],"1f47c-1f3fd":[18,26,13],"1f47c-1f3fe":[18,27,13],"1f47c-1f3ff":[18,28,13],"1f481-1f3fb":[18,34,13],"1f481-1f3fc":[18,35,13],"1f481-1f3fd":[18,36,13],"1f481-1f3fe":[18,37,13],"1f481-1f3ff":[18,38,13],"1f482-1f3fb":[18,40,13],"1f482-1f3fc":[19,0,13],"1f482-1f3fd":[19,1,13],"1f482-1f3fe":[19,2,13],"1f482-1f3ff":[19,3,13],"1f483-1f3fb":[19,5,13],"1f483-1f3fc":[19,6,13],"1f483-1f3fd":[19,7,13],"1f483-1f3fe":[19,8,13],"1f483-1f3ff":[19,9,13],"1f485-1f3fb":[19,12,13],"1f485-1f3fc":[19,13,13],"1f485-1f3fd":[19,14,13],"1f485-1f3fe":[19,15,13],"1f485-1f3ff":[19,16,13],"1f486-1f3fb":[19,18,13],"1f486-1f3fc":[19,19,13],"1f486-1f3fd":[19,20,13],"1f486-1f3fe":[19,21,13],"1f486-1f3ff":[19,22,13],"1f487-1f3fb":[19,24,13],"1f487-1f3fc":[19,25,13],"1f487-1f3fd":[19,26,13],"1f487-1f3fe":[19,27,13],"1f487-1f3ff":[19,28,13],"1f4aa-1f3fb":[20,23,13],"1f4aa-1f3fc":[20,24,13],"1f4aa-1f3fd":[20,25,13],"1f4aa-1f3fe":[20,26,13],"1f4aa-1f3ff":[20,27,13],"1f575-1f3fb":[25,4,8],"1f575-1f3fc":[25,5,8],"1f575-1f3fd":[25,6,8],"1f575-1f3fe":[25,7,8],"1f575-1f3ff":[25,8,8],"1f590-1f3fb":[25,19,13],"1f590-1f3fc":[25,20,13],"1f590-1f3fd":[25,21,13],"1f590-1f3fe":[25,22,13],"1f590-1f3ff":[25,23,13],"1f595-1f3fb":[25,25,13],"1f595-1f3fc":[25,26,13],"1f595-1f3fd":[25,27,13],"1f595-1f3fe":[25,28,13],"1f595-1f3ff":[25,29,13],"1f596-1f3fb":[25,31,13],"1f596-1f3fc":[25,32,13],"1f596-1f3fd":[25,33,13],"1f596-1f3fe":[25,34,13],"1f596-1f3ff":[25,35,13],"1f645-1f3fb":[28,8,13],"1f645-1f3fc":[28,9,13],"1f645-1f3fd":[28,10,13],"1f645-1f3fe":[28,11,13],"1f645-1f3ff":[28,12,13],"1f646-1f3fb":[28,14,13],"1f646-1f3fc":[28,15,13],"1f646-1f3fd":[28,16,13],"1f646-1f3fe":[28,17,13],"1f646-1f3ff":[28,18,13],"1f647-1f3fb":[28,20,13],"1f647-1f3fc":[28,21,13],"1f647-1f3fd":[28,22,13],"1f647-1f3fe":[28,23,13],"1f647-1f3ff":[28,24,13],"1f64b-1f3fb":[28,29,13],"1f64b-1f3fc":[28,30,13],"1f64b-1f3fd":[28,31,13],"1f64b-1f3fe":[28,32,13],"1f64b-1f3ff":[28,33,13],"1f64c-1f3fb":[28,35,13],"1f64c-1f3fc":[28,36,13],"1f64c-1f3fd":[28,37,13],"1f64c-1f3fe":[28,38,13],"1f64c-1f3ff":[28,39,13],"1f64d-1f3fb":[29,0,13],"1f64d-1f3fc":[29,1,13],"1f64d-1f3fd":[29,2,13],"1f64d-1f3fe":[29,3,13],"1f64d-1f3ff":[29,4,13],"1f64e-1f3fb":[29,6,13],"1f64e-1f3fc":[29,7,13],"1f64e-1f3fd":[29,8,13],"1f64e-1f3fe":[29,9,13],"1f64e-1f3ff":[29,10,13],"1f64f-1f3fb":[29,12,13],"1f64f-1f3fc":[29,13,13],"1f64f-1f3fd":[29,14,13],"1f64f-1f3fe":[29,15,13],"1f64f-1f3ff":[29,16,13],"1f6a3-1f3fb":[30,12,13],"1f6a3-1f3fc":[30,13,13],"1f6a3-1f3fd":[30,14,13],"1f6a3-1f3fe":[30,15,13],"1f6a3-1f3ff":[30,16,13],"1f6b4-1f3fb":[30,34,13],"1f6b4-1f3fc":[30,35,13],"1f6b4-1f3fd":[30,36,13],"1f6b4-1f3fe":[30,37,13],"1f6b4-1f3ff":[30,38,13],"1f6b5-1f3fb":[30,40,13],"1f6b5-1f3fc":[31,0,13],"1f6b5-1f3fd":[31,1,13],"1f6b5-1f3fe":[31,2,13],"1f6b5-1f3ff":[31,3,13],"1f6b6-1f3fb":[31,5,13],"1f6b6-1f3fc":[31,6,13],"1f6b6-1f3fd":[31,7,13],"1f6b6-1f3fe":[31,8,13],"1f6b6-1f3ff":[31,9,13],"1f6c0-1f3fb":[31,20,13],"1f6c0-1f3fc":[31,21,13],"1f6c0-1f3fd":[31,22,13],"1f6c0-1f3fe":[31,23,13],"1f6c0-1f3ff":[31,24,13],"1f918-1f3fb":[32,15,13],"1f918-1f3fc":[32,16,13],"1f918-1f3fd":[32,17,13],"1f918-1f3fe":[32,18,13],"1f918-1f3ff":[32,19,13]};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=emoji}exports.EmojiConvertor=emoji}else if(typeof define==="function"&&define.amd){define(function(){return emoji})}else{root.EmojiConvertor=emoji}}).call(function(){return this||(typeof window!=="undefined"?window:global)}());var emoji=new EmojiConvertor;(function(){emoji.allow_caps=true;emoji.allow_native=false;var ssbHasLocalSheet=function(emoji_set){if(!window.TSSSB)return false;if(!TSSSB.env)return false;return false};if(window.inc_js_setup_data===undefined){window.inc_js_setup_data={}}if(window.inc_js_setup_data.emoji_sheets===undefined){window.inc_js_setup_data.emoji_sheets={apple:"/img/emoji_2016_06_08/sheet_apple_64_indexed_256colors.png",google:"/img/emoji_2016_06_08/sheet_google_64_indexed_128colors.png",twitter:"/img/emoji_2016_06_08/sheet_twitter_64_indexed_128colors.png",emojione:"/img/emoji_2016_06_08/sheet_emojione_64_indexed_128colors.png"}}emoji.img_sets={apple:{path:"https://slack-assets2.s3-us-west-2.amazonaws.com/f5d6f/img/emoji_2016_06_08/apple/",sheet:ssbHasLocalSheet("apple")?"slack-resources:emoji_2016_06_08_apple_64_indexed_256colors.png":window.inc_js_setup_data.emoji_sheets.apple,mask:1},google:{path:"https://slack-assets2.s3-us-west-2.amazonaws.com/b7f24/img/emoji_2016_06_08/google/",sheet:ssbHasLocalSheet("google")?"slack-resources:emoji_2016_06_08_google_64_indexed_128colors.png":window.inc_js_setup_data.emoji_sheets.google,mask:2},twitter:{path:"https://slack-assets2.s3-us-west-2.amazonaws.com/6c9e5/img/emoji_2016_06_08/twitter/",sheet:ssbHasLocalSheet("twitter")?"slack-resources:emoji_2016_06_08_twitter_64_indexed_128colors.png":window.inc_js_setup_data.emoji_sheets.twitter,mask:4},emojione:{path:"https://slack-assets2.s3-us-west-2.amazonaws.com/5499/img/emoji_2016_06_08/emojione/",sheet:ssbHasLocalSheet("emojione")?"slack-resources:emoji_2016_06_08_emojione_64_indexed_128colors.png":window.inc_js_setup_data.emoji_sheets.emojione,mask:8}};delete emoji.emoticons_data["C:"];delete emoji.emoticons_data["c:"];emoji.replace_colons=function(str,tokenizerFunc){var returner=function(val){return tokenizerFunc?tokenizerFunc(val):val};emoji.init_colons();return str.replace(emoji.rx_colons,function(m){var idx=m.substr(1,m.length-2);if(emoji.allow_caps)idx=idx.toLowerCase();if(idx.indexOf("::skin-tone-")>-1){var skin_tone=idx.substr(-1,1);var skin_idx="skin-tone-"+skin_tone;var skin_val=emoji.map.colons[skin_idx];idx=idx.substr(0,idx.length-13);var val=emoji.map.colons[idx];if(val){return returner(emoji.replacement(val,idx,":",{idx:skin_val,actual:skin_idx,wrapper:":"}))}else{return returner(":"+idx+":"+emoji.replacement(skin_val,skin_idx,":"))}}else{var val=emoji.map.colons.hasOwnProperty(idx)&&emoji.map.colons[idx];return val?returner(emoji.replacement(val,idx,":")):m}})};emoji.replace_colons_with_unified=function(str){emoji.init_colons();return str.replace(emoji.rx_colons,function(m){var idx=m.substr(1,m.length-2);if(emoji.allow_caps)idx=idx.toLowerCase();if(idx.indexOf("::skin-tone-")>-1){var skin_tone=idx.substr(-1,1);var skin_idx="skin-tone-"+skin_tone;var skin_val=emoji.map.colons[skin_idx];idx=idx.substr(0,idx.length-13);var val=emoji.map.colons[idx];var ret=val&&emoji.data[val][0][0]?emoji.data[val][0][0]:":"+idx+":";ret+=skin_val&&emoji.data[skin_val][0][0]?emoji.data[skin_val][0][0]:":"+skin_idx+":";return ret}else{var val=emoji.map.colons.hasOwnProperty(idx)&&emoji.map.colons[idx];return val&&emoji.data[val][0][0]?emoji.data[val][0][0]:m}})};emoji.skin_tones=["1f3fb","1f3fc","1f3fd","1f3fe","1f3ff"];var keywords={2049:["symbol"],2122:["symbol"],2139:["symbol"],2194:["symbol"],2195:["symbol","arrow"],2196:["symbol","arrow"],2197:["symbol","arrow"],2198:["symbol","arrow"],2199:["symbol","arrow"],2600:["sun","weather"],2601:["weather","sky"],2611:["check","box","black","check"],2614:[],2615:["drink","food"],2648:["horoscope","astrology"],2649:["horoscope","astrology"],2650:["horoscope","astrology"],2651:["horoscope","astrology"],2652:["horoscope","astrology"],2653:["horoscope","astrology"],2660:["symbol"],2663:["symbol"],2665:["heart"],2666:["symbol"],2668:["symbol"],2693:[],2702:[],2705:["check","green","check"],2708:["plane","travel","fly","transport"],2709:["mail","envelope"],2712:["symbol"],2714:["check","symbol"],2716:["symbol"],2728:["glitter","shine","star"],2733:["symbol"],2734:["symbol"],2744:["snow","weather"],2747:["symbol"],2753:["symbol"],2754:["symbol"],2755:["symbol"],2757:["symbol"],2764:[],2795:["symbol"],2796:["symbol"],2797:["symbol"],2934:["symbol","arrow"],2935:["symbol","arrow"],3030:["symbol"],3297:["symbol"],3299:["symbol"],"00a9":["symbol"],"00ae":["symbol"],"203c":["symbols"],"21a9":["symbol"],"21aa":["symbol","arrow"],"231a":["clock","time"],"231b":[],"23e9":["symbol"],"23ea":["symbol"],"23eb":["symbol","arrow"],"23ec":["symbol","arrow"],"23f0":["alarm","clock"],"23f3":[],"24c2":[],"25aa":["symbol"],"25ab":["symbol"],"25b6":["symbol","arrow"],"25c0":["symbol","arrow"],"25fb":["symbol"],"25fc":["symbol"],"25fd":["symbol"],"25fe":["symbol"],"260e":["telephone"],"261d":["hand","finger","person","people"],"263a":["people","person","face"],"264a":["horoscope","astrology"],"264b":["horoscope","astrology"],"264c":["horoscope","astrology"],"264d":["horoscope","astrology"],"264e":["horoscope","astrology"],"264f":["horoscope","astrology"],"267b":["symbol"],"267f":["symbol"],"26a0":["symbol"],"26a1":["lightning","bolt","shock","weather"],"26aa":["symbol"],"26ab":["symbol"],"26bd":["sport"],"26be":["sports"],"26c4":["snow"],"26c5":["sun","clouds"],"26ce":["symbol"],"26d4":["symbol"],"26ea":["building"],"26f2":[],"26f3":["sport"],"26f5":[],"26fa":["camping"],"26fd":["gas"],"270a":["facepunch","fistbump","punch","hand","person","people"],"270b":["people","person"],"270c":["peace","hand","people","person"],"270f":[],"274c":["letter","cross","symbol"],"274e":["cross","green","x"],"27a1":["symbol","arrow"],"27b0":["symbol"],"27bf":["symbol"],"2b05":["symbol","arrow"],"2b06":["symbol","arrow"],"2b07":["symbol","arrow"],"2b1b":["symbol"],"2b1c":["symbol"],"2b50":[],"2b55":["symbol","letter","circle"],"303d":["symbol"],"1f004":["game"],"1f0cf":["card","symbol"],"1f170":["letters"],"1f171":["symbols"],"1f17e":["symbol"],"1f17f":["symbol"],"1f18e":["letters"],"1f191":[],"1f192":["symbol"],"1f193":["symbol"],"1f194":[],"1f195":[],"1f196":[],"1f197":["letters","symbol"],"1f198":["symbol"],"1f199":["symbol"],"1f19a":[],"1f201":["symbol"],"1f202":[],"1f21a":[],"1f22f":[],"1f232":[],"1f233":[],"1f234":[],"1f235":[],"1f236":[],"1f237":[],"1f238":[],"1f239":[],"1f23a":[],"1f250":["symbol"],"1f251":[],"1f300":["symbol"],"1f301":[],"1f302":["umbrella"],"1f303":["sky","night"],"1f304":[],"1f305":[],"1f306":[],"1f307":[],"1f308":[],"1f309":["bridge"],"1f30a":["tidal","wave","water"],"1f30b":["eruption"],"1f30c":["galaxy","space"],"1f30d":["world","globe"],"1f30e":["world","globe"],"1f30f":["world","globe"],"1f310":["globe","world"],"1f311":["moon","new"],"1f312":["moon","waxing","crescent"],"1f313":["moon","first","quarter"],"1f314":[],"1f315":["moon","full"],"1f316":["moon","waning","gibbous"],"1f317":["moon","last","quarter"],"1f318":["moon","waning","crescent"],"1f319":["moon","crescent"],"1f31a":["moon","new","with","face"],"1f31b":["moon_first","quarter","with","face"],"1f31c":["moon","last","quarter","with","face"],"1f31d":["moon","full","with","face"],"1f31e":["sun","weather","face"],"1f31f":[],"1f320":[],"1f330":["food"],"1f331":["plant"],"1f332":["tree","evergreen","plant"],"1f333":["tree","deciduous","plant"],"1f334":["tree","plant"],"1f335":["plant"],"1f337":["flower","plant"],"1f338":["sakura","flower"],"1f339":["flower","plant"],"1f33a":["plant"],"1f33b":["flower","plant"],"1f33c":["flower","plant"],"1f33d":["vegetable","food"],"1f33e":["food"],"1f33f":["plant"],"1f340":["clover","plant"],"1f341":["leaf","plant"],"1f342":["leaves","brown","plant","leaf"],"1f343":["leaf","plant"],"1f344":["food"],"1f345":["vegetable","food"],"1f346":["vegetable","food"],"1f347":["fruit","food"],"1f348":["fruit","food"],"1f349":["fruit","food"],"1f34a":["orange","fruit","food"],"1f34b":["fruit","food"],"1f34c":["fruit","food"],"1f34d":["fruit","food"],"1f34e":["fruit","food"],"1f34f":["apple","green","fruit","food"],"1f350":["fruit","food"],"1f351":["fruit","food"],"1f352":["fruit","food"],"1f353":["fruit","food"],"1f354":["cheeseburger","burger","food"],"1f355":["food"],"1f356":["food"],"1f357":["drumstick","meat","food"],"1f358":["food"],"1f359":["food"],"1f35a":["food"],"1f35b":["food"],"1f35c":["noodles","food"],"1f35d":["pasta","food"],"1f35e":[],"1f35f":["french","fries","food"],"1f360":["yam","vegetable","food"],"1f361":["food"],"1f362":["food"],"1f363":["food"],"1f364":["shrimp","tempura","food"],"1f365":["food"],"1f366":["ice","cream","food"],"1f367":["snow","cone","food"],"1f368":["icecream","food"],"1f369":["donut","food"],"1f36a":["food"],"1f36b":["candy","candybar","food"],"1f36c":["food"],"1f36d":["food","candy"],"1f36e":["food"],"1f36f":["food"],"1f370":["birthday","food"],"1f371":["food"],"1f372":["food"],"1f373":["food"],"1f374":["cutlery","silverware","food"],"1f375":["drink","food"],"1f376":["drink","food"],"1f377":["drink","food"],"1f378":["drink","martini","food"],"1f379":["drink","food"],"1f37a":["ale","drink","food"],"1f37b":["beer","ale","drink","food"],"1f37c":["infant"],"1f380":["bow","present","gift"],"1f381":["present"],"1f382":["cake","food"],"1f383":["pumpkin","scary"],"1f384":["plant","tree"],"1f385":["christmas","holidays"],"1f386":["explosions","celebrate","celebration"],"1f387":["celebration"],"1f388":[],"1f389":["celebrate","fan","fare","celebration","confetti"],"1f38a":["party","ball","celebrate","celebration"],"1f38b":["tree","plant"],"1f38c":["flag"],"1f38d":["plants"],"1f38e":[],"1f38f":["flag"],"1f390":[],"1f391":[],"1f392":["bag"],"1f393":["hat","graduation","cap"],"1f3a0":["carnival"],"1f3a1":["carnival"],"1f3a2":["ride","carnival"],"1f3a3":["fishing","rod","fish"],"1f3a4":["music","instrument"],"1f3a5":["film"],"1f3a6":["symbol"],"1f3a7":["music"],"1f3a8":["palette","paint"],"1f3a9":["hat","clothing"],"1f3aa":["big","top"],"1f3ab":[],"1f3ac":["movie","cinema"],"1f3ad":["comedy","tragedy","tragicomedy","mask"],"1f3ae":["controller","game"],"1f3af":["target","bullseye"],"1f3b0":["gambling","casino"],"1f3b1":["eightball"],"1f3b2":["die","dice","game"],"1f3b3":["sport"],"1f3b4":["card"],"1f3b5":["music"],"1f3b6":["music"],"1f3b7":["music","instrument"],"1f3b8":["music","instrument"],"1f3b9":["music","instrument"],"1f3ba":["horn","instrument","music"],"1f3bb":["instrument","music"],"1f3bc":["music"],"1f3bd":["clothing"],"1f3be":["sport"],"1f3bf":["sport"],"1f3c0":["sports"],"1f3c1":["finish","line","race"],"1f3c2":["sport"],"1f3c3":["run","sport"],"1f3c4":["sport"],"1f3c6":[],"1f3c7":["animal"],"1f3c8":["sport"],"1f3c9":["sport"],"1f3ca":["sport"],"1f3e0":["building"],"1f3e1":["building"],"1f3e2":["building"],"1f3e3":["building"],"1f3e4":["building"],"1f3e5":["building"],"1f3e6":["building"],"1f3e7":["symbols"],"1f3e8":["building"],"1f3e9":["building"],"1f3ea":["building"],"1f3eb":["building"],"1f3ec":["building"],"1f3ed":["building"],"1f3ee":["lantern"],"1f3ef":["castle","building"],"1f3f0":["castle"],"1f3fb":[],"1f3fc":[],"1f3fd":[],"1f3fe":[],"1f3ff":[],"1f400":["animal"],"1f401":["animal"],"1f402":["animal"],"1f403":["buffalo","animal"],"1f404":["animal"],"1f405":["animal","cat"],"1f406":["cat","animal"],"1f407":["animal"],"1f408":["animal"],"1f409":["animal"],"1f40a":["alligator","animal"],"1f40b":["animal","fish"],"1f40c":["bug","insect"],"1f40d":["animal"],"1f40e":["animal"],"1f40f":["animal"],"1f410":["animal"],"1f411":["animal"],"1f412":["animal"],"1f413":["animal"],"1f414":["animal","bird"],"1f415":["animal"],"1f416":["animal"],"1f417":["animal"],"1f418":["animal"],"1f419":["animal","fish"],"1f41a":["beach"],"1f41b":["caterpiller","insect"],"1f41c":["bug","insect"],"1f41d":["honeybee","bug","insect"],"1f41e":["ladybug","bug","insect"],"1f41f":["animal"],"1f420":["fish","animal"],"1f421":["fish","animal"],"1f422":["tortoise","animal"],"1f423":["animal","bird"],"1f424":["animal"],"1f425":["animal","bird"],"1f426":["animal"],"1f427":["bird","animal"],"1f428":["bear","animal"],"1f429":["dog","animal"],"1f42a":["animal","camel"],"1f42b":["animal"],"1f42c":["animal","fish"],"1f42d":["animal"],"1f42e":["animal"],"1f42f":["animal","cat"],"1f430":["animal"],"1f431":["animal"],"1f432":["animal"],"1f433":["animal","fish"],"1f434":["animal"],"1f435":["animal","face"],"1f436":["animal"],"1f437":["animal"],"1f438":["toad","animal"],"1f439":["animal"],"1f43a":["animal"],"1f43b":["animal"],"1f43c":["bear","panda","face"],"1f43d":["animal","face"],"1f43e":["paw","prints","paws"],"1f440":["face","person","people"],"1f442":["person","people","head"],"1f443":["face","people","person"],"1f444":["mouth","face","person","people"],"1f445":["face","person","people"],"1f446":["hand","finger","person","people"],"1f447":["hand","finger","person","people"],"1f448":["hand","finger","person","people"],"1f449":["hand","finger","person","people"],"1f44a":["fistbump","punch","hand","person","people"],"1f44b":["hand","people","person"],"1f44c":["hand","people","person"],"1f44d":["thumbsup","y","yes","hand","people","person"],"1f44e":["thumbsdown","n","no","hand","people","person"],"1f44f":["hands","people","person"],"1f450":["hands","people","person"],"1f451":["hat"],"1f452":["hat","woman"],"1f453":["glasses","spectacles"],"1f454":["clothing"],"1f455":["clothing"],"1f456":["pants","trousers","clothing"],"1f457":["clothing"],"1f458":["clothing"],"1f459":["swimsuit","clothes"],"1f45a":["clothes","woman"],"1f45b":["handbag","bag"],"1f45c":["purse"],"1f45d":["clutch","bag"],"1f45e":["shoe","clothing"],"1f45f":["sneaker","runner","shoe","clothing"],"1f460":["stiletto","shoe","clothing"],"1f461":["clothing","shoe"],"1f462":["shoe","clothes"],"1f463":["feet","foot"],"1f464":["person","people"],"1f465":["person","people"],"1f466":["person","people","face"],"1f467":["person","people","face"],"1f468":["person","people","face"],"1f469":["lady","face","person","people"],"1f46a":["man","woman","boy","people","person"],"1f46b":["man","woman","people"],"1f46c":["man","couple","person","people"],"1f46d":["woman","couple","person","people"],"1f46e":["police","officer","people","person","face"],"1f46f":["people","person"],"1f470":["bride","person","people","face","woman","wedding","marriage"],"1f471":["face","person","people"],"1f472":["person","people","face"],"1f473":["person","people","face"],"1f474":["senior","man","elder","person","people","face"],"1f475":["senior","woman","elder","people","person","face"],"1f476":["infant","face","people","person"],"1f477":["person","people","face"],"1f478":["face","crown","people","person","woman"],"1f479":["ogre","face"],"1f47a":["goblin","face"],"1f47b":["ghoul","scary"],"1f47c":["heaven","saint","people","person"],"1f47d":["martian","space"],"1f47e":["video","game","game"],"1f47f":["devil","evil","face","person","people"],"1f480":["dead","skeleton","scary"],"1f481":["helpdesk","desk","person","people","becky"],"1f482":["face","people","person"],"1f483":["person","people"],"1f484":["makeup"],"1f485":["manicure","hand","people","person"],"1f486":["relax","becky"],"1f487":["face","people","person","barber","salon"],"1f488":[],"1f489":["needle","medicine"],"1f48a":["medicine","drugs"],"1f48b":["love","lips","mouth","face"],"1f48c":["letter","mail"],"1f48d":["jewellery"],"1f48e":["jewel","diamond"],"1f48f":["man","woman","kiss","people"],"1f490":["flower","plant"],"1f491":["man","heart","woman","heart","people"],"1f492":["marriage"],"1f493":["heart"],"1f494":["heartbreak","heart"],"1f495":["heart"],"1f496":["heart","sparkling","glitter","shine"],"1f497":["pulse"],"1f498":["heart","arrow","heart"],"1f499":["heart","blue","heart"],"1f49a":["heart","green","heart"],"1f49b":["heart"],"1f49c":["heart","purple","heart"],"1f49d":["present","heart"],"1f49e":["heart"],"1f49f":["heart"],"1f4a0":["diamond","gem","jewel"],"1f4a1":["light","bulb"],"1f4a2":["mad","angry","face","people","person"],"1f4a3":[],"1f4a4":["snore","sleep","snooze"],"1f4a5":["bang","explosion","collision","bomb"],"1f4a6":["water","spray"],"1f4a7":["water","sweat","tear","cry"],"1f4a8":["gust","whoosh","wind","fart"],"1f4a9":["poo","poop","shit"],"1f4aa":["bicep","arm","person","people"],"1f4ab":["shooting","star","star"],"1f4ac":["talk","bubble"],"1f4ad":["bubble"],"1f4ae":["flower","plant"],"1f4af":["hundred"],"1f4b0":["money","cash","dollar"],"1f4b1":["symbol"],"1f4b2":["symbol"],"1f4b3":[],"1f4b4":["money","cash"],"1f4b5":["money","cash"],"1f4b6":["money","cash"],"1f4b7":["money","cash"],"1f4b8":["money","cash","dollar"],"1f4b9":["graph"],"1f4ba":["airplane","seat","chair"],"1f4bb":["desktop","pc","work"],"1f4bc":["work"],"1f4bd":[],"1f4be":["computer"],"1f4bf":[],"1f4c0":["cd","disk","disc"],"1f4c1":["folder","work"],"1f4c2":["folder","open","folder","work"],"1f4c3":["paper","document"],"1f4c4":["paper","document"],"1f4c5":["calendar"],"1f4c6":["work","date"],"1f4c7":[],"1f4c8":["graph","with","upwards","trend"],"1f4c9":["graph","with","downwards","trend"],"1f4ca":["graph","chart"],"1f4cb":["work"],"1f4cc":["thumbtack"],"1f4cd":["map","pin"],"1f4ce":["work"],"1f4cf":["ruler"],"1f4d0":[],"1f4d1":[],"1f4d2":["book"],"1f4d3":["book"],"1f4d4":["book"],"1f4d5":["book"],"1f4d6":[],"1f4d7":["book"],"1f4d8":["book"],"1f4d9":["book"],"1f4da":[],"1f4db":[],"1f4dc":["paper"],"1f4dd":["note","pencil","work"],"1f4de":["phone"],"1f4df":[],"1f4e0":["work"],"1f4e1":["dish","tv"],"1f4e2":["speaker"],"1f4e3":["sound","speaker"],"1f4e4":["mail","letter"],"1f4e5":["mail","email","work"],"1f4e6":["box","shipping"],"1f4e7":["envelope","mail"],"1f4e8":["mail","email","work"],"1f4e9":[],"1f4ea":["mail","post"],"1f4eb":["mail","post"],"1f4ec":["mail","post"],"1f4ed":["mail","post"],"1f4ee":["mail","post"],"1f4ef":["horn"],"1f4f0":["paper","news"],"1f4f1":["phone","ios"],"1f4f2":["phone"],"1f4f3":["symbol"],"1f4f4":["phone"],"1f4f5":["phone","symbol"],"1f4f6":["symbol"],"1f4f7":[],"1f4f9":["camera"],"1f4fa":["television"],"1f4fb":["stereo"],"1f4fc":["tape"],"1f500":["symbol"],"1f501":["symbol"],"1f502":["symbol"],"1f503":["symbol","arrow"],"1f504":["symbol","arrow"],"1f505":["symbol"],"1f506":["symbol"],"1f507":["sound","speaker","volume"],"1f508":["volume","sound"],"1f509":["speaker"],"1f50a":["sound","speaker"],"1f50b":[],"1f50c":["plug","cord"],"1f50d":["zoom","search"],"1f50e":["zoom","search"],"1f50f":["security"],"1f510":[],"1f511":["lock"],"1f512":[],"1f513":["lock","security"],"1f514":[],"1f515":["bell"],"1f516":[],"1f517":["symbol"],"1f518":[],"1f519":["symbol"],"1f51a":["symbol"],"1f51b":["symbol"],"1f51c":["symbol"],"1f51d":["symbol"],"1f51e":["symbol"],"1f51f":["number"],"1f520":["letters"],"1f521":["letters"],"1f522":[],"1f523":[],"1f524":["letters"],"1f525":["flames","burn"],"1f526":["torch"],"1f527":["tool"],"1f528":["tool"],"1f529":[],"1f52a":["knife"],"1f52b":["bullet","shoot"],"1f52c":["science"],"1f52d":[],"1f52e":["future","fortune"],"1f52f":["symbol"],"1f530":["symbol"],"1f531":[],"1f532":["symbol"],"1f533":["symbol"],"1f534":["symbol"],"1f535":["symbol"],"1f536":["symbol"],"1f537":["symbol"],"1f538":["symbol"],"1f539":["symbol"],"1f53a":["symbol"],"1f53b":["symbol"],"1f53c":["symbol","arrow"],"1f53d":["symbol","arrow"],"1f550":["time"],"1f551":["time"],"1f552":["time"],"1f553":["time"],"1f554":["time"],"1f555":["time"],"1f556":["time"],"1f557":["time"],"1f558":["time"],"1f559":["time"],"1f55a":["time"],"1f55b":["time"],"1f55c":["time"],"1f55d":["time"],"1f55e":["time"],"1f55f":["time"],"1f560":["time"],"1f561":["time"],"1f562":["time"],"1f563":["time"],"1f564":["time"],"1f565":["time"],"1f566":["time"],"1f567":["time"],"1f5fb":[],"1f5fc":["building"],"1f5fd":["statue"],"1f5fe":[],"1f5ff":["easter","island","head","statue"],"1f600":["face","people","person"],"1f601":["face","people","person"],"1f602":["happy","face","person","people"],"1f603":["face","person","people"],"1f604":["face","person","people"],"1f605":["face","person","people"],"1f606":["face","person","people","funny","lol"],"1f607":["saint","angel","face","person","people"],"1f608":["face","person","people","devil","evil"],"1f609":["face","person","people"],"1f60a":["smile","face","person","people"],"1f60b":["delicious","face","person","people"],"1f60c":["people","person","face"],"1f60d":["heart","face","person","people"],"1f60e":["shades","face","person","people"],"1f60f":["face","person","people"],"1f610":["nonplussed","face","people","person"],"1f611":["deadpan","face","people","person"],"1f612":["unimpressed","face","person","people"],"1f613":["face","person","people"],"1f614":["face","person","people"],"1f615":["face","person","people"],"1f616":["dumbfounded","face","person","people"],"1f617":["face","person","people"],"1f618":["face","person","people","heart"],"1f619":["face","person","people"],"1f61a":["face","person","people"],"1f61b":["tongue","face","person","people"],"1f61c":["tongue","face","person","people"],"1f61d":["tongue","face","person","people"],"1f61e":["face","person","people"],"1f61f":["face","person","people"],"1f620":["mad","anger","face","people","person"],"1f621":["anger","mad","angry","face","person","people"],"1f622":["tears","face","people","person"],"1f623":["face","person","people"],"1f624":["hmph","person","people","face"],"1f625":["phew","face","person","people"],"1f626":["face","people","person"],"1f627":["upset","shocked","face","people","person"],"1f628":["scared","face","people","person"],"1f629":["face","person","people"],"1f62a":["face","person","people"],"1f62b":["tantrum","face","person","people"],"1f62c":["face","people","person"],"1f62d":["face","person","people"],"1f62e":["surprised","face","people","person"],"1f62f":["face","person","people"],"1f630":["nervous","face","person","people"],"1f631":["face","person","people"],"1f632":["shocked","face","people","person"],"1f633":["embarrassed","face","people","person"],"1f634":["face","person","people"],"1f635":["face","person","people"],"1f636":["face","person","people"],"1f637":[],"1f638":["face","animal","cat"],"1f639":["happy","face","cat","animal"],"1f63a":["face","animal","cat"],"1f63b":["heart","animal","face","cat"],"1f63c":["face","animal","cat"],"1f63d":["face","cat","animal"],"1f63e":["face","animal","cat","sad"],"1f63f":["face","animal","cat"],"1f640":["face","animal","cat"],"1f645":["person","peopl","becky"],"1f646":["woman","people","person","becky"],"1f647":["person","people"],"1f648":["face","animal","monkey"],"1f649":["face","animal","monkey"],"1f64a":["face","monkey","animal"],"1f64b":["hand","people","person","becky"],"1f64c":["hand","people","person"],"1f64d":["face","person","people","sad"],"1f64e":["face","person","people"],"1f64f":["bless","hand","people","person"],"1f680":["spaceship","space"],"1f681":["chopper","fly"],"1f682":["train","transport"],"1f683":["train","transport"],"1f684":["train","transport"],"1f685":["transport"],"1f686":["vehicle","transport"],"1f687":["symbol"],"1f688":["transport","train"],"1f689":["building"],"1f68a":["vehicle","transport","train"],"1f68b":["transport"],"1f68c":["automobile","transport","vehicle"],"1f68d":["bus","front","bus","vehicle","automobile","transport"],"1f68e":["bus","vehicle","automobile"],"1f68f":["bus"],"1f690":["bus","vehicle","transport","automobile"],"1f691":["paramedic"],"1f692":["fire","truck","vehicle","automobile"],"1f693":["cop","car","automobile","vehicle","transport"],"1f694":["police","car","front","cop","vehicle","automobile","transport"],"1f695":["cab","car","automobile","vehicle","transport"],"1f696":["taxi","fron","cab","car","vehicle","automobile","transport"],"1f697":["vehicle","automobile","transport"],"1f698":["car","front","vehicle","automobile","transport"],"1f699":["car","automobile","transport"],"1f69a":["vehicle","automobile","transport"],"1f69b":["truck","automobile","vehicle","transport"],"1f69c":["vehicle","farm"],"1f69d":["train","transport"],"1f69e":["train"],"1f69f":["train","transport"],"1f6a0":["gondola","transport"],"1f6a1":["gondola","transport"],"1f6a2":["boat"],"1f6a3":["boat"],"1f6a4":["boat"],"1f6a5":[],"1f6a6":[],"1f6a7":[],"1f6a8":["siren","police"],"1f6a9":["flag"],"1f6aa":[],"1f6ab":["symbol"],"1f6ac":["cigarette"],"1f6ad":["symbol"],"1f6ae":["symbol","garbage"],"1f6af":["symbol"],
"1f6b0":["symbol"],"1f6b1":["symbol"],"1f6b2":["bicycle","cycle","sport","cyclist"],"1f6b3":["bike","symbol"],"1f6b4":["cyclist","bike","sport"],"1f6b5":["bike","cyclist","sport"],"1f6b6":["person","people"],"1f6b7":["symbol"],"1f6b8":["symbol"],"1f6b9":["symbol"],"1f6ba":["symbol"],"1f6bb":["symbol"],"1f6bc":["symbol"],"1f6bd":["bathroom","washroom","restroom"],"1f6be":["symbol"],"1f6bf":["bathroom","restroom","washroom"],"1f6c0":["washroom","restroom"],"1f6c1":["washroom","restroom"],"1f6c2":["symbol"],"1f6c3":["symbol"],"1f6c4":["symbol"],"1f6c5":["symbol"],"0023-20e3":["symbol"],"0030-20e3":["number"],"0031-20e3":["number"],"0032-20e3":["number"],"0033-20e3":["number"],"0034-20e3":["number"],"0035-20e3":["number"],"0036-20e3":["number"],"0037-20e3":["number"],"0038-20e3":["number"],"0039-20e3":["number"],"1f1e6-1f1ea":["flag"],"1f1e6-1f1f9":["flag"],"1f1e6-1f1fa":["flag"],"1f1e7-1f1ea":["flag"],"1f1e7-1f1f7":["flag"],"1f1e8-1f1e6":["flag"],"1f1e8-1f1ed":["flag"],"1f1e8-1f1f1":["flag"],"1f1e8-1f1f3":["flag"],"1f1e8-1f1f4":["flag"],"1f1e9-1f1ea":["flag"],"1f1e9-1f1f0":["flag"],"1f1ea-1f1f8":["flag"],"1f1eb-1f1ee":["flag"],"1f1eb-1f1f7":["flag"],"1f1ec-1f1e7":["flag"],"1f1ed-1f1f0":["flag"],"1f1ee-1f1e9":["flag"],"1f1ee-1f1ea":["flag"],"1f1ee-1f1f1":["flag"],"1f1ee-1f1f3":["flag"],"1f1ee-1f1f9":["flag"],"1f1ef-1f1f5":["flag"],"1f1f0-1f1f7":["flag"],"1f1f2-1f1f4":["flag"],"1f1f2-1f1fd":["flag"],"1f1f2-1f1fe":["flag"],"1f1f3-1f1f1":["flag"],"1f1f3-1f1f4":["flag"],"1f1f3-1f1ff":["flag"],"1f1f5-1f1ed":["flag"],"1f1f5-1f1f1":["flag"],"1f1f5-1f1f7":["flag"],"1f1f5-1f1f9":["flag"],"1f1f7-1f1fa":["flag"],"1f1f8-1f1e6":["flag"],"1f1f8-1f1ea":["flag"],"1f1f8-1f1ec":["flag"],"1f1f9-1f1f7":["flag"],"1f1fa-1f1f8":["flag"],"1f1fb-1f1f3":["flag"],"1f1ff-1f1e6":["flag"],"1f468-200d-1f468-200d-1f466":["person","people","family"],"1f468-200d-1f468-200d-1f466-200d-1f466":["person","people","family"],"1f468-200d-1f468-200d-1f467":["person","people","family"],"1f468-200d-1f468-200d-1f467-200d-1f466":["person","people","family"],"1f468-200d-1f468-200d-1f467-200d-1f467":["person","people","family"],"1f468-200d-1f469-200d-1f466-200d-1f466":["person","people","family"],"1f468-200d-1f469-200d-1f467":["person","people","family"],"1f468-200d-1f469-200d-1f467-200d-1f466":["person","people","family"],"1f468-200d-1f469-200d-1f467-200d-1f467":["person","people","family"],"1f468-200d-2764-fe0f-200d-1f468":["person","people","couple"],"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468":["person","people","couple"],"1f469-200d-1f469-200d-1f466":["family","people","person","woman"],"1f469-200d-1f469-200d-1f466-200d-1f466":["family","people","person","woman"],"1f469-200d-1f469-200d-1f467":["family","people","person","woman"],"1f469-200d-1f469-200d-1f467-200d-1f466":["family","people","person","woman"],"1f469-200d-1f469-200d-1f467-200d-1f467":["family","people","person","woman"],"1f469-200d-2764-fe0f-200d-1f469":["couple","people","person","woman"],"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469":["couple","people","person","woman"]};var keywords_index={};for(var idx in keywords){keywords[idx].forEach(function(keyword){var len=3;var part;while(len<=keyword.length){part=keyword.substr(0,len);keywords_index[part]=keywords_index[part]||[];keywords_index[part].push(emoji.data[idx][3][0]);len++}})}emoji.findByKeyword=function(k){return keywords_index[k.toLowerCase()]||[]};emoji.unaltered_data=JSON.parse(JSON.stringify(emoji.data));emoji.init_colons()})();(function($,window,document,undefined){var $window=$(window);var loaded_url_cache={};var window_cache={innerHeight:null,scrollTop:null,scrollLeft:null};var active_instances=0;var window_events_attached=false;var cache_count=0;function resize_handler(){window_cache.innerHeight=window.innerHeight||$window.height();window_cache.scrollTop=$window.scrollTop();window_cache.scrollLeft=$window.scrollLeft()}function scroll_handler(){window_cache.scrollLeft=$window.scrollLeft();window_cache.scrollTop=$window.scrollTop()}function attach_window_events(){if(window_events_attached){return}$window.bind("scroll",scroll_handler);$window.bind("resize",resize_handler);scroll_handler();resize_handler();window_events_attached=true}function detach_window_events(){if(!window_events_attached){return}window_events_attached=false;$window.unbind("scroll",scroll_handler);$window.unbind("resize",resize_handler)}function add_lazyload_instance(){attach_window_events();active_instances++}function remove_lazyload_instance(){active_instances=Math.max(0,active_instances-1);if(active_instances===0){detach_window_events()}}$.fn.lazyload=function(options){var elements=this;var $container;var $ignore_when_hidden_element;var layout_cache=null;var size_cache={width:null,height:null};var settings={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:window,data_attribute:"original",skip_invisible:options&&options.skip_invisible!==undefined?options.skip_invisible:true,ignore_when_hidden_element:options&&options.ignore_when_hidden_element?options.ignore_when_hidden_element:null,check_horizontal_offscreen:options&&options.check_horizontal_offscreen!==undefined?options.check_horizontal_offscreen:false,all_images_same_size:options&&options.all_images_same_size!==undefined?options.all_images_same_size:false,appear:null,load:null,placeholder:null};add_lazyload_instance();options=options||{};options.throttle=options.throttle||125;function update_wrapper(){if(!$container||!$container.length){return}if(window.TS===undefined||!options.throttle){cache_get_layout(true);return update()}else{TS.utility.throttle.method(function(){cache_get_layout(true);update()},"jquery_lazyload",options.throttle)}}function cache_get_layout(ignore_cache){if(!$container||!$container.length){return}if(!layout_cache||ignore_cache){layout_cache={container_offset:$container.offset(),container_width:$container.width(),container_height:$container.height()}}return layout_cache}function belowthefold(element,settings,element_offset,layout_cache){var fold;if(settings.container===undefined||settings.container===window){fold=window_cache.scrollTop+window_cache.innerHeight}else{fold=layout_cache.container_offset.top+layout_cache.container_height}return fold<=element_offset.top-settings.threshold}function rightoffold(element,settings,element_offset,layout_cache){var fold;if(settings.container===undefined||settings.container===window){fold=window_cache.width+window_cache.scrollLeft}else{fold=layout_cache.container_offset.left+layout_cache.container_width}return fold<=element_offset.left-settings.threshold}function abovethetop(element,settings,element_offset,layout_cache){var fold;if(settings.container===undefined||settings.container===window){fold=window_cache.scrollTop}else{fold=layout_cache.container_offset.top}return fold>=element_offset.top+settings.threshold+(size_cache.height||$(element).height())}function leftofbegin(element,settings,element_offset,layout_cache){var fold;if(settings.container===undefined||settings.container===window){fold=window_cache.scrollLeft}else{fold=layout_cache.container_offset.left}return fold>=element_offset.left+settings.threshold+(size_cache.width||$(element).width())}function update(){var counter=0;var loaded=0;var element_count;if(!elements||!elements.each||!elements.length){detachEvents();return false}element_count=elements.length;if(settings.skip_invisible){if($ignore_when_hidden_element&&$ignore_when_hidden_element[0]&&(!$ignore_when_hidden_element[0].offsetWidth||!$ignore_when_hidden_element[0].offsetHeight)){return}else if($container[0]&&$container[0]!==window&&(!$container[0].offsetWidth||!$container[0].offsetHeight)){return}}if(settings.all_images_same_size&&!size_cache.width&&elements&&elements[0]){size_cache.width=$(elements[0]).width();size_cache.height=$(elements[0]).height()}layout_cache=cache_get_layout();elements.each(function(index){var $this=$(this);if(settings.skip_invisible&&(!$this[0].offsetWidth||!$this[0].offsetHeight)){$this=null;return}var element_offset=$this.offset();if(abovethetop(this,settings,element_offset,layout_cache)||settings.check_horizontal_offscreen&&leftofbegin(this,settings,element_offset,layout_cache)){}else if(!belowthefold(this,settings,element_offset,layout_cache)&&(!settings.check_horizontal_offscreen||!rightoffold(this,settings,element_offset,layout_cache))){$this.trigger("appear");counter=0}else{if(++counter>settings.failure_limit){$this=null;return false}}$this=null})}function detachEvents(){if($container&&elements){$container.unbind(settings.event+".lazyload");$window.unbind("resize",update_wrapper);$window.unbind("resize-immediate",update);elements.each(function(){$(this).unbind()})}$container=null;$ignore_when_hidden_element=null;elements=null;remove_lazyload_instance()}function detachSome(element){if(!elements)return;elements=elements.not(element);if(!elements.length){detachEvents()}}if(options){$.extend(settings,options)}$container=settings.container===undefined||settings.container===window?$window:$(settings.container);$ignore_when_hidden_element=settings.ignore_when_hidden_element;if(settings.event.indexOf("scroll")===0){$container.bind(settings.event+".lazyload",update_wrapper)}this.each(function(){var self=this;var $self=$(self);var src=$self.attr("src");var data_src=$self.attr("data-"+settings.data_attribute);self.loaded=false;function imgLoaded(){var temp;if($self.is("img")){$self.attr("src",data_src)}else{if(data_src.indexOf("url(")!==-1){$self.css("background-image",data_src)}else{$self.css("background-image","url('"+data_src+"')")}}self.loaded=true;if(elements){temp=$.grep(elements,function(element){return!element.loaded});elements=$(temp)}loaded_url_cache[data_src]=true;if(settings.load&&elements){var elements_left=elements.length;settings.load.call(self,elements_left,settings)}$self.trigger("lazyloaded")}$self.one("appear",function(){if(!this.loaded){if(settings.appear){if(elements){var elements_left=elements.length;settings.appear.call(self,elements_left,settings)}}if(data_src.indexOf("url(")!==-1){imgLoaded()}else{var $img=$(new Image);$img.one("load",imgLoaded);$img.attr("src",data_src)}}});if(src===undefined||src===false){if($self.is("img")){if(loaded_url_cache[data_src]){$self.trigger("appear")}else if(settings.placeholder){$self.attr("src",settings.placeholder)}}}else{if(loaded_url_cache[data_src]){$self.trigger("appear")}}if(settings.event.indexOf("scroll")!==0){$self.bind(settings.event,function(){if(!self.loaded){$self.trigger("appear")}})}});$window.bind("resize",update_wrapper);$window.bind("resize-immediate",update);if(/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)){$window.bind("pageshow",function(event){if(event.originalEvent&&event.originalEvent.persisted){elements.each(function(){$(this).trigger("appear")})}})}$(document).ready(update_wrapper);this.detachEvents=detachEvents;this.detachSome=detachSome;return this}})(jQuery,window,document);(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory();else if(typeof define==="function"&&define.amd)define([],factory);else if(typeof exports==="object")exports["Handlebars"]=factory();else root["Handlebars"]=factory()})(this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;var _handlebarsRuntime=__webpack_require__(2);var _handlebarsRuntime2=_interopRequireDefault(_handlebarsRuntime);var _handlebarsCompilerAst=__webpack_require__(21);var _handlebarsCompilerAst2=_interopRequireDefault(_handlebarsCompilerAst);var _handlebarsCompilerBase=__webpack_require__(22);var _handlebarsCompilerCompiler=__webpack_require__(27);var _handlebarsCompilerJavascriptCompiler=__webpack_require__(28);var _handlebarsCompilerJavascriptCompiler2=_interopRequireDefault(_handlebarsCompilerJavascriptCompiler);var _handlebarsCompilerVisitor=__webpack_require__(25);var _handlebarsCompilerVisitor2=_interopRequireDefault(_handlebarsCompilerVisitor);var _handlebarsNoConflict=__webpack_require__(20);var _handlebarsNoConflict2=_interopRequireDefault(_handlebarsNoConflict);var _create=_handlebarsRuntime2["default"].create;function create(){var hb=_create();hb.compile=function(input,options){return _handlebarsCompilerCompiler.compile(input,options,hb)};hb.precompile=function(input,options){return _handlebarsCompilerCompiler.precompile(input,options,hb)};hb.AST=_handlebarsCompilerAst2["default"];hb.Compiler=_handlebarsCompilerCompiler.Compiler;hb.JavaScriptCompiler=_handlebarsCompilerJavascriptCompiler2["default"];hb.Parser=_handlebarsCompilerBase.parser;hb.parse=_handlebarsCompilerBase.parse;return hb}var inst=create();inst.create=create;_handlebarsNoConflict2["default"](inst);inst.Visitor=_handlebarsCompilerVisitor2["default"];inst["default"]=inst;exports["default"]=inst;module.exports=exports["default"]},function(module,exports){"use strict";exports["default"]=function(obj){return obj&&obj.__esModule?obj:{"default":obj}};exports.__esModule=true},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(3)["default"];var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;var _handlebarsBase=__webpack_require__(4);var base=_interopRequireWildcard(_handlebarsBase);var _handlebarsSafeString=__webpack_require__(18);var _handlebarsSafeString2=_interopRequireDefault(_handlebarsSafeString);var _handlebarsException=__webpack_require__(6);var _handlebarsException2=_interopRequireDefault(_handlebarsException);var _handlebarsUtils=__webpack_require__(5);var Utils=_interopRequireWildcard(_handlebarsUtils);var _handlebarsRuntime=__webpack_require__(19);var runtime=_interopRequireWildcard(_handlebarsRuntime);var _handlebarsNoConflict=__webpack_require__(20);var _handlebarsNoConflict2=_interopRequireDefault(_handlebarsNoConflict);function create(){var hb=new base.HandlebarsEnvironment;Utils.extend(hb,base);hb.SafeString=_handlebarsSafeString2["default"];hb.Exception=_handlebarsException2["default"];hb.Utils=Utils;hb.escapeExpression=Utils.escapeExpression;hb.VM=runtime;hb.template=function(spec){return runtime.template(spec,hb)};return hb}var inst=create();inst.create=create;_handlebarsNoConflict2["default"](inst);inst["default"]=inst;exports["default"]=inst;module.exports=exports["default"]},function(module,exports){"use strict";exports["default"]=function(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj["default"]=obj;return newObj}};exports.__esModule=true},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;exports.HandlebarsEnvironment=HandlebarsEnvironment;var _utils=__webpack_require__(5);var _exception=__webpack_require__(6);var _exception2=_interopRequireDefault(_exception);var _helpers=__webpack_require__(7);var _decorators=__webpack_require__(15);var _logger=__webpack_require__(17);var _logger2=_interopRequireDefault(_logger);var VERSION="4.0.5";exports.VERSION=VERSION;var COMPILER_REVISION=7;exports.COMPILER_REVISION=COMPILER_REVISION;var REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};exports.REVISION_CHANGES=REVISION_CHANGES;var objectType="[object Object]";function HandlebarsEnvironment(helpers,partials,decorators){this.helpers=helpers||{};this.partials=partials||{};this.decorators=decorators||{};_helpers.registerDefaultHelpers(this);_decorators.registerDefaultDecorators(this)}HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:_logger2["default"],log:_logger2["default"].log,registerHelper:function registerHelper(name,fn){if(_utils.toString.call(name)===objectType){if(fn){throw new _exception2["default"]("Arg not supported with multiple helpers")}_utils.extend(this.helpers,name)}else{this.helpers[name]=fn}},unregisterHelper:function unregisterHelper(name){delete this.helpers[name]},registerPartial:function registerPartial(name,partial){if(_utils.toString.call(name)===objectType){_utils.extend(this.partials,name)}else{if(typeof partial==="undefined"){throw new _exception2["default"]('Attempting to register a partial called "'+name+'" as undefined')}this.partials[name]=partial}},unregisterPartial:function unregisterPartial(name){delete this.partials[name]},registerDecorator:function registerDecorator(name,fn){if(_utils.toString.call(name)===objectType){if(fn){throw new _exception2["default"]("Arg not supported with multiple decorators")}_utils.extend(this.decorators,name)}else{this.decorators[name]=fn}},unregisterDecorator:function unregisterDecorator(name){delete this.decorators[name]}};var log=_logger2["default"].log;exports.log=log;exports.createFrame=_utils.createFrame;exports.logger=_logger2["default"]},function(module,exports){"use strict";exports.__esModule=true;exports.extend=extend;exports.indexOf=indexOf;exports.escapeExpression=escapeExpression;exports.isEmpty=isEmpty;exports.createFrame=createFrame;exports.blockParams=blockParams;exports.appendContextPath=appendContextPath;var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"};var badChars=/[&<>"'`=]/g,possible=/[&<>"'`=]/;function escapeChar(chr){return escape[chr]}function extend(obj){for(var i=1;i<arguments.length;i++){for(var key in arguments[i]){if(Object.prototype.hasOwnProperty.call(arguments[i],key)){obj[key]=arguments[i][key]}}}return obj}var toString=Object.prototype.toString;exports.toString=toString;var isFunction=function isFunction(value){return typeof value==="function"};if(isFunction(/x/)){exports.isFunction=isFunction=function(value){return typeof value==="function"&&toString.call(value)==="[object Function]"}}exports.isFunction=isFunction;var isArray=Array.isArray||function(value){return value&&typeof value==="object"?toString.call(value)==="[object Array]":false};exports.isArray=isArray;function indexOf(array,value){for(var i=0,len=array.length;i<len;i++){if(array[i]===value){return i}}return-1}function escapeExpression(string){if(typeof string!=="string"){if(string&&string.toHTML){return string.toHTML()}else if(string==null){return""}else if(!string){return string+""}string=""+string}if(!possible.test(string)){return string}return string.replace(badChars,escapeChar)}function isEmpty(value){if(!value&&value!==0){return true}else if(isArray(value)&&value.length===0){return true}else{return false}}function createFrame(object){var frame=extend({},object);frame._parent=object;return frame}function blockParams(params,ids){params.path=ids;return params}function appendContextPath(contextPath,id){return(contextPath?contextPath+".":"")+id}},function(module,exports){"use strict";exports.__esModule=true;var errorProps=["description","fileName","lineNumber","message","name","number","stack"];function Exception(message,node){var loc=node&&node.loc,line=undefined,column=undefined;if(loc){line=loc.start.line;column=loc.start.column;message+=" - "+line+":"+column}var tmp=Error.prototype.constructor.call(this,message);for(var idx=0;idx<errorProps.length;idx++){this[errorProps[idx]]=tmp[errorProps[idx]]}if(Error.captureStackTrace){Error.captureStackTrace(this,Exception)}if(loc){this.lineNumber=line;this.column=column}}Exception.prototype=new Error;exports["default"]=Exception;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;exports.registerDefaultHelpers=registerDefaultHelpers;var _helpersBlockHelperMissing=__webpack_require__(8);var _helpersBlockHelperMissing2=_interopRequireDefault(_helpersBlockHelperMissing);var _helpersEach=__webpack_require__(9);var _helpersEach2=_interopRequireDefault(_helpersEach);var _helpersHelperMissing=__webpack_require__(10);var _helpersHelperMissing2=_interopRequireDefault(_helpersHelperMissing);var _helpersIf=__webpack_require__(11);var _helpersIf2=_interopRequireDefault(_helpersIf);var _helpersLog=__webpack_require__(12);var _helpersLog2=_interopRequireDefault(_helpersLog);var _helpersLookup=__webpack_require__(13);var _helpersLookup2=_interopRequireDefault(_helpersLookup);var _helpersWith=__webpack_require__(14);var _helpersWith2=_interopRequireDefault(_helpersWith);function registerDefaultHelpers(instance){_helpersBlockHelperMissing2["default"](instance);_helpersEach2["default"](instance);_helpersHelperMissing2["default"](instance);_helpersIf2["default"](instance);_helpersLog2["default"](instance);_helpersLookup2["default"](instance);_helpersWith2["default"](instance)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(5);exports["default"]=function(instance){instance.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse,fn=options.fn;if(context===true){return fn(this)}else if(context===false||context==null){return inverse(this)}else if(_utils.isArray(context)){if(context.length>0){if(options.ids){options.ids=[options.name]}return instance.helpers.each(context,options)}else{return inverse(this)}}else{if(options.data&&options.ids){var data=_utils.createFrame(options.data);data.contextPath=_utils.appendContextPath(options.data.contextPath,options.name);options={data:data}}return fn(context,options)}})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;var _utils=__webpack_require__(5);var _exception=__webpack_require__(6);var _exception2=_interopRequireDefault(_exception);exports["default"]=function(instance){instance.registerHelper("each",function(context,options){if(!options){throw new _exception2["default"]("Must pass iterator to #each")}var fn=options.fn,inverse=options.inverse,i=0,ret="",data=undefined,contextPath=undefined;if(options.data&&options.ids){contextPath=_utils.appendContextPath(options.data.contextPath,options.ids[0])+"."}if(_utils.isFunction(context)){context=context.call(this)}if(options.data){data=_utils.createFrame(options.data)}function execIteration(field,index,last){if(data){data.key=field;data.index=index;data.first=index===0;data.last=!!last;if(contextPath){data.contextPath=contextPath+field}}ret=ret+fn(context[field],{data:data,blockParams:_utils.blockParams([context[field],field],[contextPath+field,null])})}if(context&&typeof context==="object"){if(_utils.isArray(context)){for(var j=context.length;i<j;i++){if(i in context){execIteration(i,i,i===context.length-1)}}}else{var priorKey=undefined;for(var key in context){if(context.hasOwnProperty(key)){if(priorKey!==undefined){execIteration(priorKey,i-1)}priorKey=key;i++}}if(priorKey!==undefined){execIteration(priorKey,i-1,true)}}}if(i===0){ret=inverse(this)}return ret})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;var _exception=__webpack_require__(6);var _exception2=_interopRequireDefault(_exception);exports["default"]=function(instance){instance.registerHelper("helperMissing",function(){if(arguments.length===1){return undefined}else{throw new _exception2["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(5);exports["default"]=function(instance){instance.registerHelper("if",function(conditional,options){if(_utils.isFunction(conditional)){conditional=conditional.call(this)}if(!options.hash.includeZero&&!conditional||_utils.isEmpty(conditional)){return options.inverse(this)}else{return options.fn(this)}});instance.registerHelper("unless",function(conditional,options){return instance.helpers["if"].call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash})})};module.exports=exports["default"]},function(module,exports){"use strict";exports.__esModule=true;exports["default"]=function(instance){instance.registerHelper("log",function(){var args=[undefined],options=arguments[arguments.length-1];for(var i=0;i<arguments.length-1;i++){args.push(arguments[i])}var level=1;if(options.hash.level!=null){level=options.hash.level}else if(options.data&&options.data.level!=null){level=options.data.level}args[0]=level;instance.log.apply(instance,args)})};module.exports=exports["default"]},function(module,exports){"use strict";exports.__esModule=true;exports["default"]=function(instance){instance.registerHelper("lookup",function(obj,field){return obj&&obj[field]})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(5);exports["default"]=function(instance){instance.registerHelper("with",function(context,options){if(_utils.isFunction(context)){context=context.call(this)}var fn=options.fn;if(!_utils.isEmpty(context)){var data=options.data;if(options.data&&options.ids){data=_utils.createFrame(options.data);data.contextPath=_utils.appendContextPath(options.data.contextPath,options.ids[0])}return fn(context,{data:data,blockParams:_utils.blockParams([context],[data&&data.contextPath])})}else{return options.inverse(this)}})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;exports.registerDefaultDecorators=registerDefaultDecorators;var _decoratorsInline=__webpack_require__(16);var _decoratorsInline2=_interopRequireDefault(_decoratorsInline);function registerDefaultDecorators(instance){_decoratorsInline2["default"](instance)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(5);exports["default"]=function(instance){instance.registerDecorator("inline",function(fn,props,container,options){var ret=fn;if(!props.partials){props.partials={};ret=function(context,options){var original=container.partials;container.partials=_utils.extend({},original,props.partials);var ret=fn(context,options);container.partials=original;return ret}}props.partials[options.args[0]]=options.fn;return ret})};module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(5);var logger={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function lookupLevel(level){if(typeof level==="string"){var levelMap=_utils.indexOf(logger.methodMap,level.toLowerCase());if(levelMap>=0){level=levelMap}else{level=parseInt(level,10)}}return level},log:function log(level){level=logger.lookupLevel(level);if(typeof console!=="undefined"&&logger.lookupLevel(logger.level)<=level){var method=logger.methodMap[level];if(!console[method]){method="log"}for(var _len=arguments.length,message=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){message[_key-1]=arguments[_key]}console[method].apply(console,message)}}};exports["default"]=logger;module.exports=exports["default"]},function(module,exports){"use strict";exports.__esModule=true;function SafeString(string){this.string=string}SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string};exports["default"]=SafeString;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(3)["default"];var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;exports.checkRevision=checkRevision;exports.template=template;exports.wrapProgram=wrapProgram;exports.resolvePartial=resolvePartial;exports.invokePartial=invokePartial;exports.noop=noop;var _utils=__webpack_require__(5);var Utils=_interopRequireWildcard(_utils);var _exception=__webpack_require__(6);var _exception2=_interopRequireDefault(_exception);var _base=__webpack_require__(4);function checkRevision(compilerInfo){var compilerRevision=compilerInfo&&compilerInfo[0]||1,currentRevision=_base.COMPILER_REVISION;if(compilerRevision!==currentRevision){if(compilerRevision<currentRevision){var runtimeVersions=_base.REVISION_CHANGES[currentRevision],compilerVersions=_base.REVISION_CHANGES[compilerRevision];throw new _exception2["default"]("Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").")}else{throw new _exception2["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+compilerInfo[1]+").")}}}function template(templateSpec,env){if(!env){throw new _exception2["default"]("No environment passed to template")}if(!templateSpec||!templateSpec.main){throw new _exception2["default"]("Unknown template object: "+typeof templateSpec)}templateSpec.main.decorator=templateSpec.main_d;env.VM.checkRevision(templateSpec.compiler);function invokePartialWrapper(partial,context,options){if(options.hash){context=Utils.extend({},context,options.hash);if(options.ids){options.ids[0]=true}}partial=env.VM.resolvePartial.call(this,partial,context,options);var result=env.VM.invokePartial.call(this,partial,context,options);if(result==null&&env.compile){options.partials[options.name]=env.compile(partial,templateSpec.compilerOptions,env);result=options.partials[options.name](context,options)}if(result!=null){if(options.indent){var lines=result.split("\n");for(var i=0,l=lines.length;i<l;i++){if(!lines[i]&&i+1===l){break}lines[i]=options.indent+lines[i]}result=lines.join("\n")}return result}else{throw new _exception2["default"]("The partial "+options.name+" could not be compiled when running in runtime-only mode")}}var container={strict:function strict(obj,name){if(!(name in obj)){throw new _exception2["default"]('"'+name+'" not defined in '+obj)}return obj[name]},lookup:function lookup(depths,name){var len=depths.length;for(var i=0;i<len;i++){if(depths[i]&&depths[i][name]!=null){return depths[i][name]}}},lambda:function lambda(current,context){return typeof current==="function"?current.call(context):current},escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,fn:function fn(i){var ret=templateSpec[i];ret.decorator=templateSpec[i+"_d"];return ret},programs:[],program:function program(i,data,declaredBlockParams,blockParams,depths){var programWrapper=this.programs[i],fn=this.fn(i);if(data||depths||blockParams||declaredBlockParams){programWrapper=wrapProgram(this,i,fn,data,declaredBlockParams,blockParams,depths)}else if(!programWrapper){programWrapper=this.programs[i]=wrapProgram(this,i,fn)}return programWrapper},data:function data(value,depth){while(value&&depth--){value=value._parent}return value},merge:function merge(param,common){var obj=param||common;if(param&&common&&param!==common){obj=Utils.extend({},common,param)}return obj},noop:env.VM.noop,compilerInfo:templateSpec.compiler};function ret(context){var options=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var data=options.data;ret._setup(options);if(!options.partial&&templateSpec.useData){data=initData(context,data)}var depths=undefined,blockParams=templateSpec.useBlockParams?[]:undefined;
if(templateSpec.useDepths){if(options.depths){depths=context!==options.depths[0]?[context].concat(options.depths):options.depths}else{depths=[context]}}function main(context){return""+templateSpec.main(container,context,container.helpers,container.partials,data,blockParams,depths)}main=executeDecorators(templateSpec.main,main,container,options.depths||[],data,blockParams);return main(context,options)}ret.isTop=true;ret._setup=function(options){if(!options.partial){container.helpers=container.merge(options.helpers,env.helpers);if(templateSpec.usePartial){container.partials=container.merge(options.partials,env.partials)}if(templateSpec.usePartial||templateSpec.useDecorators){container.decorators=container.merge(options.decorators,env.decorators)}}else{container.helpers=options.helpers;container.partials=options.partials;container.decorators=options.decorators}};ret._child=function(i,data,blockParams,depths){if(templateSpec.useBlockParams&&!blockParams){throw new _exception2["default"]("must pass block params")}if(templateSpec.useDepths&&!depths){throw new _exception2["default"]("must pass parent depths")}return wrapProgram(container,i,templateSpec[i],data,0,blockParams,depths)};return ret}function wrapProgram(container,i,fn,data,declaredBlockParams,blockParams,depths){function prog(context){var options=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var currentDepths=depths;if(depths&&context!==depths[0]){currentDepths=[context].concat(depths)}return fn(container,context,container.helpers,container.partials,options.data||data,blockParams&&[options.blockParams].concat(blockParams),currentDepths)}prog=executeDecorators(fn,prog,container,depths,data,blockParams);prog.program=i;prog.depth=depths?depths.length:0;prog.blockParams=declaredBlockParams||0;return prog}function resolvePartial(partial,context,options){if(!partial){if(options.name==="@partial-block"){partial=options.data["partial-block"]}else{partial=options.partials[options.name]}}else if(!partial.call&&!options.name){options.name=partial;partial=options.partials[partial]}return partial}function invokePartial(partial,context,options){options.partial=true;if(options.ids){options.data.contextPath=options.ids[0]||options.data.contextPath}var partialBlock=undefined;if(options.fn&&options.fn!==noop){options.data=_base.createFrame(options.data);partialBlock=options.data["partial-block"]=options.fn;if(partialBlock.partials){options.partials=Utils.extend({},options.partials,partialBlock.partials)}}if(partial===undefined&&partialBlock){partial=partialBlock}if(partial===undefined){throw new _exception2["default"]("The partial "+options.name+" could not be found")}else if(partial instanceof Function){return partial(context,options)}}function noop(){return""}function initData(context,data){if(!data||!("root"in data)){data=data?_base.createFrame(data):{};data.root=context}return data}function executeDecorators(fn,prog,container,depths,data,blockParams){if(fn.decorator){var props={};prog=fn.decorator(prog,props,container,depths&&depths[0],data,blockParams,depths);Utils.extend(prog,props)}return prog}},function(module,exports){(function(global){"use strict";exports.__esModule=true;exports["default"]=function(Handlebars){var root=typeof global!=="undefined"?global:window,$Handlebars=root.Handlebars;Handlebars.noConflict=function(){if(root.Handlebars===Handlebars){root.Handlebars=$Handlebars}return Handlebars}};module.exports=exports["default"]}).call(exports,function(){return this}())},function(module,exports){"use strict";exports.__esModule=true;var AST={helpers:{helperExpression:function helperExpression(node){return node.type==="SubExpression"||(node.type==="MustacheStatement"||node.type==="BlockStatement")&&!!(node.params&&node.params.length||node.hash)},scopedId:function scopedId(path){return/^\.|this\b/.test(path.original)},simpleId:function simpleId(path){return path.parts.length===1&&!AST.helpers.scopedId(path)&&!path.depth}}};exports["default"]=AST;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];var _interopRequireWildcard=__webpack_require__(3)["default"];exports.__esModule=true;exports.parse=parse;var _parser=__webpack_require__(23);var _parser2=_interopRequireDefault(_parser);var _whitespaceControl=__webpack_require__(24);var _whitespaceControl2=_interopRequireDefault(_whitespaceControl);var _helpers=__webpack_require__(26);var Helpers=_interopRequireWildcard(_helpers);var _utils=__webpack_require__(5);exports.parser=_parser2["default"];var yy={};_utils.extend(yy,Helpers);function parse(input,options){if(input.type==="Program"){return input}_parser2["default"].yy=yy;yy.locInfo=function(locInfo){return new yy.SourceLocation(options&&options.srcName,locInfo)};var strip=new _whitespaceControl2["default"](options);return strip.accept(_parser2["default"].parse(input))}},function(module,exports){"use strict";var handlebars=function(){var parser={trace:function trace(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return $$[$0-1];break;case 2:this.$=yy.prepareProgram($$[$0]);break;case 3:this.$=$$[$0];break;case 4:this.$=$$[$0];break;case 5:this.$=$$[$0];break;case 6:this.$=$$[$0];break;case 7:this.$=$$[$0];break;case 8:this.$=$$[$0];break;case 9:this.$={type:"CommentStatement",value:yy.stripComment($$[$0]),strip:yy.stripFlags($$[$0],$$[$0]),loc:yy.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:$$[$0],value:$$[$0],loc:yy.locInfo(this._$)};break;case 11:this.$=yy.prepareRawBlock($$[$0-2],$$[$0-1],$$[$0],this._$);break;case 12:this.$={path:$$[$0-3],params:$$[$0-2],hash:$$[$0-1]};break;case 13:this.$=yy.prepareBlock($$[$0-3],$$[$0-2],$$[$0-1],$$[$0],false,this._$);break;case 14:this.$=yy.prepareBlock($$[$0-3],$$[$0-2],$$[$0-1],$$[$0],true,this._$);break;case 15:this.$={open:$$[$0-5],path:$$[$0-4],params:$$[$0-3],hash:$$[$0-2],blockParams:$$[$0-1],strip:yy.stripFlags($$[$0-5],$$[$0])};break;case 16:this.$={path:$$[$0-4],params:$$[$0-3],hash:$$[$0-2],blockParams:$$[$0-1],strip:yy.stripFlags($$[$0-5],$$[$0])};break;case 17:this.$={path:$$[$0-4],params:$$[$0-3],hash:$$[$0-2],blockParams:$$[$0-1],strip:yy.stripFlags($$[$0-5],$$[$0])};break;case 18:this.$={strip:yy.stripFlags($$[$0-1],$$[$0-1]),program:$$[$0]};break;case 19:var inverse=yy.prepareBlock($$[$0-2],$$[$0-1],$$[$0],$$[$0],false,this._$),program=yy.prepareProgram([inverse],$$[$0-1].loc);program.chained=true;this.$={strip:$$[$0-2].strip,program:program,chain:true};break;case 20:this.$=$$[$0];break;case 21:this.$={path:$$[$0-1],strip:yy.stripFlags($$[$0-2],$$[$0])};break;case 22:this.$=yy.prepareMustache($$[$0-3],$$[$0-2],$$[$0-1],$$[$0-4],yy.stripFlags($$[$0-4],$$[$0]),this._$);break;case 23:this.$=yy.prepareMustache($$[$0-3],$$[$0-2],$$[$0-1],$$[$0-4],yy.stripFlags($$[$0-4],$$[$0]),this._$);break;case 24:this.$={type:"PartialStatement",name:$$[$0-3],params:$$[$0-2],hash:$$[$0-1],indent:"",strip:yy.stripFlags($$[$0-4],$$[$0]),loc:yy.locInfo(this._$)};break;case 25:this.$=yy.preparePartialBlock($$[$0-2],$$[$0-1],$$[$0],this._$);break;case 26:this.$={path:$$[$0-3],params:$$[$0-2],hash:$$[$0-1],strip:yy.stripFlags($$[$0-4],$$[$0])};break;case 27:this.$=$$[$0];break;case 28:this.$=$$[$0];break;case 29:this.$={type:"SubExpression",path:$$[$0-3],params:$$[$0-2],hash:$$[$0-1],loc:yy.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:$$[$0],loc:yy.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:yy.id($$[$0-2]),value:$$[$0],loc:yy.locInfo(this._$)};break;case 32:this.$=yy.id($$[$0-1]);break;case 33:this.$=$$[$0];break;case 34:this.$=$$[$0];break;case 35:this.$={type:"StringLiteral",value:$$[$0],original:$$[$0],loc:yy.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number($$[$0]),original:Number($$[$0]),loc:yy.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:$$[$0]==="true",original:$$[$0]==="true",loc:yy.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:undefined,value:undefined,loc:yy.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:yy.locInfo(this._$)};break;case 40:this.$=$$[$0];break;case 41:this.$=$$[$0];break;case 42:this.$=yy.preparePath(true,$$[$0],this._$);break;case 43:this.$=yy.preparePath(false,$$[$0],this._$);break;case 44:$$[$0-2].push({part:yy.id($$[$0]),original:$$[$0],separator:$$[$0-1]});this.$=$$[$0-2];break;case 45:this.$=[{part:yy.id($$[$0]),original:$$[$0]}];break;case 46:this.$=[];break;case 47:$$[$0-1].push($$[$0]);break;case 48:this.$=[$$[$0]];break;case 49:$$[$0-1].push($$[$0]);break;case 50:this.$=[];break;case 51:$$[$0-1].push($$[$0]);break;case 58:this.$=[];break;case 59:$$[$0-1].push($$[$0]);break;case 64:this.$=[];break;case 65:$$[$0-1].push($$[$0]);break;case 70:this.$=[];break;case 71:$$[$0-1].push($$[$0]);break;case 78:this.$=[];break;case 79:$$[$0-1].push($$[$0]);break;case 82:this.$=[];break;case 83:$$[$0-1].push($$[$0]);break;case 86:this.$=[];break;case 87:$$[$0-1].push($$[$0]);break;case 90:this.$=[];break;case 91:$$[$0-1].push($$[$0]);break;case 94:this.$=[];break;case 95:$$[$0-1].push($$[$0]);break;case 98:this.$=[$$[$0]];break;case 99:$$[$0-1].push($$[$0]);break;case 100:this.$=[$$[$0]];break;case 101:$$[$0-1].push($$[$0]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function parseError(str,hash){throw new Error(str)},parse:function parse(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=="undefined")this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function")this.parseError=this.yy.parseError;function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n}function lex(){var token;token=self.lexer.lex()||1;if(typeof token!=="number"){token=self.symbols_[token]||token}return token}var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(true){state=stack[stack.length-1];if(this.defaultActions[state]){action=this.defaultActions[state]}else{if(symbol===null||typeof symbol=="undefined"){symbol=lex()}action=table[state]&&table[state][symbol]}if(typeof action==="undefined"||!action.length||!action[0]){var errStr="";if(!recovering){expected=[];for(p in table[state])if(this.terminals_[p]&&p>2){expected.push("'"+this.terminals_[p]+"'")}if(this.lexer.showPosition){errStr="Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'"}else{errStr="Parse error on line "+(yylineno+1)+": Unexpected "+(symbol==1?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'")}this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}}if(action[0]instanceof Array&&action.length>1){throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol)}switch(action[0]){case 1:stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);symbol=null;if(!preErrorSymbol){yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(recovering>0)recovering--}else{symbol=preErrorSymbol;preErrorSymbol=null}break;case 2:len=this.productions_[action[1]][1];yyval.$=vstack[vstack.length-len];yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};if(ranges){yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]}r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if(typeof r!=="undefined"){return r}if(len){stack=stack.slice(0,-1*len*2);vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len)}stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:return true}}return true}};var lexer=function(){var lexer={EOF:1,parseError:function parseError(str,hash){if(this.yy.parser){this.yy.parser.parseError(str,hash)}else{throw new Error(str)}},setInput:function setInput(input){this._input=input;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges)this.yylloc.range=[0,0];this.offset=0;return this},input:function input(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.offset++;this.match+=ch;this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);if(lines){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges)this.yylloc.range[1]++;this._input=this._input.slice(1);return ch},unput:function unput(ch){var len=ch.length;var lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-len-1);this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(lines.length-1)this.yylineno-=lines.length-1;var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len};if(this.options.ranges){this.yylloc.range=[r[0],r[0]+this.yyleng-len]}return this},more:function more(){this._more=true;return this},less:function less(n){this.unput(this.match.slice(n))},pastInput:function pastInput(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function upcomingInput(){var next=this.match;if(next.length<20){next+=this._input.substr(0,20-next.length)}return(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function showPosition(){var pre=this.pastInput();var c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function next(){if(this.done){return this.EOF}if(!this._input)this.done=true;var token,match,tempMatch,index,col,lines;if(!this._more){this.yytext="";this.match=""}var rules=this._currentRules();for(var i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex)break}}if(match){lines=match[0].match(/(?:\r\n?|\n).*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.matches=match;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=false;if(token)return token;else return}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function lex(){var r=this.next();if(typeof r!=="undefined"){return r}else{return this.lex()}},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.pop()},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function topState(){return this.conditionStack[this.conditionStack.length-2]},pushState:function begin(condition){this.begin(condition)}};lexer.options={};lexer.performAction=function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){function strip(start,end){return yy_.yytext=yy_.yytext.substr(start,yy_.yyleng-end)}var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0:if(yy_.yytext.slice(-2)==="\\\\"){strip(0,1);this.begin("mu")}else if(yy_.yytext.slice(-1)==="\\"){strip(0,1);this.begin("emu")}else{this.begin("mu")}if(yy_.yytext)return 15;break;case 1:return 15;break;case 2:this.popState();return 15;break;case 3:this.begin("raw");return 15;break;case 4:this.popState();if(this.conditionStack[this.conditionStack.length-1]==="raw"){return 15}else{yy_.yytext=yy_.yytext.substr(5,yy_.yyleng-9);return"END_RAW_BLOCK"}break;case 5:return 15;break;case 6:this.popState();return 14;break;case 7:return 65;break;case 8:return 68;break;case 9:return 19;break;case 10:this.popState();this.begin("raw");return 23;break;case 11:return 55;break;case 12:return 60;break;case 13:return 29;break;case 14:return 47;break;case 15:this.popState();return 44;break;case 16:this.popState();return 44;break;case 17:return 34;break;case 18:return 39;break;case 19:return 51;break;case 20:return 48;break;case 21:this.unput(yy_.yytext);this.popState();this.begin("com");break;case 22:this.popState();return 14;break;case 23:return 48;break;case 24:return 73;break;case 25:return 72;break;case 26:return 72;break;
case 27:return 87;break;case 28:break;case 29:this.popState();return 54;break;case 30:this.popState();return 33;break;case 31:yy_.yytext=strip(1,2).replace(/\\"/g,'"');return 80;break;case 32:yy_.yytext=strip(1,2).replace(/\\'/g,"'");return 80;break;case 33:return 85;break;case 34:return 82;break;case 35:return 82;break;case 36:return 83;break;case 37:return 84;break;case 38:return 81;break;case 39:return 75;break;case 40:return 77;break;case 41:return 72;break;case 42:yy_.yytext=yy_.yytext.replace(/\\([\\\]])/g,"$1");return 72;break;case 43:return"INVALID";break;case 44:return 5;break}};lexer.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/];lexer.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:false},emu:{rules:[2],inclusive:false},com:{rules:[6],inclusive:false},raw:{rules:[3,4,5],inclusive:false},INITIAL:{rules:[0,1,44],inclusive:true}};return lexer}();parser.lexer=lexer;function Parser(){this.yy={}}Parser.prototype=parser;parser.Parser=Parser;return new Parser}();exports.__esModule=true;exports["default"]=handlebars},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;var _visitor=__webpack_require__(25);var _visitor2=_interopRequireDefault(_visitor);function WhitespaceControl(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.options=options}WhitespaceControl.prototype=new _visitor2["default"];WhitespaceControl.prototype.Program=function(program){var doStandalone=!this.options.ignoreStandalone;var isRoot=!this.isRootSeen;this.isRootSeen=true;var body=program.body;for(var i=0,l=body.length;i<l;i++){var current=body[i],strip=this.accept(current);if(!strip){continue}var _isPrevWhitespace=isPrevWhitespace(body,i,isRoot),_isNextWhitespace=isNextWhitespace(body,i,isRoot),openStandalone=strip.openStandalone&&_isPrevWhitespace,closeStandalone=strip.closeStandalone&&_isNextWhitespace,inlineStandalone=strip.inlineStandalone&&_isPrevWhitespace&&_isNextWhitespace;if(strip.close){omitRight(body,i,true)}if(strip.open){omitLeft(body,i,true)}if(doStandalone&&inlineStandalone){omitRight(body,i);if(omitLeft(body,i)){if(current.type==="PartialStatement"){current.indent=/([ \t]+$)/.exec(body[i-1].original)[1]}}}if(doStandalone&&openStandalone){omitRight((current.program||current.inverse).body);omitLeft(body,i)}if(doStandalone&&closeStandalone){omitRight(body,i);omitLeft((current.inverse||current.program).body)}}return program};WhitespaceControl.prototype.BlockStatement=WhitespaceControl.prototype.DecoratorBlock=WhitespaceControl.prototype.PartialBlockStatement=function(block){this.accept(block.program);this.accept(block.inverse);var program=block.program||block.inverse,inverse=block.program&&block.inverse,firstInverse=inverse,lastInverse=inverse;if(inverse&&inverse.chained){firstInverse=inverse.body[0].program;while(lastInverse.chained){lastInverse=lastInverse.body[lastInverse.body.length-1].program}}var strip={open:block.openStrip.open,close:block.closeStrip.close,openStandalone:isNextWhitespace(program.body),closeStandalone:isPrevWhitespace((firstInverse||program).body)};if(block.openStrip.close){omitRight(program.body,null,true)}if(inverse){var inverseStrip=block.inverseStrip;if(inverseStrip.open){omitLeft(program.body,null,true)}if(inverseStrip.close){omitRight(firstInverse.body,null,true)}if(block.closeStrip.open){omitLeft(lastInverse.body,null,true)}if(!this.options.ignoreStandalone&&isPrevWhitespace(program.body)&&isNextWhitespace(firstInverse.body)){omitLeft(program.body);omitRight(firstInverse.body)}}else if(block.closeStrip.open){omitLeft(program.body,null,true)}return strip};WhitespaceControl.prototype.Decorator=WhitespaceControl.prototype.MustacheStatement=function(mustache){return mustache.strip};WhitespaceControl.prototype.PartialStatement=WhitespaceControl.prototype.CommentStatement=function(node){var strip=node.strip||{};return{inlineStandalone:true,open:strip.open,close:strip.close}};function isPrevWhitespace(body,i,isRoot){if(i===undefined){i=body.length}var prev=body[i-1],sibling=body[i-2];if(!prev){return isRoot}if(prev.type==="ContentStatement"){return(sibling||!isRoot?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(prev.original)}}function isNextWhitespace(body,i,isRoot){if(i===undefined){i=-1}var next=body[i+1],sibling=body[i+2];if(!next){return isRoot}if(next.type==="ContentStatement"){return(sibling||!isRoot?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(next.original)}}function omitRight(body,i,multiple){var current=body[i==null?0:i+1];if(!current||current.type!=="ContentStatement"||!multiple&&current.rightStripped){return}var original=current.value;current.value=current.value.replace(multiple?/^\s+/:/^[ \t]*\r?\n?/,"");current.rightStripped=current.value!==original}function omitLeft(body,i,multiple){var current=body[i==null?body.length-1:i-1];if(!current||current.type!=="ContentStatement"||!multiple&&current.leftStripped){return}var original=current.value;current.value=current.value.replace(multiple?/\s+$/:/[ \t]+$/,"");current.leftStripped=current.value!==original;return current.leftStripped}exports["default"]=WhitespaceControl;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;var _exception=__webpack_require__(6);var _exception2=_interopRequireDefault(_exception);function Visitor(){this.parents=[]}Visitor.prototype={constructor:Visitor,mutating:false,acceptKey:function acceptKey(node,name){var value=this.accept(node[name]);if(this.mutating){if(value&&!Visitor.prototype[value.type]){throw new _exception2["default"]('Unexpected node type "'+value.type+'" found when accepting '+name+" on "+node.type)}node[name]=value}},acceptRequired:function acceptRequired(node,name){this.acceptKey(node,name);if(!node[name]){throw new _exception2["default"](node.type+" requires "+name)}},acceptArray:function acceptArray(array){for(var i=0,l=array.length;i<l;i++){this.acceptKey(array,i);if(!array[i]){array.splice(i,1);i--;l--}}},accept:function accept(object){if(!object){return}if(!this[object.type]){throw new _exception2["default"]("Unknown type: "+object.type,object)}if(this.current){this.parents.unshift(this.current)}this.current=object;var ret=this[object.type](object);this.current=this.parents.shift();if(!this.mutating||ret){return ret}else if(ret!==false){return object}},Program:function Program(program){this.acceptArray(program.body)},MustacheStatement:visitSubExpression,Decorator:visitSubExpression,BlockStatement:visitBlock,DecoratorBlock:visitBlock,PartialStatement:visitPartial,PartialBlockStatement:function PartialBlockStatement(partial){visitPartial.call(this,partial);this.acceptKey(partial,"program")},ContentStatement:function ContentStatement(){},CommentStatement:function CommentStatement(){},SubExpression:visitSubExpression,PathExpression:function PathExpression(){},StringLiteral:function StringLiteral(){},NumberLiteral:function NumberLiteral(){},BooleanLiteral:function BooleanLiteral(){},UndefinedLiteral:function UndefinedLiteral(){},NullLiteral:function NullLiteral(){},Hash:function Hash(hash){this.acceptArray(hash.pairs)},HashPair:function HashPair(pair){this.acceptRequired(pair,"value")}};function visitSubExpression(mustache){this.acceptRequired(mustache,"path");this.acceptArray(mustache.params);this.acceptKey(mustache,"hash")}function visitBlock(block){visitSubExpression.call(this,block);this.acceptKey(block,"program");this.acceptKey(block,"inverse")}function visitPartial(partial){this.acceptRequired(partial,"name");this.acceptArray(partial.params);this.acceptKey(partial,"hash")}exports["default"]=Visitor;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;exports.SourceLocation=SourceLocation;exports.id=id;exports.stripFlags=stripFlags;exports.stripComment=stripComment;exports.preparePath=preparePath;exports.prepareMustache=prepareMustache;exports.prepareRawBlock=prepareRawBlock;exports.prepareBlock=prepareBlock;exports.prepareProgram=prepareProgram;exports.preparePartialBlock=preparePartialBlock;var _exception=__webpack_require__(6);var _exception2=_interopRequireDefault(_exception);function validateClose(open,close){close=close.path?close.path.original:close;if(open.path.original!==close){var errorNode={loc:open.path.loc};throw new _exception2["default"](open.path.original+" doesn't match "+close,errorNode)}}function SourceLocation(source,locInfo){this.source=source;this.start={line:locInfo.first_line,column:locInfo.first_column};this.end={line:locInfo.last_line,column:locInfo.last_column}}function id(token){if(/^\[.*\]$/.test(token)){return token.substr(1,token.length-2)}else{return token}}function stripFlags(open,close){return{open:open.charAt(2)==="~",close:close.charAt(close.length-3)==="~"}}function stripComment(comment){return comment.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function preparePath(data,parts,loc){loc=this.locInfo(loc);var original=data?"@":"",dig=[],depth=0,depthString="";for(var i=0,l=parts.length;i<l;i++){var part=parts[i].part,isLiteral=parts[i].original!==part;original+=(parts[i].separator||"")+part;if(!isLiteral&&(part===".."||part==="."||part==="this")){if(dig.length>0){throw new _exception2["default"]("Invalid path: "+original,{loc:loc})}else if(part===".."){depth++;depthString+="../"}}else{dig.push(part)}}return{type:"PathExpression",data:data,depth:depth,parts:dig,original:original,loc:loc}}function prepareMustache(path,params,hash,open,strip,locInfo){var escapeFlag=open.charAt(3)||open.charAt(2),escaped=escapeFlag!=="{"&&escapeFlag!=="&";var decorator=/\*/.test(open);return{type:decorator?"Decorator":"MustacheStatement",path:path,params:params,hash:hash,escaped:escaped,strip:strip,loc:this.locInfo(locInfo)}}function prepareRawBlock(openRawBlock,contents,close,locInfo){validateClose(openRawBlock,close);locInfo=this.locInfo(locInfo);var program={type:"Program",body:contents,strip:{},loc:locInfo};return{type:"BlockStatement",path:openRawBlock.path,params:openRawBlock.params,hash:openRawBlock.hash,program:program,openStrip:{},inverseStrip:{},closeStrip:{},loc:locInfo}}function prepareBlock(openBlock,program,inverseAndProgram,close,inverted,locInfo){if(close&&close.path){validateClose(openBlock,close)}var decorator=/\*/.test(openBlock.open);program.blockParams=openBlock.blockParams;var inverse=undefined,inverseStrip=undefined;if(inverseAndProgram){if(decorator){throw new _exception2["default"]("Unexpected inverse block on decorator",inverseAndProgram)}if(inverseAndProgram.chain){inverseAndProgram.program.body[0].closeStrip=close.strip}inverseStrip=inverseAndProgram.strip;inverse=inverseAndProgram.program}if(inverted){inverted=inverse;inverse=program;program=inverted}return{type:decorator?"DecoratorBlock":"BlockStatement",path:openBlock.path,params:openBlock.params,hash:openBlock.hash,program:program,inverse:inverse,openStrip:openBlock.strip,inverseStrip:inverseStrip,closeStrip:close&&close.strip,loc:this.locInfo(locInfo)}}function prepareProgram(statements,loc){if(!loc&&statements.length){var firstLoc=statements[0].loc,lastLoc=statements[statements.length-1].loc;if(firstLoc&&lastLoc){loc={source:firstLoc.source,start:{line:firstLoc.start.line,column:firstLoc.start.column},end:{line:lastLoc.end.line,column:lastLoc.end.column}}}}return{type:"Program",body:statements,strip:{},loc:loc}}function preparePartialBlock(open,program,close,locInfo){validateClose(open,close);return{type:"PartialBlockStatement",name:open.path,params:open.params,hash:open.hash,program:program,openStrip:open.strip,closeStrip:close&&close.strip,loc:this.locInfo(locInfo)}}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;exports.Compiler=Compiler;exports.precompile=precompile;exports.compile=compile;var _exception=__webpack_require__(6);var _exception2=_interopRequireDefault(_exception);var _utils=__webpack_require__(5);var _ast=__webpack_require__(21);var _ast2=_interopRequireDefault(_ast);var slice=[].slice;function Compiler(){}Compiler.prototype={compiler:Compiler,equals:function equals(other){var len=this.opcodes.length;if(other.opcodes.length!==len){return false}for(var i=0;i<len;i++){var opcode=this.opcodes[i],otherOpcode=other.opcodes[i];if(opcode.opcode!==otherOpcode.opcode||!argEquals(opcode.args,otherOpcode.args)){return false}}len=this.children.length;for(var i=0;i<len;i++){if(!this.children[i].equals(other.children[i])){return false}}return true},guid:0,compile:function compile(program,options){this.sourceNode=[];this.opcodes=[];this.children=[];this.options=options;this.stringParams=options.stringParams;this.trackIds=options.trackIds;options.blockParams=options.blockParams||[];var knownHelpers=options.knownHelpers;options.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,"if":true,unless:true,"with":true,log:true,lookup:true};if(knownHelpers){for(var _name in knownHelpers){if(_name in knownHelpers){options.knownHelpers[_name]=knownHelpers[_name]}}}return this.accept(program)},compileProgram:function compileProgram(program){var childCompiler=new this.compiler,result=childCompiler.compile(program,this.options),guid=this.guid++;this.usePartial=this.usePartial||result.usePartial;this.children[guid]=result;this.useDepths=this.useDepths||result.useDepths;return guid},accept:function accept(node){if(!this[node.type]){throw new _exception2["default"]("Unknown type: "+node.type,node)}this.sourceNode.unshift(node);var ret=this[node.type](node);this.sourceNode.shift();return ret},Program:function Program(program){this.options.blockParams.unshift(program.blockParams);var body=program.body,bodyLength=body.length;for(var i=0;i<bodyLength;i++){this.accept(body[i])}this.options.blockParams.shift();this.isSimple=bodyLength===1;this.blockParams=program.blockParams?program.blockParams.length:0;return this},BlockStatement:function BlockStatement(block){transformLiteralToPath(block);var program=block.program,inverse=block.inverse;program=program&&this.compileProgram(program);inverse=inverse&&this.compileProgram(inverse);var type=this.classifySexpr(block);if(type==="helper"){this.helperSexpr(block,program,inverse)}else if(type==="simple"){this.simpleSexpr(block);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.opcode("emptyHash");this.opcode("blockValue",block.path.original)}else{this.ambiguousSexpr(block,program,inverse);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.opcode("emptyHash");this.opcode("ambiguousBlockValue")}this.opcode("append")},DecoratorBlock:function DecoratorBlock(decorator){var program=decorator.program&&this.compileProgram(decorator.program);var params=this.setupFullMustacheParams(decorator,program,undefined),path=decorator.path;this.useDecorators=true;this.opcode("registerDecorator",params.length,path.original)},PartialStatement:function PartialStatement(partial){this.usePartial=true;var program=partial.program;if(program){program=this.compileProgram(partial.program)}var params=partial.params;if(params.length>1){throw new _exception2["default"]("Unsupported number of partial arguments: "+params.length,partial)}else if(!params.length){if(this.options.explicitPartialContext){this.opcode("pushLiteral","undefined")}else{params.push({type:"PathExpression",parts:[],depth:0})}}var partialName=partial.name.original,isDynamic=partial.name.type==="SubExpression";if(isDynamic){this.accept(partial.name)}this.setupFullMustacheParams(partial,program,undefined,true);var indent=partial.indent||"";if(this.options.preventIndent&&indent){this.opcode("appendContent",indent);indent=""}this.opcode("invokePartial",isDynamic,partialName,indent);this.opcode("append")},PartialBlockStatement:function PartialBlockStatement(partialBlock){this.PartialStatement(partialBlock)},MustacheStatement:function MustacheStatement(mustache){this.SubExpression(mustache);if(mustache.escaped&&!this.options.noEscape){this.opcode("appendEscaped")}else{this.opcode("append")}},Decorator:function Decorator(decorator){this.DecoratorBlock(decorator)},ContentStatement:function ContentStatement(content){if(content.value){this.opcode("appendContent",content.value)}},CommentStatement:function CommentStatement(){},SubExpression:function SubExpression(sexpr){transformLiteralToPath(sexpr);var type=this.classifySexpr(sexpr);if(type==="simple"){this.simpleSexpr(sexpr)}else if(type==="helper"){this.helperSexpr(sexpr)}else{this.ambiguousSexpr(sexpr)}},ambiguousSexpr:function ambiguousSexpr(sexpr,program,inverse){var path=sexpr.path,name=path.parts[0],isBlock=program!=null||inverse!=null;this.opcode("getContext",path.depth);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);path.strict=true;this.accept(path);this.opcode("invokeAmbiguous",name,isBlock)},simpleSexpr:function simpleSexpr(sexpr){var path=sexpr.path;path.strict=true;this.accept(path);this.opcode("resolvePossibleLambda")},helperSexpr:function helperSexpr(sexpr,program,inverse){var params=this.setupFullMustacheParams(sexpr,program,inverse),path=sexpr.path,name=path.parts[0];if(this.options.knownHelpers[name]){this.opcode("invokeKnownHelper",params.length,name)}else if(this.options.knownHelpersOnly){throw new _exception2["default"]("You specified knownHelpersOnly, but used the unknown helper "+name,sexpr)}else{path.strict=true;path.falsy=true;this.accept(path);this.opcode("invokeHelper",params.length,path.original,_ast2["default"].helpers.simpleId(path))}},PathExpression:function PathExpression(path){this.addDepth(path.depth);this.opcode("getContext",path.depth);var name=path.parts[0],scoped=_ast2["default"].helpers.scopedId(path),blockParamId=!path.depth&&!scoped&&this.blockParamIndex(name);if(blockParamId){this.opcode("lookupBlockParam",blockParamId,path.parts)}else if(!name){this.opcode("pushContext")}else if(path.data){this.options.data=true;this.opcode("lookupData",path.depth,path.parts,path.strict)}else{this.opcode("lookupOnContext",path.parts,path.falsy,path.strict,scoped)}},StringLiteral:function StringLiteral(string){this.opcode("pushString",string.value)},NumberLiteral:function NumberLiteral(number){this.opcode("pushLiteral",number.value)},BooleanLiteral:function BooleanLiteral(bool){this.opcode("pushLiteral",bool.value)},UndefinedLiteral:function UndefinedLiteral(){this.opcode("pushLiteral","undefined")},NullLiteral:function NullLiteral(){this.opcode("pushLiteral","null")},Hash:function Hash(hash){var pairs=hash.pairs,i=0,l=pairs.length;this.opcode("pushHash");for(;i<l;i++){this.pushParam(pairs[i].value)}while(i--){this.opcode("assignToHash",pairs[i].key)}this.opcode("popHash")},opcode:function opcode(name){this.opcodes.push({opcode:name,args:slice.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function addDepth(depth){if(!depth){return}this.useDepths=true},classifySexpr:function classifySexpr(sexpr){var isSimple=_ast2["default"].helpers.simpleId(sexpr.path);var isBlockParam=isSimple&&!!this.blockParamIndex(sexpr.path.parts[0]);var isHelper=!isBlockParam&&_ast2["default"].helpers.helperExpression(sexpr);var isEligible=!isBlockParam&&(isHelper||isSimple);if(isEligible&&!isHelper){var _name2=sexpr.path.parts[0],options=this.options;if(options.knownHelpers[_name2]){isHelper=true}else if(options.knownHelpersOnly){isEligible=false}}if(isHelper){return"helper"}else if(isEligible){return"ambiguous"}else{return"simple"}},pushParams:function pushParams(params){for(var i=0,l=params.length;i<l;i++){this.pushParam(params[i])}},pushParam:function pushParam(val){var value=val.value!=null?val.value:val.original||"";if(this.stringParams){if(value.replace){value=value.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")}if(val.depth){this.addDepth(val.depth)}this.opcode("getContext",val.depth||0);this.opcode("pushStringParam",value,val.type);if(val.type==="SubExpression"){this.accept(val)}}else{if(this.trackIds){var blockParamIndex=undefined;if(val.parts&&!_ast2["default"].helpers.scopedId(val)&&!val.depth){blockParamIndex=this.blockParamIndex(val.parts[0])}if(blockParamIndex){var blockParamChild=val.parts.slice(1).join(".");this.opcode("pushId","BlockParam",blockParamIndex,blockParamChild)}else{value=val.original||value;if(value.replace){value=value.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")}this.opcode("pushId",val.type,value)}}this.accept(val)}},setupFullMustacheParams:function setupFullMustacheParams(sexpr,program,inverse,omitEmpty){var params=sexpr.params;this.pushParams(params);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);if(sexpr.hash){this.accept(sexpr.hash)}else{this.opcode("emptyHash",omitEmpty)}return params},blockParamIndex:function blockParamIndex(name){for(var depth=0,len=this.options.blockParams.length;depth<len;depth++){var blockParams=this.options.blockParams[depth],param=blockParams&&_utils.indexOf(blockParams,name);if(blockParams&&param>=0){return[depth,param]}}}};function precompile(input,options,env){if(input==null||typeof input!=="string"&&input.type!=="Program"){throw new _exception2["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+input)}options=options||{};if(!("data"in options)){options.data=true}if(options.compat){options.useDepths=true}var ast=env.parse(input,options),environment=(new env.Compiler).compile(ast,options);return(new env.JavaScriptCompiler).compile(environment,options)}function compile(input,options,env){if(options===undefined)options={};if(input==null||typeof input!=="string"&&input.type!=="Program"){throw new _exception2["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+input)}if(!("data"in options)){options.data=true}if(options.compat){options.useDepths=true}var compiled=undefined;function compileInput(){var ast=env.parse(input,options),environment=(new env.Compiler).compile(ast,options),templateSpec=(new env.JavaScriptCompiler).compile(environment,options,undefined,true);return env.template(templateSpec)}function ret(context,execOptions){if(!compiled){compiled=compileInput()}return compiled.call(this,context,execOptions)}ret._setup=function(setupOptions){if(!compiled){compiled=compileInput()}return compiled._setup(setupOptions)};ret._child=function(i,data,blockParams,depths){if(!compiled){compiled=compileInput()}return compiled._child(i,data,blockParams,depths)};return ret}function argEquals(a,b){if(a===b){return true}if(_utils.isArray(a)&&_utils.isArray(b)&&a.length===b.length){for(var i=0;i<a.length;i++){if(!argEquals(a[i],b[i])){return false}}return true}}function transformLiteralToPath(sexpr){if(!sexpr.path.parts){var literal=sexpr.path;sexpr.path={type:"PathExpression",data:false,depth:0,parts:[literal.original+""],original:literal.original+"",loc:literal.loc}}}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1)["default"];exports.__esModule=true;var _base=__webpack_require__(4);var _exception=__webpack_require__(6);var _exception2=_interopRequireDefault(_exception);var _utils=__webpack_require__(5);var _codeGen=__webpack_require__(29);var _codeGen2=_interopRequireDefault(_codeGen);function Literal(value){this.value=value}function JavaScriptCompiler(){}JavaScriptCompiler.prototype={nameLookup:function nameLookup(parent,name){if(JavaScriptCompiler.isValidJavaScriptVariableName(name)){return[parent,".",name]}else{return[parent,"[",JSON.stringify(name),"]"]}},depthedLookup:function depthedLookup(name){return[this.aliasable("container.lookup"),'(depths, "',name,'")']},compilerInfo:function compilerInfo(){var revision=_base.COMPILER_REVISION,versions=_base.REVISION_CHANGES[revision];return[revision,versions]},appendToBuffer:function appendToBuffer(source,location,explicit){if(!_utils.isArray(source)){source=[source]}source=this.source.wrap(source,location);if(this.environment.isSimple){return["return ",source,";"]}else if(explicit){return["buffer += ",source,";"]}else{source.appendToBuffer=true;return source}},initializeBuffer:function initializeBuffer(){return this.quotedString("")},compile:function compile(environment,options,context,asObject){this.environment=environment;this.options=options;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!asObject;this.name=this.environment.name;this.isChild=!!context;this.context=context||{decorators:[],programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(environment,options);this.useDepths=this.useDepths||environment.useDepths||environment.useDecorators||this.options.compat;this.useBlockParams=this.useBlockParams||environment.useBlockParams;var opcodes=environment.opcodes,opcode=undefined,firstLoc=undefined,i=undefined,l=undefined;for(i=0,l=opcodes.length;i<l;i++){opcode=opcodes[i];this.source.currentLocation=opcode.loc;firstLoc=firstLoc||opcode.loc;this[opcode.opcode].apply(this,opcode.args)}this.source.currentLocation=firstLoc;this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length){throw new _exception2["default"]("Compile completed with content left on stack")}if(!this.decorators.isEmpty()){this.useDecorators=true;this.decorators.prepend("var decorators = container.decorators;\n");this.decorators.push("return fn;");if(asObject){this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()])}else{this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n");this.decorators.push("}\n");this.decorators=this.decorators.merge()}}else{this.decorators=undefined}var fn=this.createFunctionContext(asObject);if(!this.isChild){var ret={compiler:this.compilerInfo(),main:fn};if(this.decorators){ret.main_d=this.decorators;ret.useDecorators=true}var _context=this.context;var programs=_context.programs;var decorators=_context.decorators;for(i=0,l=programs.length;i<l;i++){if(programs[i]){ret[i]=programs[i];if(decorators[i]){ret[i+"_d"]=decorators[i];ret.useDecorators=true}}}if(this.environment.usePartial){ret.usePartial=true}if(this.options.data){ret.useData=true}if(this.useDepths){ret.useDepths=true}if(this.useBlockParams){ret.useBlockParams=true}if(this.options.compat){ret.compat=true}if(!asObject){ret.compiler=JSON.stringify(ret.compiler);this.source.currentLocation={start:{line:1,column:0}};ret=this.objectLiteral(ret);if(options.srcName){ret=ret.toStringWithSourceMap({file:options.destName});ret.map=ret.map&&ret.map.toString()}else{ret=ret.toString()}}else{ret.compilerOptions=this.options}return ret}else{return fn}},preamble:function preamble(){this.lastContext=0;this.source=new _codeGen2["default"](this.options.srcName);this.decorators=new _codeGen2["default"](this.options.srcName)},createFunctionContext:function createFunctionContext(asObject){var varDeclarations="";var locals=this.stackVars.concat(this.registers.list);if(locals.length>0){varDeclarations+=", "+locals.join(", ")}var aliasCount=0;for(var alias in this.aliases){var node=this.aliases[alias];if(this.aliases.hasOwnProperty(alias)&&node.children&&node.referenceCount>1){varDeclarations+=", alias"+ ++aliasCount+"="+alias;node.children[0]="alias"+aliasCount}}var params=["container","depth0","helpers","partials","data"];if(this.useBlockParams||this.useDepths){params.push("blockParams")}if(this.useDepths){params.push("depths")}var source=this.mergeSource(varDeclarations);if(asObject){params.push(source);return Function.apply(this,params)}else{return this.source.wrap(["function(",params.join(","),") {\n  ",source,"}"])}},mergeSource:function mergeSource(varDeclarations){var isSimple=this.environment.isSimple,appendOnly=!this.forceBuffer,appendFirst=undefined,sourceSeen=undefined,bufferStart=undefined,bufferEnd=undefined;this.source.each(function(line){if(line.appendToBuffer){if(bufferStart){line.prepend("  + ")}else{bufferStart=line}bufferEnd=line}else{if(bufferStart){if(!sourceSeen){appendFirst=true}else{bufferStart.prepend("buffer += ")}bufferEnd.add(";");bufferStart=bufferEnd=undefined}sourceSeen=true;if(!isSimple){appendOnly=false}}});if(appendOnly){if(bufferStart){bufferStart.prepend("return ");bufferEnd.add(";")}else if(!sourceSeen){this.source.push('return "";')}}else{varDeclarations+=", buffer = "+(appendFirst?"":this.initializeBuffer());if(bufferStart){bufferStart.prepend("return buffer + ");bufferEnd.add(";")}else{this.source.push("return buffer;")}}if(varDeclarations){this.source.prepend("var "+varDeclarations.substring(2)+(appendFirst?"":";\n"))}return this.source.merge()},blockValue:function blockValue(name){var blockHelperMissing=this.aliasable("helpers.blockHelperMissing"),params=[this.contextName(0)];this.setupHelperArgs(name,0,params);var blockName=this.popStack();params.splice(1,0,blockName);this.push(this.source.functionCall(blockHelperMissing,"call",params))},ambiguousBlockValue:function ambiguousBlockValue(){var blockHelperMissing=this.aliasable("helpers.blockHelperMissing"),params=[this.contextName(0)];this.setupHelperArgs("",0,params,true);this.flushInline();var current=this.topStack();params.splice(1,0,current);this.pushSource(["if (!",this.lastHelper,") { ",current," = ",this.source.functionCall(blockHelperMissing,"call",params),"}"])},appendContent:function appendContent(content){if(this.pendingContent){content=this.pendingContent+content}else{this.pendingLocation=this.source.currentLocation}this.pendingContent=content},append:function append(){if(this.isInline()){this.replaceStack(function(current){return[" != null ? ",current,' : ""']});this.pushSource(this.appendToBuffer(this.popStack()))}else{var local=this.popStack();this.pushSource(["if (",local," != null) { ",this.appendToBuffer(local,undefined,true)," }"]);if(this.environment.isSimple){this.pushSource(["else { ",this.appendToBuffer("''",undefined,true)," }"])}}},appendEscaped:function appendEscaped(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function getContext(depth){this.lastContext=depth},pushContext:function pushContext(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function lookupOnContext(parts,falsy,strict,scoped){var i=0;if(!scoped&&this.options.compat&&!this.lastContext){this.push(this.depthedLookup(parts[i++]))}else{this.pushContext()}this.resolvePath("context",parts,i,falsy,strict)},lookupBlockParam:function lookupBlockParam(blockParamId,parts){this.useBlockParams=true;this.push(["blockParams[",blockParamId[0],"][",blockParamId[1],"]"]);this.resolvePath("context",parts,1)},lookupData:function lookupData(depth,parts,strict){if(!depth){
this.pushStackLiteral("data")}else{this.pushStackLiteral("container.data(data, "+depth+")")}this.resolvePath("data",parts,0,true,strict)},resolvePath:function resolvePath(type,parts,i,falsy,strict){var _this=this;if(this.options.strict||this.options.assumeObjects){this.push(strictLookup(this.options.strict&&strict,this,parts,type));return}var len=parts.length;for(;i<len;i++){this.replaceStack(function(current){var lookup=_this.nameLookup(current,parts[i],type);if(!falsy){return[" != null ? ",lookup," : ",current]}else{return[" && ",lookup]}})}},resolvePossibleLambda:function resolvePossibleLambda(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function pushStringParam(string,type){this.pushContext();this.pushString(type);if(type!=="SubExpression"){if(typeof string==="string"){this.pushString(string)}else{this.pushStackLiteral(string)}}},emptyHash:function emptyHash(omitEmpty){if(this.trackIds){this.push("{}")}if(this.stringParams){this.push("{}");this.push("{}")}this.pushStackLiteral(omitEmpty?"undefined":"{}")},pushHash:function pushHash(){if(this.hash){this.hashes.push(this.hash)}this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function popHash(){var hash=this.hash;this.hash=this.hashes.pop();if(this.trackIds){this.push(this.objectLiteral(hash.ids))}if(this.stringParams){this.push(this.objectLiteral(hash.contexts));this.push(this.objectLiteral(hash.types))}this.push(this.objectLiteral(hash.values))},pushString:function pushString(string){this.pushStackLiteral(this.quotedString(string))},pushLiteral:function pushLiteral(value){this.pushStackLiteral(value)},pushProgram:function pushProgram(guid){if(guid!=null){this.pushStackLiteral(this.programExpression(guid))}else{this.pushStackLiteral(null)}},registerDecorator:function registerDecorator(paramSize,name){var foundDecorator=this.nameLookup("decorators",name,"decorator"),options=this.setupHelperArgs(name,paramSize);this.decorators.push(["fn = ",this.decorators.functionCall(foundDecorator,"",["fn","props","container",options])," || fn;"])},invokeHelper:function invokeHelper(paramSize,name,isSimple){var nonHelper=this.popStack(),helper=this.setupHelper(paramSize,name),simple=isSimple?[helper.name," || "]:"";var lookup=["("].concat(simple,nonHelper);if(!this.options.strict){lookup.push(" || ",this.aliasable("helpers.helperMissing"))}lookup.push(")");this.push(this.source.functionCall(lookup,"call",helper.callParams))},invokeKnownHelper:function invokeKnownHelper(paramSize,name){var helper=this.setupHelper(paramSize,name);this.push(this.source.functionCall(helper.name,"call",helper.callParams))},invokeAmbiguous:function invokeAmbiguous(name,helperCall){this.useRegister("helper");var nonHelper=this.popStack();this.emptyHash();var helper=this.setupHelper(0,name,helperCall);var helperName=this.lastHelper=this.nameLookup("helpers",name,"helper");var lookup=["(","(helper = ",helperName," || ",nonHelper,")"];if(!this.options.strict){lookup[0]="(helper = ";lookup.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))}this.push(["(",lookup,helper.paramsInit?["),(",helper.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",helper.callParams)," : helper))"])},invokePartial:function invokePartial(isDynamic,name,indent){var params=[],options=this.setupParams(name,1,params);if(isDynamic){name=this.popStack();delete options.name}if(indent){options.indent=JSON.stringify(indent)}options.helpers="helpers";options.partials="partials";options.decorators="container.decorators";if(!isDynamic){params.unshift(this.nameLookup("partials",name,"partial"))}else{params.unshift(name)}if(this.options.compat){options.depths="depths"}options=this.objectLiteral(options);params.push(options);this.push(this.source.functionCall("container.invokePartial","",params))},assignToHash:function assignToHash(key){var value=this.popStack(),context=undefined,type=undefined,id=undefined;if(this.trackIds){id=this.popStack()}if(this.stringParams){type=this.popStack();context=this.popStack()}var hash=this.hash;if(context){hash.contexts[key]=context}if(type){hash.types[key]=type}if(id){hash.ids[key]=id}hash.values[key]=value},pushId:function pushId(type,name,child){if(type==="BlockParam"){this.pushStackLiteral("blockParams["+name[0]+"].path["+name[1]+"]"+(child?" + "+JSON.stringify("."+child):""))}else if(type==="PathExpression"){this.pushString(name)}else if(type==="SubExpression"){this.pushStackLiteral("true")}else{this.pushStackLiteral("null")}},compiler:JavaScriptCompiler,compileChildren:function compileChildren(environment,options){var children=environment.children,child=undefined,compiler=undefined;for(var i=0,l=children.length;i<l;i++){child=children[i];compiler=new this.compiler;var index=this.matchExistingProgram(child);if(index==null){this.context.programs.push("");index=this.context.programs.length;child.index=index;child.name="program"+index;this.context.programs[index]=compiler.compile(child,options,this.context,!this.precompile);this.context.decorators[index]=compiler.decorators;this.context.environments[index]=child;this.useDepths=this.useDepths||compiler.useDepths;this.useBlockParams=this.useBlockParams||compiler.useBlockParams}else{child.index=index;child.name="program"+index;this.useDepths=this.useDepths||child.useDepths;this.useBlockParams=this.useBlockParams||child.useBlockParams}}},matchExistingProgram:function matchExistingProgram(child){for(var i=0,len=this.context.environments.length;i<len;i++){var environment=this.context.environments[i];if(environment&&environment.equals(child)){return i}}},programExpression:function programExpression(guid){var child=this.environment.children[guid],programParams=[child.index,"data",child.blockParams];if(this.useBlockParams||this.useDepths){programParams.push("blockParams")}if(this.useDepths){programParams.push("depths")}return"container.program("+programParams.join(", ")+")"},useRegister:function useRegister(name){if(!this.registers[name]){this.registers[name]=true;this.registers.list.push(name)}},push:function push(expr){if(!(expr instanceof Literal)){expr=this.source.wrap(expr)}this.inlineStack.push(expr);return expr},pushStackLiteral:function pushStackLiteral(item){this.push(new Literal(item))},pushSource:function pushSource(source){if(this.pendingContent){this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation));this.pendingContent=undefined}if(source){this.source.push(source)}},replaceStack:function replaceStack(callback){var prefix=["("],stack=undefined,createdStack=undefined,usedLiteral=undefined;if(!this.isInline()){throw new _exception2["default"]("replaceStack on non-inline")}var top=this.popStack(true);if(top instanceof Literal){stack=[top.value];prefix=["(",stack];usedLiteral=true}else{createdStack=true;var _name=this.incrStack();prefix=["((",this.push(_name)," = ",top,")"];stack=this.topStack()}var item=callback.call(this,stack);if(!usedLiteral){this.popStack()}if(createdStack){this.stackSlot--}this.push(prefix.concat(item,")"))},incrStack:function incrStack(){this.stackSlot++;if(this.stackSlot>this.stackVars.length){this.stackVars.push("stack"+this.stackSlot)}return this.topStackName()},topStackName:function topStackName(){return"stack"+this.stackSlot},flushInline:function flushInline(){var inlineStack=this.inlineStack;this.inlineStack=[];for(var i=0,len=inlineStack.length;i<len;i++){var entry=inlineStack[i];if(entry instanceof Literal){this.compileStack.push(entry)}else{var stack=this.incrStack();this.pushSource([stack," = ",entry,";"]);this.compileStack.push(stack)}}},isInline:function isInline(){return this.inlineStack.length},popStack:function popStack(wrapped){var inline=this.isInline(),item=(inline?this.inlineStack:this.compileStack).pop();if(!wrapped&&item instanceof Literal){return item.value}else{if(!inline){if(!this.stackSlot){throw new _exception2["default"]("Invalid stack pop")}this.stackSlot--}return item}},topStack:function topStack(){var stack=this.isInline()?this.inlineStack:this.compileStack,item=stack[stack.length-1];if(item instanceof Literal){return item.value}else{return item}},contextName:function contextName(context){if(this.useDepths&&context){return"depths["+context+"]"}else{return"depth"+context}},quotedString:function quotedString(str){return this.source.quotedString(str)},objectLiteral:function objectLiteral(obj){return this.source.objectLiteral(obj)},aliasable:function aliasable(name){var ret=this.aliases[name];if(ret){ret.referenceCount++;return ret}ret=this.aliases[name]=this.source.wrap(name);ret.aliasable=true;ret.referenceCount=1;return ret},setupHelper:function setupHelper(paramSize,name,blockHelper){var params=[],paramsInit=this.setupHelperArgs(name,paramSize,params,blockHelper);var foundHelper=this.nameLookup("helpers",name,"helper"),callContext=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:params,paramsInit:paramsInit,name:foundHelper,callParams:[callContext].concat(params)}},setupParams:function setupParams(helper,paramSize,params){var options={},contexts=[],types=[],ids=[],objectArgs=!params,param=undefined;if(objectArgs){params=[]}options.name=this.quotedString(helper);options.hash=this.popStack();if(this.trackIds){options.hashIds=this.popStack()}if(this.stringParams){options.hashTypes=this.popStack();options.hashContexts=this.popStack()}var inverse=this.popStack(),program=this.popStack();if(program||inverse){options.fn=program||"container.noop";options.inverse=inverse||"container.noop"}var i=paramSize;while(i--){param=this.popStack();params[i]=param;if(this.trackIds){ids[i]=this.popStack()}if(this.stringParams){types[i]=this.popStack();contexts[i]=this.popStack()}}if(objectArgs){options.args=this.source.generateArray(params)}if(this.trackIds){options.ids=this.source.generateArray(ids)}if(this.stringParams){options.types=this.source.generateArray(types);options.contexts=this.source.generateArray(contexts)}if(this.options.data){options.data="data"}if(this.useBlockParams){options.blockParams="blockParams"}return options},setupHelperArgs:function setupHelperArgs(helper,paramSize,params,useRegister){var options=this.setupParams(helper,paramSize,params);options=this.objectLiteral(options);if(useRegister){this.useRegister("options");params.push("options");return["options=",options]}else if(params){params.push(options);return""}else{return options}}};(function(){var reservedWords=("break else new var"+" case finally return void"+" catch for switch while"+" continue function this with"+" default if throw"+" delete in try"+" do instanceof typeof"+" abstract enum int short"+" boolean export interface static"+" byte extends long super"+" char final native synchronized"+" class float package throws"+" const goto private transient"+" debugger implements protected volatile"+" double import public let yield await"+" null true false").split(" ");var compilerWords=JavaScriptCompiler.RESERVED_WORDS={};for(var i=0,l=reservedWords.length;i<l;i++){compilerWords[reservedWords[i]]=true}})();JavaScriptCompiler.isValidJavaScriptVariableName=function(name){return!JavaScriptCompiler.RESERVED_WORDS[name]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name)};function strictLookup(requireTerminal,compiler,parts,type){var stack=compiler.popStack(),i=0,len=parts.length;if(requireTerminal){len--}for(;i<len;i++){stack=compiler.nameLookup(stack,parts[i],type)}if(requireTerminal){return[compiler.aliasable("container.strict"),"(",stack,", ",compiler.quotedString(parts[i]),")"]}else{return stack}}exports["default"]=JavaScriptCompiler;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(5);var SourceNode=undefined;try{if(false){var SourceMap=require("source-map");SourceNode=SourceMap.SourceNode}}catch(err){}if(!SourceNode){SourceNode=function(line,column,srcFile,chunks){this.src="";if(chunks){this.add(chunks)}};SourceNode.prototype={add:function add(chunks){if(_utils.isArray(chunks)){chunks=chunks.join("")}this.src+=chunks},prepend:function prepend(chunks){if(_utils.isArray(chunks)){chunks=chunks.join("")}this.src=chunks+this.src},toStringWithSourceMap:function toStringWithSourceMap(){return{code:this.toString()}},toString:function toString(){return this.src}}}function castChunk(chunk,codeGen,loc){if(_utils.isArray(chunk)){var ret=[];for(var i=0,len=chunk.length;i<len;i++){ret.push(codeGen.wrap(chunk[i],loc))}return ret}else if(typeof chunk==="boolean"||typeof chunk==="number"){return chunk+""}return chunk}function CodeGen(srcFile){this.srcFile=srcFile;this.source=[]}CodeGen.prototype={isEmpty:function isEmpty(){return!this.source.length},prepend:function prepend(source,loc){this.source.unshift(this.wrap(source,loc))},push:function push(source,loc){this.source.push(this.wrap(source,loc))},merge:function merge(){var source=this.empty();this.each(function(line){source.add(["  ",line,"\n"])});return source},each:function each(iter){for(var i=0,len=this.source.length;i<len;i++){iter(this.source[i])}},empty:function empty(){var loc=this.currentLocation||{start:{}};return new SourceNode(loc.start.line,loc.start.column,this.srcFile)},wrap:function wrap(chunk){var loc=arguments.length<=1||arguments[1]===undefined?this.currentLocation||{start:{}}:arguments[1];if(chunk instanceof SourceNode){return chunk}chunk=castChunk(chunk,this,loc);return new SourceNode(loc.start.line,loc.start.column,this.srcFile,chunk)},functionCall:function functionCall(fn,type,params){params=this.generateList(params);return this.wrap([fn,type?"."+type+"(":"(",params,")"])},quotedString:function quotedString(str){return'"'+(str+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function objectLiteral(obj){var pairs=[];for(var key in obj){if(obj.hasOwnProperty(key)){var value=castChunk(obj[key],this);if(value!=="undefined"){pairs.push([this.quotedString(key),":",value])}}}var ret=this.generateList(pairs);ret.prepend("{");ret.add("}");return ret},generateList:function generateList(entries){var ret=this.empty();for(var i=0,len=entries.length;i<len;i++){if(i){ret.add(",")}ret.add(castChunk(entries[i],this))}return ret},generateArray:function generateArray(entries){var ret=this.generateList(entries);ret.prepend("[");ret.add("]");return ret}};exports["default"]=CodeGen;module.exports=exports["default"]}])});(function(console,$hx_exports){"use strict";function $extend(from,fields){function Inherit(){}Inherit.prototype=from;var proto=new Inherit;for(var name in fields)proto[name]=fields[name];if(fields.toString!==Object.prototype.toString)proto.toString=fields.toString;return proto}var EReg=function(r,opt){opt=opt.split("u").join("");this.r=new RegExp(r,opt)};EReg.__name__=true;EReg.prototype={match:function(s){if(this.r.global)this.r.lastIndex=0;this.r.m=this.r.exec(s);this.r.s=s;return this.r.m!=null},matched:function(n){if(this.r.m!=null&&n>=0&&n<this.r.m.length)return this.r.m[n];else throw new js__$Boot_HaxeError("EReg::matched")},matchedPos:function(){if(this.r.m==null)throw new js__$Boot_HaxeError("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(s,pos,len){if(len==null)len=-1;if(this.r.global){this.r.lastIndex=pos;this.r.m=this.r.exec(len<0?s:HxOverrides.substr(s,0,pos+len));var b=this.r.m!=null;if(b)this.r.s=s;return b}else{var b1=this.match(len<0?HxOverrides.substr(s,pos,null):HxOverrides.substr(s,pos,len));if(b1){this.r.s=s;this.r.m.index+=pos}return b1}},replace:function(s,by){return s.replace(this.r,by)},map:function(s,f){var offset=0;var buf=new StringBuf;do{if(offset>=s.length)break;else if(!this.matchSub(s,offset)){buf.add(HxOverrides.substr(s,offset,null));break}var p=this.matchedPos();buf.add(HxOverrides.substr(s,offset,p.pos-offset));buf.add(f(this));if(p.len==0){buf.add(HxOverrides.substr(s,p.pos,1));offset=p.pos+1}else offset=p.pos+p.len}while(this.r.global);if(!this.r.global&&offset>0&&offset<s.length)buf.add(HxOverrides.substr(s,offset,null));return buf.b}};var HxOverrides=function(){};HxOverrides.__name__=true;HxOverrides.cca=function(s,index){var x=s.charCodeAt(index);if(x!=x)return undefined;return x};HxOverrides.substr=function(s,pos,len){if(pos!=null&&pos!=0&&len!=null&&len<0)return"";if(len==null)len=s.length;if(pos<0){pos=s.length+pos;if(pos<0)pos=0}else if(len<0)len=s.length+len-pos;return s.substr(pos,len)};Math.__name__=true;var Std=function(){};Std.__name__=true;Std.string=function(s){return js_Boot.__string_rec(s,"")};var StringBuf=function(){this.b=""};StringBuf.__name__=true;StringBuf.prototype={add:function(x){this.b+=Std.string(x)}};var StringTools=function(){};StringTools.__name__=true;StringTools.isSpace=function(s,pos){var c=HxOverrides.cca(s,pos);return c>8&&c<14||c==32};StringTools.ltrim=function(s){var l=s.length;var r=0;while(r<l&&StringTools.isSpace(s,r))r++;if(r>0)return HxOverrides.substr(s,r,l-r);else return s};StringTools.rtrim=function(s){var l=s.length;var r=0;while(r<l&&StringTools.isSpace(s,l-r-1))r++;if(r>0)return HxOverrides.substr(s,0,l-r);else return s};StringTools.trim=function(s){return StringTools.ltrim(StringTools.rtrim(s))};StringTools.replace=function(s,sub,by){return s.split(sub).join(by)};var TSF=$hx_exports.TSF=function(){};TSF.__name__=true;TSF.main=function(){var baseA=TSF.placeholder_base.split("");baseA.sort(function(a,b){return Math.round(5-Math.random()*10)});TSF.placeholder_base=baseA.join("")};TSF.getTokensArray=function(str,mode,flags){var new_txt=TSF.getTokensString(str,mode,flags);var start_pos=0;var A=[];var before;new EReg("<(.*?)>","g").map(new_txt,function(r){var m=r.matched(0);var pos=r.matchedPos();if(pos.pos!=start_pos){before=HxOverrides.substr(new_txt,start_pos,pos.pos-start_pos);A.push(before)}A.push(m);start_pos=pos.pos+pos.len;return m});var last_str=HxOverrides.substr(new_txt,start_pos,null);if(last_str!="")A.push(last_str);if(A.join("")!=new_txt){console.log("---------------------------------------------------------------");console.log("new_txt:"+new_txt);console.log("A.join: "+A.join(""));console.log("A:      "+Std.string(A));console.log("---------------------------------------------------------------")}return A};TSF.getTokensString=function(str,mode,flags){TSF.flags=flags;if(mode=="EDIT"||mode=="GROWL"||mode=="NOMRKDWN"||mode=="NORMAL"||mode=="CLEAN")TSF.mode=mode;else return"UNRECOGNIZED MODE:"+mode;var new_txt=StringTools.trim(str);if(new_txt.length==0)return"";var markup_placeholder_map=[];var emoji_placeholder_map=[];if(TSF.mode!="CLEAN")new_txt=TSF.doMarkup(new_txt,markup_placeholder_map,emoji_placeholder_map,TSF.mode);new_txt=new EReg("\\u200B","g").replace(new_txt,"");if(TSF.mode=="GROWL"||TSF.mode=="EDIT"){}else if(TSF.mode=="CLEAN")new_txt=TSF.encodeOutGoingMarkup(new_txt);else if(TSF.mode=="NORMAL"||TSF.mode=="NOMRKDWN"){new_txt=new EReg("<","g").replace(new_txt,"&lt;");new_txt=new EReg(">","g").replace(new_txt,"&gt;");var special_placeholder_map=[];if(TSF.mode!="NOMRKDWN")new_txt=TSF.doSpecials(new_txt,special_placeholder_map);new_txt=TSF.doEmoji(new_txt,emoji_placeholder_map,true);new_txt=new EReg("(\\W|^)(#[A-Fa-f0-9]{6})(\\b)","g").map(new_txt,function(r){var m=r.matched(0);var s1=r.matched(1);var s2=r.matched(2);var s3=r.matched(3);return s1+s2+"<HEX:BLOCK "+s2+">"+s3});new_txt=TSF.swapOutPlaceholders(special_placeholder_map,new_txt);special_placeholder_map=null;new_txt=new EReg("<CODE:START> ","g").replace(new_txt,TSF.CODE_START+TSF.SPACE_HARD);new_txt=new EReg(" <CODE:END>","g").replace(new_txt,TSF.SPACE_HARD+TSF.CODE_END);var _g=0;while(_g<2){var i=_g++;new_txt=new EReg("(.)\n(.)","g").map(new_txt,function(r1){return r1.matched(1)+TSF.LINE_BREAK+r1.matched(2)})}new_txt=new EReg("(.)\n","g").map(new_txt,function(r2){return r2.matched(1)});new_txt=new EReg("\n","g").replace(new_txt,TSF.PARA_BREAK);new_txt=new EReg("<LINE:BREAK><PRE:START>","g").replace(new_txt,TSF.PRE_START);new_txt=new EReg("<LINE:BREAK><QUOTE:START>","g").replace(new_txt,TSF.QUOTE_START);new_txt=new EReg("<PRE:END><LINE:BREAK>","g").replace(new_txt,TSF.PRE_END);new_txt=new EReg("<QUOTE:END><LINE:BREAK>","g").replace(new_txt,TSF.QUOTE_END);new_txt=new EReg("&nbsp;&nbsp;","g").replace(new_txt," "+TSF.LINE_BREAK);new_txt=new EReg("	","g").replace(new_txt,TSF.SPACE_HARD+TSF.SPACE_HARD+TSF.SPACE_HARD+TSF.SPACE_HARD);new_txt=new EReg("  ","g").replace(new_txt," "+TSF.SPACE_HARD);new_txt=new EReg("^ ","g").replace(new_txt,TSF.SPACE_HARD)}new_txt=TSF.swapOutPlaceholders(markup_placeholder_map,new_txt);markup_placeholder_map=null;new_txt=TSF.swapOutPlaceholders(emoji_placeholder_map,new_txt);emoji_placeholder_map=null;return new_txt};TSF.doEmoji=function(str,map,allow_jumbomoji){var token="EMOJI";if(allow_jumbomoji&&TSF.flags&&TSF.flags.jumbomoji&&TSF.jumbomoji_rx.match(str))token="JUMBOMOJI";return TSF.emoji_rx.map(str,function(r){var m=r.matched(0);return TSF.placeholdStr(map,"<"+token+":COLONS "+m+">")})};TSF.doMarkup=function(str,map,emoji_map,mode){str=new EReg("<(.*?)>","g").map(str,function(r){var m=r.matched(0);var s1=r.matched(1);var prefix=HxOverrides.substr(s1,0,1);if(prefix=="#")return TSF.placeholdStr(map,m);if(prefix=="@")return TSF.placeholdStr(map,m);if(prefix=="!")return TSF.placeholdStr(map,m);if(prefix=="%")return TSF.placeholdStr(map,m);var a=s1.split("|");var url=a.shift();url=new EReg('"',"g").replace(url,"&quot;");var label=a.join("|");if(label=="")label=url;label=StringTools.trim(label);if(url.indexOf("<")==0){var safe=s1;safe=new EReg("<","g").replace(safe,"&lt;");safe=new EReg(">","g").replace(safe,"&gt;");safe="&lt;"+safe+"&gt;";return TSF.placeholdStr(map,safe)}label=new EReg("<","g").replace(label,"&lt;");label=new EReg(">","g").replace(label,"&gt;");if(mode=="GROWL"){if(label==url){var display_url;if(url.indexOf("//")>-1)display_url=url.split("//")[1];else display_url=url;display_url=StringTools.trim(display_url);display_url=display_url.substring(0,30);display_url=StringTools.trim(display_url);return display_url+"..."}return"&lt;"+label+"&gt;"}else if(mode=="EDIT")return label;else if(mode=="NORMAL"||mode=="NOMRKDWN"){if(mode!="NOMRKDWN"&&label!=url)label=TSF.doSpecials(label,map);var is_emoji_url=url.indexOf("EMOJI:COLONS")==0;var is_label_url=label==url;if(!is_label_url&&label.indexOf("http")==-1)is_label_url="http://"+label==url||"https://"+label==url;if(!is_label_url||is_emoji_url){var edit_str=TSF.doMarkup(str,[],[],"EDIT");var is_jumbo=edit_str==label&&TSF.jumbomoji_rx.match(edit_str);label=TSF.doEmoji(label,emoji_map,is_jumbo)}}return TSF.placeholdStr(map,"<LINK:START "+url+">"+label+TSF.LINK_END)});return str};TSF.doSpecials=function(str,map){str=TSF.pre_rx.map(str,function(r){var m=r.matched(0);var s1=r.matched(1);var s2=r.matched(2);if(s2==null||s2=="")return m;if(HxOverrides.substr(s2,0,1)=="\n")s2=HxOverrides.substr(s2,1,null);s2=TSF.encodeForPre(s2);s2=TSF.removeSmartQuotes(s2);return s1+TSF.PRE_START+TSF.placeholdStr(map,s2)+TSF.PRE_END});str=StringTools.replace(str,"```",TSF.TBT_PLACEHOLDER);str=TSF.code_rx.map(str,function(r1){var m1=r1.matched(0);var s11=r1.matched(1);var s21=r1.matched(2);if(s21==""||s21==null||HxOverrides.substr(s21,0,1)=="`"||HxOverrides.substr(s21,s21.length-1,1)=="`"||new EReg("<PRE:START>","g").match(s21)&&new EReg("<PRE:END>","g").match(s21))return m1;s21=TSF.removeSmartQuotes(s21);s21=StringTools.replace(s21,TSF.TBT_PLACEHOLDER,"```");return s11+TSF.CODE_START+TSF.placeholdStr(map,s21)+TSF.CODE_END});str=StringTools.replace(str,TSF.TBT_PLACEHOLDER,"```");str=TSF.i_rx.map(str,function(r2){var m2=r2.matched(0);var s12=r2.matched(1);var s22=r2.matched(2);if(s22==""||s22==null||!new EReg("[^_*`~]","").match(s22)||HxOverrides.substr(s22,0,1)=="_"||HxOverrides.substr(s22,s22.length-1,1)=="_")return m2;return s12+TSF.I_START+TSF.doSpecials(s22,map)+TSF.I_END});str=TSF.bold_rx.map(str,function(r3){var m3=r3.matched(0);var s13=r3.matched(1);var s23=r3.matched(2);if(s23==""||s23==null||!new EReg("[^_*`~]","").match(s23)||HxOverrides.substr(s23,0,1)=="*"||HxOverrides.substr(s23,s23.length-1,1)=="*"||HxOverrides.substr(s23,0,1)==" "&&HxOverrides.substr(s23,s23.length-1,1)==" ")return m3;return s13+TSF.B_START+TSF.doSpecials(s23,map)+TSF.B_END});str=TSF.strike_rx.map(str,function(r4){var m4=r4.matched(0);var s14=r4.matched(1);var s24=r4.matched(2);if(s24==""||s24==null||!new EReg("[^_*`~]","").match(s24)||HxOverrides.substr(s24,0,1)=="~"||HxOverrides.substr(s24,s24.length-1,1)=="~"||HxOverrides.substr(s24,0,1)==" "&&HxOverrides.substr(s24,s24.length-1,1)==" ")return m4;return s14+TSF.STRIKE_START+TSF.doSpecials(s24,map)+TSF.STRIKE_END});str=TSF.long_quote_rx.map(str,function(r5){var m5=r5.matched(0);var s15=r5.matched(1);var s25=r5.matched(2);if(m5=="&gt;&gt;&gt;")return"&gt;&gt;&gt;";s25=new EReg("^([\\s]*)(&gt;)*","").map(s25,function(r6){var mb=r6.matched(0);var s2b=r6.matched(2);if(s2b!=""&&s2b!=null)return mb;return""});return s15+TSF.QUOTE_START+TSF.LONGQUOTE_PREFIX+s25+TSF.QUOTE_END});str=TSF.quote_rx.map(str,function(r7){var m6=r7.matched(0);var s16=r7.matched(1);var s26=r7.matched(2);if(m6=="&gt;")return m6;s26=new EReg("\n&gt;","g").replace(s26,"\n"+TSF.QUOTE_PREFIX);return s16+TSF.QUOTE_START+TSF.QUOTE_PREFIX+s26+TSF.QUOTE_END});return str};TSF.placeholdStr=function(map,str){if(str==null||str=="")return"";var nl;if(str.indexOf("\n")==0)nl="\n";else nl="";var placeholder=nl+TSF.placeholder_base+TSF.placeholder_cnt++ +"-";map.push({str:str,placeholder:placeholder});return placeholder};TSF.swapOutPlaceholders=function(map,str){var i=map.length;while(--i>=0){var item=map[i];str=StringTools.replace(str,item.placeholder,new EReg("\\$","g").replace(item.str,"$"+"$"))}return str};TSF.encodeForPre=function(txt){if(txt==null)txt="";else txt=txt;txt=new EReg("<","g").replace(txt,"&lt;");txt=new EReg(">","g").replace(txt,"&gt;");txt=new EReg("\n","g").replace(txt,TSF.LINE_BREAK);return txt};TSF.removeSmartQuotes=function(txt){if(txt==null)txt="";else txt=txt;txt=new EReg("[\\u2018\\u2019]","g").replace(txt,"'");txt=new EReg("[\\u201C\\u201D]","g").replace(txt,'"');return txt};TSF.encodeOutGoingMarkup=function(txt){if(txt==null)txt="";else txt=txt;txt=new EReg("&","g").replace(txt,"&amp;");txt=new EReg("<","g").replace(txt,"&lt;");txt=new EReg(">","g").replace(txt,"&gt;");return txt};var js__$Boot_HaxeError=function(val){Error.call(this);this.val=val;this.message=String(val);if(Error.captureStackTrace)Error.captureStackTrace(this,js__$Boot_HaxeError)};js__$Boot_HaxeError.__name__=true;js__$Boot_HaxeError.__super__=Error;js__$Boot_HaxeError.prototype=$extend(Error.prototype,{});var js_Boot=function(){};js_Boot.__name__=true;js_Boot.__string_rec=function(o,s){if(o==null)return"null";if(s.length>=5)return"<...>";var t=typeof o;if(t=="function"&&(o.__name__||o.__ename__))t="object";switch(t){case"object":if(o instanceof Array){if(o.__enum__){if(o.length==2)return o[0];var str2=o[0]+"(";s+="	";var _g1=2;var _g=o.length;while(_g1<_g){var i1=_g1++;if(i1!=2)str2+=","+js_Boot.__string_rec(o[i1],s);else str2+=js_Boot.__string_rec(o[i1],s)}return str2+")"}var l=o.length;var i;var str1="[";s+="	";var _g2=0;while(_g2<l){var i2=_g2++;str1+=(i2>0?",":"")+js_Boot.__string_rec(o[i2],s)}str1+="]";return str1}var tostr;try{tostr=o.toString}catch(e){if(e instanceof js__$Boot_HaxeError)e=e.val;return"???"}if(tostr!=null&&tostr!=Object.toString&&typeof tostr=="function"){var s2=o.toString();if(s2!="[object Object]")return s2}var k=null;var str="{\n";s+="	";var hasp=o.hasOwnProperty!=null;for(var k in o){if(hasp&&!o.hasOwnProperty(k)){continue}if(k=="prototype"||k=="__class__"||k=="__super__"||k=="__interfaces__"||k=="__properties__"){continue}if(str.length!=2)str+=", \n";str+=s+k+" : "+js_Boot.__string_rec(o[k],s)}s=s.substring(1);str+="\n"+s+"}";return str;case"function":return"<function>";case"string":return o;default:return String(o)}};String.__name__=true;Array.__name__=true;TSF.B_START="<B:START>";TSF.B_END="<B:END>";TSF.PRE_START="<PRE:START>";TSF.PRE_END="<PRE:END>";TSF.CODE_START="<CODE:START>";TSF.CODE_END="<CODE:END>";TSF.I_START="<I:START>";TSF.I_END="<I:END>";TSF.STRIKE_START="<STRIKE:START>";TSF.STRIKE_END="<STRIKE:END>";TSF.QUOTE_START="<QUOTE:START>";TSF.QUOTE_PREFIX="<QUOTE:PREFIX>";TSF.LONGQUOTE_PREFIX="<LONGQUOTE:PREFIX>";TSF.QUOTE_END="<QUOTE:END>";TSF.LINK_START="<LINK:START $>";TSF.LINK_END="<LINK:END>";TSF.LINE_BREAK="<LINE:BREAK>";TSF.PARA_BREAK="<PARA:BREAK>";TSF.SPACE_HARD="<SPACE:HARD>";TSF.EMOJI_COLONS="<EMOJI:COLONS $>";TSF.JUMBOMOJI_COLONS="<JUMBOMOJI:COLONS $>";TSF.HEX_BLOCK="<HEX:BLOCK $>";TSF.TBT_PLACEHOLDER="<TRIPLE_BACKTICK_PLACEHOLDER>";TSF.bold_rx=new EReg('(^|\\s|[\\?\\.,\\-!\\^;:{(\\[%$#+=\\u2000-\\u206F\\u2E00-\\u2E7F"])\\*(.*?\\S *)?\\*(?=$|\\s|[\\?\\.,\'\\-!\\^;:})\\]%$~{\\[<#+=\\u2000-\\u206F\\u2E00-\\u2E7F…"\\uE022])',"g");TSF.pre_rx=new EReg('(^|\\s|[_*\\?\\.,\\-!\\^;:{(\\[%$#+=\\u2000-\\u206F\\u2E00-\\u2E7F"])```([\\s\\S]*?)?```(?=$|\\s|[_*\\?\\.,\\-!\\^;:})\\]%$#+=\\u2000-\\u206F\\u2E00-\\u2E7F…"])',"g");TSF.i_rx=new EReg('(?!:.+:)(^|\\s|[\\?\\.,\\-!\\^;:{(\\[%$#+=\\u2000-\\u206F\\u2E00-\\u2E7F"])_(.*?\\S *)?_(?=$|\\s|[\\?\\.,\'\\-!\\^;:})\\]%$~{\\[<#+=\\u2000-\\u206F\\u2E00-\\u2E7F…"\\uE022])',"g");TSF.strike_rx=new EReg('(^|\\s|[\\?\\.,\\-!\\^;:{(\\[%$#+=\\u2000-\\u206F\\u2E00-\\u2E7F"])~(.*? *\\S)?~(?=$|\\s|[\\?\\.,\'\\-!\\^;:})\\]%$~{\\[<#+=\\u2000-\\u206F\\u2E00-\\u2E7F…"\\uE022])',"g");TSF.code_rx=new EReg('(^|\\s|[\\*\\\\/\\?\\.,\\-!\\^;:{(\\[%$#+=\\u2000-\\u206F\\u2E00-\\u2E7F"])`(.*?\\S *)?`',"g");TSF.quote_rx=new EReg("(^|\n)&gt;(?![\\W_](?:&lt;|&gt;|[\\|/\\\\\\[\\]{}\\(\\)Dpb](?=\\s|$)))(([^\n]*)(\n&gt;[^\n]*)*)","ug");TSF.emoji_rx=new EReg(":[a-zA-Z0-9-_+]+:(:skin-tone-[2-6]:)?","g");TSF.jumbomoji_rx=new EReg("^(:[a-zA-Z0-9-_+]+:(:skin-tone-[2-6]:)*(\\s)*){1,23}$","g");TSF.long_quote_rx=new EReg("(^|\n)&gt;&gt;&gt;([\\s\\S]*$)","");TSF.placeholder_cnt=0;TSF.placeholder_base="-";TSF.main()})(typeof console!="undefined"?console:{log:function(){}},typeof window!="undefined"?window:exports);(function(root,factory){if(typeof exports=="object")module.exports=factory();else if(typeof define=="function"&&define.amd)define(factory);else root.Spinner=factory()})(this,function(){"use strict";var prefixes=["webkit","Moz","ms","O"],animations={},useCssAnimations;function createEl(tag,prop){var el=document.createElement(tag||"div"),n;for(n in prop)el[n]=prop[n];return el}function ins(parent){for(var i=1,n=arguments.length;i<n;i++)parent.appendChild(arguments[i]);return parent}var sheet=function(){var el=createEl("style",{type:"text/css"});ins(document.getElementsByTagName("head")[0],el);return el.sheet||el.styleSheet}();function addAnimation(alpha,trail,i,lines){var name=["opacity",trail,~~(alpha*100),i,lines].join("-"),start=.01+i/lines*100,z=Math.max(1-(1-alpha)/trail*(100-start),alpha),prefix=useCssAnimations.substring(0,useCssAnimations.indexOf("Animation")).toLowerCase(),pre=prefix&&"-"+prefix+"-"||"";if(!animations[name]){sheet.insertRule("@"+pre+"keyframes "+name+"{"+"0%{opacity:"+z+"}"+start+"%{opacity:"+alpha+"}"+(start+.01)+"%{opacity:1}"+(start+trail)%100+"%{opacity:"+alpha+"}"+"100%{opacity:"+z+"}"+"}",sheet.cssRules.length);animations[name]=1}return name}function vendor(el,prop){var s=el.style,pp,i;prop=prop.charAt(0).toUpperCase()+prop.slice(1);for(i=0;i<prefixes.length;i++){pp=prefixes[i]+prop;if(s[pp]!==undefined)return pp}if(s[prop]!==undefined)return prop}function css(el,prop){for(var n in prop)el.style[vendor(el,n)||n]=prop[n];return el}function merge(obj){for(var i=1;i<arguments.length;i++){var def=arguments[i];for(var n in def)if(obj[n]===undefined)obj[n]=def[n]}return obj}function pos(el){var o={x:el.offsetLeft,y:el.offsetTop};while(el=el.offsetParent)o.x+=el.offsetLeft,o.y+=el.offsetTop;return o}function getColor(color,idx){return typeof color=="string"?color:color[idx%color.length]}var defaults={lines:12,
length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:1/4,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};function Spinner(o){if(typeof this=="undefined")return new Spinner(o);this.opts=merge(o||{},Spinner.defaults,defaults)}Spinner.defaults={};merge(Spinner.prototype,{spin:function(target){this.stop();var self=this,o=self.opts,el=self.el=css(createEl(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex}),mid=o.radius+o.length+o.width,ep,tp;if(target){target.insertBefore(el,target.firstChild||null);tp=pos(target);ep=pos(el);css(el,{left:(o.left=="auto"?tp.x-ep.x+(target.offsetWidth>>1):parseInt(o.left,10)+mid)+"px",top:(o.top=="auto"?tp.y-ep.y+(target.offsetHeight>>1):parseInt(o.top,10)+mid)+"px"})}el.setAttribute("role","progressbar");self.lines(el,self.opts);if(!useCssAnimations){var i=0,start=(o.lines-1)*(1-o.direction)/2,alpha,fps=o.fps,f=fps/o.speed,ostep=(1-o.opacity)/(f*o.trail/100),astep=f/o.lines;(function anim(){i++;for(var j=0;j<o.lines;j++){alpha=Math.max(1-(i+(o.lines-j)*astep)%f*ostep,o.opacity);self.opacity(el,j*o.direction+start,alpha,o)}self.timeout=self.el&&setTimeout(anim,~~(1e3/fps))})()}return self},stop:function(){var el=this.el;if(el){clearTimeout(this.timeout);if(el.parentNode)el.parentNode.removeChild(el);this.el=undefined}return this},lines:function(el,o){var i=0,start=(o.lines-1)*(1-o.direction)/2,seg;function fill(color,shadow){return css(createEl(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:color,boxShadow:shadow,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*i+o.rotate)+"deg) translate("+o.radius+"px"+",0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(;i<o.lines;i++){seg=css(createEl(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:useCssAnimations&&addAnimation(o.opacity,o.trail,start+i*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"});if(o.shadow)ins(seg,css(fill("#000","0 0 4px "+"#000"),{top:2+"px"}));ins(el,ins(seg,fill(getColor(o.color,i),"0 0 1px rgba(0,0,0,.1)")))}return el},opacity:function(el,i,val){if(i<el.childNodes.length)el.childNodes[i].style.opacity=val}});function initVML(){function vml(tag,attr){return createEl("<"+tag+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',attr)}sheet.addRule(".spin-vml","behavior:url(#default#VML)");Spinner.prototype.lines=function(el,o){var r=o.length+o.width,s=2*r;function grp(){return css(vml("group",{coordsize:s+" "+s,coordorigin:-r+" "+-r}),{width:s,height:s})}var margin=-(o.width+o.length)*2+"px",g=css(grp(),{position:"absolute",top:margin,left:margin}),i;function seg(i,dx,filter){ins(g,ins(css(grp(),{rotation:360/o.lines*i+"deg",left:~~dx}),ins(css(vml("roundrect",{arcsize:o.corners}),{width:r,height:o.width,left:o.radius,top:-o.width>>1,filter:filter}),vml("fill",{color:getColor(o.color,i),opacity:o.opacity}),vml("stroke",{opacity:0}))))}if(o.shadow)for(i=1;i<=o.lines;i++)seg(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=o.lines;i++)seg(i);return ins(el,g)};Spinner.prototype.opacity=function(el,i,val,o){var c=el.firstChild;o=o.shadow&&o.lines||0;if(c&&i+o<c.childNodes.length){c=c.childNodes[i+o];c=c&&c.firstChild;c=c&&c.firstChild;if(c)c.opacity=val}}}var probe=css(createEl("group"),{behavior:"url(#default#VML)"});if(!vendor(probe,"transform")&&probe.adj)initVML();else useCssAnimations=vendor(probe,"animation");return Spinner});(function($){function CircleProgress(config){this.init(config)}CircleProgress.prototype={value:0,size:100,startAngle:-Math.PI,thickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(0, 0, 0, .1)",animation:{duration:1200,easing:"circleProgressEasing"},animationStartValue:0,reverse:false,lineCap:"butt",constructor:CircleProgress,el:null,canvas:null,ctx:null,radius:0,arcFill:null,lastFrameValue:0,init:function(config){$.extend(this,config);this.radius=this.size/2;this.initWidget();this.initFill();this.draw()},initWidget:function(){var canvas=this.canvas=this.canvas||$("<canvas>").prependTo(this.el)[0];canvas.width=this.size;canvas.height=this.size;this.ctx=canvas.getContext("2d")},initFill:function(){var self=this,fill=this.fill,ctx=this.ctx,size=this.size;if(!fill)throw Error("The fill is not specified!");if(fill.color)this.arcFill=fill.color;if(fill.gradient){var gr=fill.gradient;if(gr.length==1){this.arcFill=gr[0]}else if(gr.length>1){var ga=fill.gradientAngle||0,gd=fill.gradientDirection||[size/2*(1-Math.cos(ga)),size/2*(1+Math.sin(ga)),size/2*(1+Math.cos(ga)),size/2*(1-Math.sin(ga))];var lg=ctx.createLinearGradient.apply(ctx,gd);for(var i=0;i<gr.length;i++){var color=gr[i],pos=i/(gr.length-1);if($.isArray(color)){pos=color[1];color=color[0]}lg.addColorStop(pos,color)}this.arcFill=lg}}if(fill.image){var img;if(fill.image instanceof Image){img=fill.image}else{img=new Image;img.src=fill.image}if(img.complete)setImageFill();else img.onload=setImageFill}function setImageFill(){var bg=$("<canvas>")[0];bg.width=self.size;bg.height=self.size;bg.getContext("2d").drawImage(img,0,0,size,size);self.arcFill=self.ctx.createPattern(bg,"no-repeat");self.drawFrame(self.lastFrameValue)}},draw:function(){if(this.animation)this.drawAnimated(this.value);else this.drawFrame(this.value)},drawFrame:function(v){this.lastFrameValue=v;this.ctx.clearRect(0,0,this.size,this.size);this.drawEmptyArc(v);this.drawArc(v)},drawArc:function(v){var ctx=this.ctx,r=this.radius,t=this.getThickness(),a=this.startAngle;ctx.save();ctx.beginPath();if(!this.reverse){ctx.arc(r,r,r-t/2,a,a+Math.PI*2*v)}else{ctx.arc(r,r,r-t/2,a-Math.PI*2*v,a)}ctx.lineWidth=t;ctx.lineCap=this.lineCap;ctx.strokeStyle=this.arcFill;ctx.stroke();ctx.restore()},drawEmptyArc:function(v){var ctx=this.ctx,r=this.radius,t=this.getThickness(),a=this.startAngle;if(v<1){ctx.save();ctx.beginPath();if(v<=0){ctx.arc(r,r,r-t/2,0,Math.PI*2)}else{if(!this.reverse){ctx.arc(r,r,r-t/2,a+Math.PI*2*v,a)}else{ctx.arc(r,r,r-t/2,a,a-Math.PI*2*v)}}ctx.lineWidth=t;ctx.strokeStyle=this.emptyFill;ctx.stroke();ctx.restore()}},drawAnimated:function(v){var self=this,el=this.el;el.trigger("circle-animation-start");$(this.canvas).stop(true,true).css({animationProgress:0}).animate({animationProgress:1},$.extend({},this.animation,{step:function(animationProgress){var stepValue=self.animationStartValue*(1-animationProgress)+v*animationProgress;self.drawFrame(stepValue);el.trigger("circle-animation-progress",[animationProgress,stepValue])},complete:function(){el.trigger("circle-animation-end")}}))},getThickness:function(){return $.isNumeric(this.thickness)?this.thickness:this.size/14}};$.circleProgress={defaults:CircleProgress.prototype};$.easing.circleProgressEasing=function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b};$.fn.circleProgress=function(config){var dataName="circle-progress";if(config=="widget"){var data=this.data(dataName);return data&&data.canvas}return this.each(function(){var el=$(this),instance=el.data(dataName),cfg=$.isPlainObject(config)?config:{};if(instance){instance.init(cfg)}else{cfg.el=el;instance=new CircleProgress(cfg);el.data(dataName,instance)}})}})(jQuery);(function(root,factory){if(typeof exports==="object"){module.exports=factory()}else if(typeof define==="function"&&define.amd){define(["spin"],factory)}else{root.Ladda=factory(root.Spinner)}})(this,function(Spinner){"use strict";var ALL_INSTANCES=[];var is_winssb=/atomshell/i.test(navigator.userAgent);function create(button){if(typeof button==="undefined"){console.warn("Ladda button target must be defined.");return}if(!button.querySelector(".ladda-label")){button.innerHTML='<span class="ladda-label">'+button.innerHTML+"</span>"}var spinner=createSpinner(button);var spinnerWrapper=document.createElement("span");spinnerWrapper.className="ladda-spinner";button.appendChild(spinnerWrapper);var timer;var instance={start:function(){button.setAttribute("disabled","");if(!is_winssb)button.setAttribute("data-loading","");clearTimeout(timer);if(!is_winssb)spinner.spin(spinnerWrapper);this.setProgress(0);return this},startAfter:function(delay){clearTimeout(timer);timer=setTimeout(function(){instance.start()},delay);return this},stop:function(){button.removeAttribute("disabled");button.removeAttribute("data-loading");clearTimeout(timer);timer=setTimeout(function(){spinner.stop()},1e3);return this},toggle:function(){if(this.isLoading()){this.stop()}else{this.start()}return this},setProgress:function(progress){if(is_winssb)return;progress=Math.max(Math.min(progress,1),0);var progressElement=button.querySelector(".ladda-progress");if(progress===0&&progressElement&&progressElement.parentNode){progressElement.parentNode.removeChild(progressElement)}else{if(!progressElement){progressElement=document.createElement("div");progressElement.className="ladda-progress";button.appendChild(progressElement)}progressElement.style.width=(progress||0)*button.offsetWidth+"px"}},enable:function(){this.stop();return this},disable:function(){this.stop();button.setAttribute("disabled","");return this},isLoading:function(){return button.hasAttribute("data-loading")}};ALL_INSTANCES.push(instance);return instance}function getAncestorOfTagType(elem,type){while(elem.parentNode&&elem.tagName!==type){elem=elem.parentNode}return elem}function getRequiredFields(elem){var requirables=["input","textarea"];var inputs=[];for(var i=0;i<requirables.length;i++){var name_els=elem.getElementsByTagName(requirables[i]);for(var j=0;j<name_els.length;j++){if(name_els[j].hasAttribute("required")){inputs.push(name_els[j])}}}return inputs}function bind(target,options){options=options||{};var targets=[];if(typeof target==="string"){targets=toArray(document.querySelectorAll(target))}else if(typeof target==="object"&&typeof target.nodeName==="string"){targets=[target]}for(var i=0,len=targets.length;i<len;i++){(function(){var element=targets[i];if(typeof element.addEventListener==="function"){var instance=create(element);var timeout=-1;element.addEventListener("click",function(event){var valid=true;var form=getAncestorOfTagType(element,"FORM");var requireds=getRequiredFields(form);if(form&&form.checkValidity){valid=form.checkValidity()}else{for(var i=0;i<requireds.length;i++){if(requireds[i].value.replace(/^\s+|\s+$/g,"")===""){valid=false}}}if(valid){instance.startAfter(1);if(typeof options.timeout==="number"){clearTimeout(timeout);timeout=setTimeout(instance.stop,options.timeout)}if(typeof options.callback==="function"){options.callback.apply(null,[instance])}}},false)}})()}}function stopAll(){for(var i=0,len=ALL_INSTANCES.length;i<len;i++){ALL_INSTANCES[i].stop()}}function createSpinner(button){var height=button.offsetHeight,spinnerColor;if(height>32){height*=.8}if(button.hasAttribute("data-spinner-size")){height=parseInt(button.getAttribute("data-spinner-size"),10)}if(button.hasAttribute("data-spinner-color")){spinnerColor=button.getAttribute("data-spinner-color")}var lines=12,radius=height*.2,length=radius*.6,width=radius<7?2:3;return new Spinner({color:spinnerColor||"#fff",lines:lines,radius:radius,length:length,width:width,zIndex:"auto",top:"auto",left:"auto",className:""})}function toArray(nodes){var a=[];for(var i=0;i<nodes.length;i++){a.push(nodes[i])}return a}return{bind:bind,create:create,stopAll:stopAll}});(function($){var converter={vertical:{x:false,y:true},horizontal:{x:true,y:false},both:{x:true,y:true},x:{x:true,y:false},y:{x:false,y:true}};var settings={duration:"fast",direction:"both",offset:null,px_offset:0};var rootrx=/^(?:html)$/i;var borders=function(domElement,styles){styles=styles||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(domElement,null):domElement.currentStyle);var px=document.defaultView&&document.defaultView.getComputedStyle?true:false;var b={top:parseFloat(px?styles.borderTopWidth:$.css(domElement,"borderTopWidth"))||0,left:parseFloat(px?styles.borderLeftWidth:$.css(domElement,"borderLeftWidth"))||0,bottom:parseFloat(px?styles.borderBottomWidth:$.css(domElement,"borderBottomWidth"))||0,right:parseFloat(px?styles.borderRightWidth:$.css(domElement,"borderRightWidth"))||0};return{top:b.top,left:b.left,bottom:b.bottom,right:b.right,vertical:b.top+b.bottom,horizontal:b.left+b.right}};var dimensions=function($element){var win=$(window);var isRoot=rootrx.test($element[0].nodeName);return{border:isRoot?{top:0,left:0,bottom:0,right:0}:borders($element[0]),scroll:{top:(isRoot?win:$element).scrollTop(),left:(isRoot?win:$element).scrollLeft()},scrollbar:{right:isRoot?0:$element.innerWidth()-$element[0].clientWidth,bottom:isRoot?0:$element.innerHeight()-$element[0].clientHeight},rect:dimensions_rect($element)}};var dimensions_rect=function($element){var isRoot=rootrx.test($element[0].nodeName);if(!$element.___dimensions_rect)$element.___dimensions_rect={};var rect=$element.___dimensions_rect;if(isRoot){rect.top=0,rect.left=0,rect.bottom=$element[0].clientHeight,rect.right=$element[0].clientWidth}else{var r=$element[0].getBoundingClientRect();rect.top=r.top,rect.left=r.left,rect.bottom=r.bottom,rect.right=r.right}rect.height=rect.bottom-rect.top;rect.width=rect.right-rect.left;return rect};$.fn.extend({dimensions:function(){var el=this.eq(0);return dimensions(el)}});$.fn.extend({dimensions_rect:function(){var el=this.eq(0);return dimensions_rect(el)}});$.fn.extend({scrollintoview:function(options){if(!this.length)return this;var log=window.log_scrollintoview;options=$.extend({},settings,options);options.direction=converter[typeof options.direction==="string"&&options.direction.toLowerCase()]||converter.both;var dirStr="";if(options.direction.x===true)dirStr="horizontal";if(options.direction.y===true)dirStr=dirStr?"both":"vertical";var el=this.eq(0);var scroller=options.scroller||el.closest(".monkey_scroller");if(!scroller.length){scroller=el.closest(":scrollable("+dirStr+")")}var px_offset=options.px_offset;if(scroller.length>0){scroller=scroller.eq(0);var dim={e:dimensions(el),s:dimensions(scroller)};var rel={top:dim.e.rect.top-(dim.s.rect.top+dim.s.border.top),bottom:dim.s.rect.bottom-dim.s.border.bottom-dim.s.scrollbar.bottom-dim.e.rect.bottom,left:dim.e.rect.left-(dim.s.rect.left+dim.s.border.left),right:dim.s.rect.right-dim.s.border.right-dim.s.scrollbar.right-dim.e.rect.right};if(log&&TS){TS.info("scroller id:"+scroller.attr("id")+" scrollTop():"+scroller.scrollTop());TS.info("dim: "+JSON.stringify(dim,null,"  "));TS.info("rel: "+JSON.stringify(rel))}var animOptions={};if(options.direction.y===true){var vertical_offset=options.offset=="center"||options.offset=="center_vertical"?(dim.s.rect.height-dim.e.rect.height)/2:0;if(rel.top<0){if(log&&TS){TS.warn("case rel.top < 0")}if(options.offset=="bottom"){vertical_offset=dim.s.rect.height-dim.e.rect.height}animOptions.scrollTop=dim.s.scroll.top+rel.top-vertical_offset-px_offset}else if(rel.top>0&&rel.bottom<0){if(log&&TS){TS.warn("case rel.top > 0 && rel.bottom < 0")}if(options.offset=="top"){vertical_offset=dim.s.rect.height-dim.e.rect.height}animOptions.scrollTop=dim.s.scroll.top+Math.min(rel.top,-rel.bottom)+vertical_offset-px_offset}else{if(log&&TS){TS.warn("case WTF")}}}if(options.direction.x===true){if(rel.left<0){animOptions.scrollLeft=dim.s.scroll.left+rel.left}else if(rel.left>0&&rel.right<0){animOptions.scrollLeft=dim.s.scroll.left+Math.min(rel.left,-rel.right)}}if(!$.isEmptyObject(animOptions)){if(rootrx.test(scroller[0].nodeName)){scroller=$("html,body")}if(log&&TS){TS.info("dest:"+animOptions.scrollTop)}scroller.stop().animate(animOptions,{progress:function(a,p,c){if(log&&TS)TS.info(100*p+"% "+scroller.scrollTop())},duration:options.duration}).eq(0).queue(function(next){$.isFunction(options.complete)&&options.complete.call(scroller[0]);next()})}else{$.isFunction(options.complete)&&options.complete.call(scroller[0])}}else{$.isFunction(options.complete)&&options.complete.call(scroller[0])}return this}});var scrollValue={auto:true,scroll:true,visible:false,hidden:false};$.extend($.expr[":"],{scrollable:function(element,index,meta,stack){var direction=converter[typeof meta[3]==="string"&&meta[3].toLowerCase()]||converter.both;var styles=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(element,null):element.currentStyle;var overflow={x:scrollValue[styles.overflowX.toLowerCase()]||false,y:scrollValue[styles.overflowY.toLowerCase()]||false,isRoot:rootrx.test(element.nodeName)};if(!overflow.x&&!overflow.y&&!overflow.isRoot){return false}var size={height:{scroll:element.scrollHeight,client:element.clientHeight},width:{scroll:element.scrollWidth,client:element.clientWidth},scrollableX:function(){return(overflow.x||overflow.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(overflow.y||overflow.isRoot)&&this.height.scroll>this.height.client}};return direction.y&&size.scrollableY()||direction.x&&size.scrollableX()}})})(jQuery);(function(root,factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof exports==="object"){module.exports=factory(require("jquery"))}else{factory(root.jQuery)}})(this,function($){var _has_raf=window.requestAnimationFrame;$.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:true,useTransitionEnd:false};var div=document.createElement("div");var support={};function getVendorPropertyName(prop){if(prop in div.style)return prop;var prefixes=["Moz","Webkit","O","ms"];var prop_=prop.charAt(0).toUpperCase()+prop.substr(1);for(var i=0;i<prefixes.length;++i){var vendorProp=prefixes[i]+prop_;if(vendorProp in div.style){return vendorProp}}}function checkTransform3dSupport(){div.style[support.transform]="";div.style[support.transform]="rotateY(90deg)";return div.style[support.transform]!==""}var isChrome=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;support.transition=getVendorPropertyName("transition");support.transitionDelay=getVendorPropertyName("transitionDelay");support.transform=getVendorPropertyName("transform");support.transformOrigin=getVendorPropertyName("transformOrigin");support.filter=getVendorPropertyName("Filter");support.transform3d=checkTransform3dSupport();var eventNames={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"};var transitionEnd=support.transitionEnd=eventNames[support.transition]||null;for(var key in support){if(support.hasOwnProperty(key)&&typeof $.support[key]==="undefined"){$.support[key]=support[key]}}div=null;$.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};$.cssHooks["transit:transform"]={get:function(elem){return $(elem).data("transform")||new Transform},set:function(elem,v){var value=v;if(!(value instanceof Transform)){value=new Transform(value)}if(support.transform==="WebkitTransform"&&!isChrome){elem.style[support.transform]=value.toString(true)}else{elem.style[support.transform]=value.toString()}$(elem).data("transform",value)}};$.cssHooks.transform={set:$.cssHooks["transit:transform"].set};$.cssHooks.filter={get:function(elem){return elem.style[support.filter]},set:function(elem,value){elem.style[support.filter]=value}};if($.fn.jquery<"1.8"){$.cssHooks.transformOrigin={get:function(elem){return elem.style[support.transformOrigin]},set:function(elem,value){elem.style[support.transformOrigin]=value}};$.cssHooks.transition={get:function(elem){return elem.style[support.transition]},set:function(elem,value){elem.style[support.transition]=value}}}registerCssHook("scale");registerCssHook("scaleX");registerCssHook("scaleY");registerCssHook("translate");registerCssHook("rotate");registerCssHook("rotateX");registerCssHook("rotateY");registerCssHook("rotate3d");registerCssHook("perspective");registerCssHook("skewX");registerCssHook("skewY");registerCssHook("x",true);registerCssHook("y",true);function Transform(str){if(typeof str==="string"){this.parse(str)}return this}Transform.prototype={setFromString:function(prop,val){var args=typeof val==="string"?val.split(","):val.constructor===Array?val:[val];args.unshift(prop);Transform.prototype.set.apply(this,args)},set:function(prop){var args=Array.prototype.slice.apply(arguments,[1]);if(this.setter[prop]){this.setter[prop].apply(this,args)}else{this[prop]=args.join(",")}},get:function(prop){if(this.getter[prop]){return this.getter[prop].apply(this)}else{return this[prop]||0}},setter:{rotate:function(theta){this.rotate=unit(theta,"deg")},rotateX:function(theta){this.rotateX=unit(theta,"deg")},rotateY:function(theta){this.rotateY=unit(theta,"deg")},scale:function(x,y){if(y===undefined){y=x}this.scale=x+","+y},skewX:function(x){this.skewX=unit(x,"deg")},skewY:function(y){this.skewY=unit(y,"deg")},perspective:function(dist){this.perspective=unit(dist,"px")},x:function(x){this.set("translate",x,null)},y:function(y){this.set("translate",null,y)},translate:function(x,y){if(this._translateX===undefined){this._translateX=0}if(this._translateY===undefined){this._translateY=0}if(x!==null&&x!==undefined){this._translateX=unit(x,"px")}if(y!==null&&y!==undefined){this._translateY=unit(y,"px")}this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var s=(this.scale||"1,1").split(",");if(s[0]){s[0]=parseFloat(s[0])}if(s[1]){s[1]=parseFloat(s[1])}return s[0]===s[1]?s[0]:s},rotate3d:function(){var s=(this.rotate3d||"0,0,0,0deg").split(",");for(var i=0;i<=3;++i){if(s[i]){s[i]=parseFloat(s[i])}}if(s[3]){s[3]=unit(s[3],"deg")}return s}},parse:function(str){var self=this;str.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(x,prop,val){self.setFromString(prop,val)})},toString:function(use3d){var re=[];for(var i in this){if(this.hasOwnProperty(i)){if(!support.transform3d&&(i==="rotateX"||i==="rotateY"||i==="perspective"||i==="transformOrigin")){continue}if(i[0]!=="_"){if(use3d&&i==="scale"){re.push(i+"3d("+this[i]+",1)")}else if(use3d&&i==="translate"){re.push(i+"3d("+this[i]+",0)")}else{re.push(i+"("+this[i]+")")}}}}return re.join(" ")}};function callOrQueue(self,queue,fn){if(queue===true){self.queue(fn)}else if(queue){self.queue(queue,fn)}else{self.each(function(){fn.call(this)})}}function getProperties(props){var re=[];$.each(props,function(key){key=$.camelCase(key);key=$.transit.propertyMap[key]||$.cssProps[key]||key;key=uncamel(key);if(support[key])key=uncamel(support[key]);if($.inArray(key,re)===-1){re.push(key)}});return re}function getTransition(properties,duration,easing,delay){var props=getProperties(properties);if($.cssEase[easing]){easing=$.cssEase[easing]}var attribs=""+toMS(duration)+" "+easing;if(parseInt(delay,10)>0){attribs+=" "+toMS(delay)}var transitions=[];$.each(props,function(i,name){transitions.push(name+" "+attribs)});return transitions.join(", ")}$.fn.transition=$.fn.transit=function(properties,duration,easing,callback){var self=this;var delay=0;var queue=true;var theseProperties=$.extend(true,{},properties);if(typeof duration==="function"){callback=duration;duration=undefined}if(typeof duration==="object"){easing=duration.easing;delay=duration.delay||0;queue=typeof duration.queue==="undefined"?true:duration.queue;callback=duration.complete;duration=duration.duration}if(typeof easing==="function"){callback=easing;easing=undefined}if(typeof theseProperties.easing!=="undefined"){easing=theseProperties.easing;delete theseProperties.easing}if(typeof theseProperties.duration!=="undefined"){duration=theseProperties.duration;delete theseProperties.duration}if(typeof theseProperties.complete!=="undefined"){callback=theseProperties.complete;delete theseProperties.complete}if(typeof theseProperties.queue!=="undefined"){queue=theseProperties.queue;delete theseProperties.queue}if(typeof theseProperties.delay!=="undefined"){delay=theseProperties.delay;delete theseProperties.delay}if(typeof duration==="undefined"){duration=$.fx.speeds._default}if(typeof easing==="undefined"){easing=$.cssEase._default}duration=toMS(duration);var transitionValue=getTransition(theseProperties,duration,easing,delay);var work=$.transit.enabled&&support.transition;var i=work?parseInt(duration,10)+parseInt(delay,10):0;if(i===0){var fn=function(next){self.css(theseProperties);if(callback){callback.apply(self)}if(next){next()}};callOrQueue(self,queue,fn);return self}var oldTransitions={};var run=function(nextCall){var bound=false;var cb=function(){if(bound){self.unbind(transitionEnd,cb)}if(i>0){self.each(function(){this.style[support.transition]=oldTransitions[this]||null})}if(typeof callback==="function"){callback.apply(self)}if(typeof nextCall==="function"){nextCall()}};if(i>0&&transitionEnd&&$.transit.useTransitionEnd){bound=true;self.bind(transitionEnd,cb)}else{window.setTimeout(cb,i)}self.each(function(){if(i>0){this.style[support.transition]=transitionValue}$(this).css(theseProperties)})};var deferredRun=function(next){if(_has_raf){window.requestAnimationFrame(function(){run(next)})}else{this.offsetWidth;run(next)}};callOrQueue(self,queue,deferredRun);return this};function registerCssHook(prop,isPixels){if(!isPixels){$.cssNumber[prop]=true}$.transit.propertyMap[prop]=support.transform;$.cssHooks[prop]={get:function(elem){var t=$(elem).css("transit:transform");return t.get(prop)},set:function(elem,value){var t=$(elem).css("transit:transform");t.setFromString(prop,value);$(elem).css({"transit:transform":t})}}}function uncamel(str){return str.replace(/([A-Z])/g,function(letter){return"-"+letter.toLowerCase()})}function unit(i,units){if(typeof i==="string"&&!i.match(/^[\-0-9\.]+$/)){return i}else{return""+i+units}}function toMS(duration){var i=duration;if(typeof i==="string"&&!i.match(/^[\-0-9\.]+/)){i=$.fx.speeds[i]||$.fx.speeds._default}return unit(i,"ms")}$.transit.getTransitionValue=getTransition;return $});(function($){var min_handle_height=70;var min_scrollbar_width=17;var native_bar_w;var getNativeBarWidth=function(){if(window.chrome)return min_scrollbar_width;var div=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"></div>').appendTo("body");var innerDiv=$('<div style="height:100px;"></div>').appendTo(div);var w1=innerDiv.innerWidth();div.css("overflow-y","auto");var w2=innerDiv.innerWidth();div.remove();return Math.max(w1-w2,min_scrollbar_width)};$.fn.extend({monkeyScroll:function(options){options=options||{};return this.each(function(index,elem){var $elem=$(elem);if($elem.data("monkeyScroll")){return}$elem.addClass("monkey_scroller");var triggered_by_resize=false;var wrapper_id=elem.id?"monkey_scroll_wrapper_for_"+elem.id:"";var debug_class=options.debug?"debug":"";var $hider=$elem.wrap('<div class="monkey_scroll_hider '+debug_class+'" />').parent();var $wrapper=$hider.wrap('<div id="'+wrapper_id+'" class="monkey_scroll_wrapper '+debug_class+'" />').parent();var $bar=$wrapper.prepend('<div class="monkey_scroll_bar '+debug_class+'" />').children(".monkey_scroll_bar");var $handle=$bar.prepend(['<div class="monkey_scroll_handle '+debug_class+'">','	<div class="monkey_scroll_handle_inner '+debug_class+'"></div>',"</div>"].join("")).children(".monkey_scroll_handle");var $handle_inner=$handle.find(".monkey_scroll_handle_inner");var needed_w=Math.max($bar.width(),$handle.width());var bar_margin_top=parseInt($bar.css("margin-top"));var bar_margin_bottom=parseInt($bar.css("margin-bottom"));$handle.css("left",-(($handle.width()-$bar.width())/2));var getDesiredBarHeight=function(){var val=Math.max(Math.min(min_handle_height,$elem[0].clientHeight),$elem[0].clientHeight-(bar_margin_top+bar_margin_bottom));return val};var hideW=function(){native_bar_w=native_bar_w||getNativeBarWidth();return Math.max(needed_w,native_bar_w)};var _current_bar_color="";var setBarColor=function(current_ratio){var colors=options.bar_colors;var largest_ratio,ratio;var color="";if(!colors)return;for(ratio in colors){if(colors.hasOwnProperty(ratio)){if(ratio<=current_ratio&&(!largest_ratio||ratio>largest_ratio)){largest_ratio=ratio}}}if(largest_ratio){color=colors[largest_ratio]}if(color!==_current_bar_color){$handle_inner.css("background",color);_current_bar_color=color}};var getState=function(){var data=$elem.data("monkeyScroll");if(!data){destroy();return null}var ch=$elem[0].clientHeight;var sh=$elem[0].scrollHeight;var st=$elem[0].scrollTop;var w=$elem.width();var diff=sh-ch;var ratio=diff?st/diff:1;var perc_visible=ch/sh;data.state_ob.st=st;data.state_ob.sh=sh;data.state_ob.ch=ch;data.state_ob.w=w;data.state_ob.ratio=ratio;data.state_ob.perc_visible=perc_visible;return data.state_ob};var updateBar=function(){var state=getState($elem);if(!state){return}var needs_scroll=state.perc_visible<1;$hider.css("margin-right",needs_scroll?hideW():"");if(!needs_scroll){if(options.always_show){$hider.addClass("scrolling");$handle.addClass("hidden")}else{if($elem.css("overflow-y")!="scroll"){$hider.css("width","100%");$hider.removeClass("scrolling")}$bar.addClass("hidden");return}}else{$hider.addClass("scrolling");if(options.always_show){$handle.removeClass("hidden")}}$bar.removeClass("hidden");var bh=getDesiredBarHeight();$bar.css("height",bh);$handle.css("height",Math.max(min_handle_height,bh*state.perc_visible));var range=bh-$handle.height();$handle.css("top",range*state.ratio);setBarColor(state.ratio)};var update=function(){var start=Date.now();var gutter_width=5;$hider.css("width","");$hider.css("margin-right","");$elem.css("width","");$elem.width($elem.width());var hider_width=$elem.innerWidth()-hideW();if(options.no_gutter){hider_width+=gutter_width}$hider.width(hider_width);if(options.bar_on_left){if("bar_on_left_y"in options){$bar.css("margin-left",options.bar_on_left_y)}else{$bar.css("margin-left",(hideW()-$bar.width())/2)}}else{var margin_left=$hider.width()+(hideW()-$bar.width())/2;if(options.no_gutter){margin_left-=gutter_width}$bar.css("margin-left",margin_left)}updateBar();TS.log(389,"update for "+$elem.attr("id")+" took "+(Date.now()-start)+"ms")};$elem.data("monkeyScroll",{bar:$bar,handle:$handle,state_ob:{},updateFunc:maybeUpdate});var onElemScroll=function(e){if($elem.data("disable-scroll"))return;updateBar()};var onBarMousedown=function(e){e.preventDefault();var getNewScrollTop=function(y){var hh=$handle.height();var perc_y=(y-hh/2)/($bar.height()-hh);var range=$elem[0].scrollHeight-$elem[0].clientHeight;return range*perc_y};var $el=$(e.target);var y=e.pageY-$el.offset().top;if($el.hasClass("monkey_scroll_bar")){$elem.animate({scrollTop:getNewScrollTop(y)},200);return}var handle_offset=y;var onMousemove=function(e){var y=e.pageY-$bar.offset().top+$handle.height()/2-handle_offset;$elem.scrollTop(getNewScrollTop(y))};var unbindMousemove=function(){
$("html").unbind("mousemove.monkeyScroll",onMousemove);$("html").unbind("mouseup.monkeyScroll",unbindMousemove)};unbindMousemove();$("html").bind("mousemove.monkeyScroll",onMousemove);$("html").bind("mouseup.monkeyScroll",unbindMousemove)};$bar.bind("mousedown",onBarMousedown);$elem.bind("scroll",onElemScroll);var resize_monkey_throttled=function(){if($elem.data("disable-scroll"))return;native_bar_w=null;$elem.css("width","");maybeUpdate()};var resizeCallback=function(e){triggered_by_resize=true;TS.utility.throttle.method(resize_monkey_throttled,"resize_monkey",150)};$(window).bind("resize.monkey",resizeCallback);var mouseup_assigned;var fixDragToRevealOverFlow=function(){if(mouseup_assigned)return;mouseup_assigned=true;$("html").bind("mouseup.monkeyScrollOverflowfixer",fixDragToRevealOverFlowWorker)};var fixDragToRevealOverFlowWorker=function(){$hider.scrollLeft(0);mouseup_assigned=false;$("html").unbind("mouseup.monkeyScrollOverflowfixer",arguments.callee)};$hider.bind("scroll",fixDragToRevealOverFlow);if(!TS.client||!TS.boot_data||TS.model.ms_logged_in_once){update()}var was_state;function maybeUpdate(force){if($elem.data("disable-scroll"))return;function maybeUpdateRAF(){var new_state=getState();if(!new_state){return}if(force||!was_state||new_state.sh!=was_state.sh||new_state.ch!=was_state.ch||new_state.w!=was_state.w){update();if(!was_state)was_state={};was_state.st=new_state.st;was_state.sh=new_state.sh;was_state.ch=new_state.ch;was_state.w=new_state.w;was_state.ratio=new_state.ratio;was_state.perc_visible=new_state.perc_visible}}if(window.bowser&&(bowser.msie||triggered_by_resize&&TS.model.is_mac&&(bowser.safari||TS.model.is_our_app))){maybeUpdateRAF()}else{TS.utility.queueRAF(maybeUpdateRAF)}triggered_by_resize=false}var interv;if(options.update_on_interval){interv=setInterval(maybeUpdate,200)}var destroy=function(){$(window).unbind("resize.monkey",resizeCallback);$("html").unbind("mouseup.monkeyScrollOverflowfixer",fixDragToRevealOverFlowWorker);if(interv)clearInterval(interv);$elem.removeData("monkeyScroll")};$elem.bind("remove",function(){destroy()})})}})})(jQuery);(function($){$.fn.setCursorPosition=function(pos){this.each(function(index,elem){if(elem.setSelectionRange){elem.setSelectionRange(pos,pos)}else if(elem.createTextRange){var range=elem.createTextRange();range.collapse(true);range.moveEnd("character",pos);range.moveStart("character",pos);range.select()}});return this};$.fn.getCursorPosition=function(){var input=this.get(0);if(!input)return;if("selectionStart"in input){return input.selectionStart}else if(document.selection){input.focus();var sel=document.selection.createRange();var selLen=document.selection.createRange().text.length;sel.moveStart("character",-input.value.length);return sel.text.length-selLen}};$.fn.getCursorRange=function(){var input=this.get(0);if(!input)return;if("selectionStart"in input){return{s:input.selectionStart,l:input.selectionEnd-input.selectionStart}}else if(document.selection){}};jQuery.fn.highlight=function(duration,class_name,onComplete,delay){delay=delay==undefined?2e3:delay;$(this).each(function(){var el=$(this);var el_position_changed=false;if(el.data("highlighted"))return;el.data("highlighted",true);if(el.css("position")=="static"){el.css("position","relative");el_position_changed=true}$('<div class="'+class_name+'" />').width(el.outerWidth()).height(el.outerHeight()).css({position:"absolute",left:0,top:0,"background-color":"#FFF3B8",opacity:".6","z-index":"90","pointer-events":"none"}).appendTo(el).delay(delay).fadeOut(duration).queue(function(){$(this).remove();el.data("highlighted",false);if(el_position_changed){el.css("position","static")}if(onComplete)onComplete()})})},jQuery.fn.highlightText=function(duration,class_name,onComplete,delay){delay=delay==undefined?2e3:delay;$(this).each(function(){var el=$(this);var el_original_bg=$(this).css("background-color");if(el.data("highlighted"))return;el.data("highlighted",true);el.css({"background-color":"#FFF3B8",transition:"background-color 0.25s"}).delay(delay).queue(function(){el.css({"background-color":el_original_bg});el.data("highlighted",false);if(onComplete)onComplete()})})},jQuery.fn.hideWithRememberedScrollTop=function(){$(this).each(function(){var el=$(this);if(el.hasClass("hidden"))return;el.data("remembered_scrolltop",el.scrollTop());var scrollers=el.find(":scrollable()");scrollers.each(function(index,desc){var $desc=$(desc);$desc.data("remembered_scrolltop",$desc.scrollTop())});el.addClass("hidden")})};jQuery.fn.unhideWithRememberedScrollTop=function(){$(this).each(function(){var el=$(this);if(!el.hasClass("hidden"))return;el.removeClass("hidden");var remembered_scrolltop=el.data("remembered_scrolltop");if(remembered_scrolltop!=undefined){el.scrollTop(remembered_scrolltop)}var scrollers=el.find(":scrollable()");if(scrollers){scrollers.each(function(index,desc){var $desc=$(desc);remembered_scrolltop=$desc.data("remembered_scrolltop");if(remembered_scrolltop!=undefined){$desc.scrollTop(remembered_scrolltop)}})}})}})(jQuery);(function($){if(!$){return}$.fn.headroom=function(option){return this.each(function(){var $this=$(this),data=$this.data("headroom"),options=typeof option==="object"&&option;options=$.extend(true,{},Headroom.options,options);if(!data){data=new Headroom(this,options);data.init();$this.data("headroom",data)}if(typeof option==="string"){data[option]()}})};$("[data-headroom]").each(function(){var $this=$(this);$this.headroom($this.data())})})(window.Zepto||window.jQuery);(function($){$.event.special.textchange={setup:function(data,namespaces){$(this).data("textchange_lastvalue",this.contentEditable==="true"?$(this).html():$(this).val());$(this).bind("keyup.textchange",$.event.special.textchange.handler);$(this).bind("cut.textchange paste.textchange input.textchange",$.event.special.textchange.delayedHandler)},teardown:function(namespaces){$(this).unbind(".textchange")},handler:function(event){$.event.special.textchange.triggerIfChanged($(this))},delayedHandler:function(event){var element=$(this);if(!$.event.special.textchange.timer){$.event.special.textchange.timer=setTimeout(function(){$.event.special.textchange.timer=null;$.event.special.textchange.triggerIfChanged(element)},250)}},triggerIfChanged:function(element){var current=element[0].contentEditable==="true"?element.html():element.val();if(current!==element.data("textchange_lastvalue")){element.trigger("textchange",[element.data("textchange_lastvalue")]);element.data("textchange_lastvalue",current)}},timer:null};$.event.special.hastext={setup:function(data,namespaces){$(this).bind("textchange",$.event.special.hastext.handler)},teardown:function(namespaces){$(this).unbind("textchange",$.event.special.hastext.handler)},handler:function(event,textchange_lastvalue){if(textchange_lastvalue===""&&textchange_lastvalue!==$(this).val()){$(this).trigger("hastext")}}};$.event.special.notext={setup:function(data,namespaces){$(this).bind("textchange",$.event.special.notext.handler)},teardown:function(namespaces){$(this).unbind("textchange",$.event.special.notext.handler)},handler:function(event,textchange_lastvalue){if($(this).val()===""&&$(this).val()!==textchange_lastvalue){$(this).trigger("notext")}}}})(jQuery);(function($){$.fn.autogrow=function(options){return this.filter("textarea").each(function(){var self=this;var $self=$(self);var minHeight=$self.height();var noFlickerPad=$self.hasClass("autogrow-short")?0:parseInt($self.css("lineHeight"))||0;var shadow=$("<div></div>").css({position:"absolute",top:-1e4,left:-1e4,width:$self.width(),fontSize:$self.css("fontSize"),fontFamily:$self.css("fontFamily"),fontWeight:$self.css("fontWeight"),lineHeight:$self.css("lineHeight"),resize:"none","word-wrap":"break-word"}).appendTo(document.body);var update=function(event){var times=function(string,number){for(var i=0,r="";i<number;i++)r+=string;return r};var val=self.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(space){return times("&nbsp;",space.length-1)+" "});if(event&&event.data&&event.data.event==="keydown"&&event.keyCode===13){val+="<br />"}var was_h=$self.height();shadow.css("width",$self.width());shadow.html(val+(noFlickerPad===0?"...":""));$self.height(Math.max(shadow.height()+noFlickerPad,minHeight));var cp=$self.getCursorPosition();var tl=$self.val().length;if(tl-cp<10){if($self.length&&document.activeElement==$self[0]){var parent_scroller=$self.closest(".flex_content_scroller");var parent_modal=$self.closest(".modal");if(parent_scroller.length){var $el_to_keep_in_view=$self;if($self.data("el-id-to-keep-in-view")){$el_to_keep_in_view=$("#"+$self.data("el-id-to-keep-in-view"));if(!$el_to_keep_in_view.length)$el_to_keep_in_view=$self}if(!TS.client.ui.isElInView($el_to_keep_in_view,-50,parent_scroller.dimensions_rect())){$el_to_keep_in_view.scrollintoview({offset:"bottom",px_offset:-50,duration:200})}if($self.height()!=was_h){TS.ui.utility.updateClosestMonkeyScroller(parent_scroller)}}else if(parent_modal.length==-1){$self.scrollintoview({offset:"bottom",px_offset:-50,duration:200})}}}};$self.change(update).keyup(update).keydown({event:"keydown"},update);$(window).on("resize",update);$self.one("remove",function(){$(window).off("resize",update)});update()})}})(jQuery);(function($){$.event.special.destroyed={remove:function(o){if(o.handler){o.handler()}}}})(jQuery);$.fn.draghover=function(options){return this.each(function(){var collection=$(),self=$(this);self.on("dragenter",function(e){if(collection.size()===0)self.trigger("draghoverstart",e);collection=collection.add(e.target)});self.on("dragleave drop",function(e){setTimeout(function(){collection=collection.not(e.target);if(collection.size()===0)self.trigger("draghoverend")},1)})})};(function($){var defaults={className:"autosizejs",id:"autosizejs",append:"\n",callback:false,resizeDelay:200,placeholder:true},copy='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',typographyStyles=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],mirrored,mirror=$(copy).data("autosize",true)[0];mirror.style.lineHeight="99px";if($(mirror).css("lineHeight")==="99px"){typographyStyles.push("lineHeight")}mirror.style.lineHeight="";$.fn.autosize=function(options){if(!this.length){return this}options=$.extend({},defaults,options||{});if(mirror.parentNode!==document.body){$(document.body).append(mirror)}return this.each(function(){var ta=this,$ta=$(ta),maxHeight,minHeight,boxOffset=0,callback=$.isFunction(options.callback),originalStyles={height:ta.style.height,overflow:ta.style.overflow,overflowY:ta.style.overflowY,wordWrap:ta.style.wordWrap,resize:ta.style.resize},width=$ta.width(),taResize=$ta.css("resize");if($ta.data("autosize")){return}$ta.data("autosize",true);setOffsetAndMinMaxHeight();$ta.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"});if(taResize==="vertical"){$ta.css("resize","none")}else if(taResize==="both"){$ta.css("resize","horizontal")}function setOffsetAndMinMaxHeight(){if($ta.css("box-sizing")==="border-box"||$ta.css("-moz-box-sizing")==="border-box"||$ta.css("-webkit-box-sizing")==="border-box"){boxOffset=$ta.outerHeight()-$ta.height()}boxOffset-=typeof options.boxOffset!=="undefined"?options.boxOffset:0;minHeight=Math.max(parseInt($ta.css("minHeight"),10)-boxOffset||0,$ta.height())}function setWidth(){var width;var style=window.getComputedStyle?window.getComputedStyle(ta,null):false;if(style){width=ta.getBoundingClientRect().width;if(width===0||typeof width!=="number"){width=parseInt(style.width,10)}$.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(i,val){width-=parseInt(style[val],10)})}else{width=$ta.width()}mirror.style.width=Math.max(width,0)+"px"}function initMirror(){var styles={};mirrored=ta;mirror.className=options.className;mirror.id=options.id;maxHeight=parseInt($ta.css("maxHeight"),10);if(TS.boot_data.feature_a11y_preference)setOffsetAndMinMaxHeight();$.each(typographyStyles,function(i,val){styles[val]=$ta.css(val)});$(mirror).css(styles).attr("wrap",$ta.attr("wrap"));setWidth();if(window.chrome){var width=ta.style.width;ta.style.width="0px";var ignore=ta.offsetWidth;ta.style.width=width}}function adjust(){var height,original;if(mirrored!==ta){initMirror()}else{setWidth()}if(!ta.value&&options.placeholder){mirror.value=($ta.attr("placeholder")||"")+options.append}else{mirror.value=ta.value+options.append}mirror.style.overflowY=ta.style.overflowY;original=parseInt(ta.style.height,10);mirror.scrollTop=9e4;height=mirror.scrollTop;if(maxHeight&&height>maxHeight){ta.style.overflowY="scroll";height=maxHeight;$ta.addClass("has_scrollbar")}else{ta.style.overflowY="hidden";if(height<minHeight){height=minHeight}$ta.removeClass("has_scrollbar")}height+=boxOffset;height=parseInt(height,10);if(original!==height){ta.style.height=height+"px";if(callback){options.callback.call(ta,original,height)}}}function adjustWithUpdatedMirrored(){mirrored=null;adjust()}function resize_throttled(){var newWidth=$ta.width();if(newWidth!==width){width=newWidth;adjust()}}function resize(){TS.utility.throttle.method(resize_throttled,"autosize_resize",options.resizeDelay)}if("onpropertychange"in ta){if("oninput"in ta){$ta.on("input keyup",adjust)}else{$ta.on("propertychange.autosize",function(){if(event.propertyName==="value"){adjust()}})}}else{$ta.on("input",adjust)}if(options.resizeDelay!==false){$(window).on("resize.autosize",resize)}$ta.on("autosize.resize",adjust);$ta.on("autosize-resize",adjust);$ta.on("autosize.resizeIncludeStyle",adjustWithUpdatedMirrored);$ta.on("autosize-resizeIncludeStyle",adjustWithUpdatedMirrored);$ta.on("autosize.destroy",function(){mirrored=null;$(window).off("resize",resize);$ta.off("autosize").off(".autosize").css(originalStyles).removeData("autosize")});$ta.on("remove",function(){$ta.trigger("autosize.destroy")});adjust()})}})(window.jQuery||window.$);(function($){var dragging,placeholders=$();$.fn.sortable=function(options){var method=String(options);options=$.extend({connectWith:false},options);return this.each(function(){if(/^(enable|disable|destroy)$/.test(method)){var items=$(this).children($(this).data("items")).attr("draggable",method=="enable");if(method=="destroy"){items.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s")}return}var isHandle,index,items=$(this).children(options.items);var placeholder=$("<"+(/^(ul|ol)$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">');items.find(options.handle).mousedown(function(){isHandle=true}).mouseup(function(){isHandle=false});$(this).data("items",options.items);placeholders=placeholders.add(placeholder);if(options.connectWith){$(options.connectWith).add(this).data("connectWith",options.connectWith)}items.attr("draggable","true").on("dragstart.h5s",function(e){if(options.handle&&!isHandle){return false}isHandle=false;var dt=e.originalEvent.dataTransfer;dt.effectAllowed="move";dt.setData("Text","dummy");index=(dragging=$(this)).addClass("sortable-dragging").index()}).on("dragend.h5s",function(){if(!dragging){return}dragging.removeClass("sortable-dragging").show();placeholders.detach();if(index!=dragging.index()){dragging.parent().trigger("sortupdate",{item:dragging})}dragging=null}).not("a[href], img").on("selectstart.h5s",function(){this.dragDrop&&this.dragDrop();return false}).end().add([this,placeholder]).on("dragover.h5s dragenter.h5s drop.h5s",function(e){if(!items.is(dragging)&&options.connectWith!==$(dragging).parent().data("connectWith")){return true}if(e.type=="drop"){e.stopPropagation();placeholders.filter(":visible").after(dragging);dragging.trigger("dragend.h5s");return false}e.preventDefault();e.originalEvent.dataTransfer.dropEffect="move";if(items.is(this)){if(options.forcePlaceholderSize&&dragging.is(":visible")){placeholder.height(dragging.outerHeight())}dragging.hide();$(this)[placeholder.index()<$(this).index()?"after":"before"](placeholder);placeholders.not(placeholder).detach()}else if(!placeholders.is(this)&&!$(this).children(options.items).length){placeholders.detach();$(this).append(placeholder)}return false})})}})(jQuery);(function($){var do_log=false;var _log_timing=false;var _has_set_log_timing=false;var MATCHES_SET="MATCHES_SET";var MATCH_CHANGED="MATCH_CHANGED";var MAX_DEFAULT_MATCH_CNT=50;var has_modified_max_default_match_cnt=false;function cycle(i,max){if(i>max)return 0;if(i<0)return max;return i}function buildCmdsHistory(input){var data=input.data("TS-tabComplete");var cmds=data.cmds=[];var hist=TS.model.input_history;var cmd;for(var i=0;i<hist.length;i++){cmd=hist[i];if(cmd.indexOf("/")==0){cmds.push(cmd)}}return cmds}function completeOnCommands(txt,input,e){if(TS.model.input_history.length==0){return false}var data=input.data("TS-tabComplete");var cmds=data.cmds||buildCmdsHistory(input);var temp_matches;if(data.cmd_matches){temp_matches=data.cmd_matches;if(e&&e.shiftKey){data.cmd_matches_index--;if(data.cmd_matches_index<0){data.cmd_matches_index=data.cmd_matches.length-1}}else{data.cmd_matches_index++;if(data.cmd_matches_index>=data.cmd_matches.length){data.cmd_matches_index=0}}}else{temp_matches=[];data.cmd_matches_index=0;var cmd;for(var i=0;i<cmds.length;i++){cmd=cmds[i];if(txt&&cmd.toLowerCase().indexOf(txt.toLowerCase())!=0)continue;temp_matches.push(cmd)}if(!temp_matches.length){return false}if(temp_matches.length>1){data.cmd_matches=temp_matches}}if(!e)return true;var match=temp_matches[data.cmd_matches_index];if(data.onComplete){data.onComplete(match)}TS.utility.contenteditable.cursorPosition(input,1e6);return true}function completeOnCommandsNew(txt,input,e){var data=input.data("TS-tabComplete");var cp=TS.utility.contenteditable.cursorPosition(input).start;if(cp==0){}if(txt.indexOf("/")!=0){return false}var all_after_str=txt.substr(cp);var lines_beforeA=txt.substr(0,cp).split("\n");var before=lines_beforeA.pop();var beforeA=before.split(" ");var word_before=beforeA[beforeA.length-1].toLowerCase();var cmd_handlers=TS.cmd_handlers;var chosen_cmd="";if(!word_before&&!data.cmd_matches){return false}if(beforeA.length>1&&beforeA[0]in cmd_handlers){}if(word_before&&word_before.indexOf("/")!=0){return false}var temp_cmd_matches;var match;if(e&&e.chosen_index!=undefined){temp_cmd_matches=sortCmdMatches(data.cmd_matches);data.cmd_matches_index=cycle(e.chosen_index,data.cmd_matches.length-1);match=temp_cmd_matches[data.cmd_matches_index]}else if(chosen_cmd){TS.dir(0,e);data.matched_on=chosen_cmd;data.cmd_matches_index=0;data.cmd_matches=[chosen_cmd];return MATCHES_SET}else if(!word_before){temp_cmd_matches=data.cmd_matches;if(e&&e.shiftKey){data.cmd_matches_index--;if(data.cmd_matches_index<0){data.cmd_matches_index=data.cmd_matches.length-1}}else{data.cmd_matches_index++;if(data.cmd_matches_index>=data.cmd_matches.length){data.cmd_matches_index=0}}match=temp_cmd_matches[data.cmd_matches_index]}else{temp_cmd_matches=[];var ob;var search_str=word_before;var rx=new RegExp(TS.utility.regexpEscape(search_str,1e3),"i");var model_ob=TS.shared.getActiveModelOb();for(var k in cmd_handlers){ob=cmd_handlers[k];if(typeof ob.autocomplete==="function"&&!ob.autocomplete()||ob.autocomplete===false||ob.alias_of)continue;if(k=="/archive"||k=="/unarchive"){if(model_ob.is_general)continue;if(TS.model.active_group_id&&TS.model.user.is_restricted)continue;if(TS.model.active_channel_id&&!TS.members.canUserArchiveChannels())continue;if(TS.model.active_im_id)continue;if(TS.model.active_mpim_id)continue}else if(k=="/kick"||k=="/remove"){if(model_ob.is_archived)continue;if(TS.model.active_group_id&&!TS.members.canUserKickFromGroups())continue;if(TS.model.active_channel_id&&!TS.members.canUserKickFromChannels())continue;if(TS.model.active_im_id)continue;if(TS.model.active_mpim_id)continue}else if(k=="/join"){if(TS.model.user.is_restricted)continue}else if(k=="/feed"){if(TS.model.user.is_restricted)continue}else if(k=="/invite"){if(TS.model.user.is_ultra_restricted)continue}else if(k=="/invite_people"){if(!TS.ui.admin_invites.canInvite())continue}else if(k=="/topic"||k=="/purpose"){if(TS.model.active_im_id)continue;if(TS.model.active_mpim_id)continue;if(TS.model.user.is_restricted)continue;if(model_ob.is_general&&!TS.members.canUserPostInGeneral())continue}else if(k=="/leave"){if(TS.model.active_group_id)continue}if(ob.type==="custom"||ob.type==="service"){if(TS.prefs.commands_only_regular&&TS.model.user.is_restricted)continue}name=k;if(!search_str||name.match(rx)){temp_cmd_matches.push(name)}else if(ob.aliases){for(var i=0;i<ob.aliases.length;i++){if(ob.aliases[i].match(rx)){temp_cmd_matches.push(name);break}}}}if(!temp_cmd_matches.length){return false}temp_cmd_matches=sortCmdMatches(temp_cmd_matches);data.cmd_matches_index=0;if(temp_cmd_matches.length>0){data.cmd_matches=temp_cmd_matches}match=temp_cmd_matches[data.cmd_matches_index]}data.matched_on=word_before;if(!word_before){beforeA[beforeA.length-2]=match}else{beforeA[beforeA.length-1]=match+" "}if(!e)return MATCHES_SET;var new_before=beforeA.join(" ");var new_cp=new_before.length;var new_txt=txt.replace(before,new_before);if(lines_beforeA.length){new_cp+=lines_beforeA.join("\n").length+1;new_txt=lines_beforeA.join("\n")+"\n"+new_before+all_after_str}if(data.onComplete){data.onComplete(new_txt)}TS.utility.contenteditable.cursorPosition(input,new_cp);data.selected_index=data.cmd_matches_index;return MATCH_CHANGED}function sortCmdMatches(matches){return TS.cmd_handlers.sortNames(matches.slice())}function completeOnChannels(txt,input,e){var data=input.data("TS-tabComplete");var cp=TS.utility.contenteditable.cursorPosition(input).start;if(cp==0){return false}var all_after_str=txt.substr(cp);var lines_beforeA=txt.substr(0,cp).split("\n");var before=lines_beforeA.pop();var beforeA=before.split(" ");var word_before=beforeA[beforeA.length-1].toLowerCase();var prefix="";if(!word_before&&!data.channel_matches){return false}if(word_before){var good=false;if(word_before.indexOf("#")==0)good=true;if(data.channel_prefix){if(word_before.indexOf(data.channel_prefix+"#")==0)good=true;if(word_before.indexOf(data.channel_prefix)==0)good=true}if(!good)return false}var temp_matches;var match;if(e&&e.chosen_index!=undefined){temp_matches=data.channel_matches;data.channel_matches_index=cycle(e.chosen_index,data.channel_matches.length-1);match=getNameForMatch(temp_matches[data.channel_matches_index])}else if(!word_before){temp_matches=data.channel_matches;if(e&&e.shiftKey){data.channel_matches_index--;if(data.channel_matches_index<0){data.channel_matches_index=data.channel_matches.length-1}}else{data.channel_matches_index++;if(data.channel_matches_index>=data.channel_matches.length){data.channel_matches_index=0}}match=getNameForMatch(temp_matches[data.channel_matches_index])}else{temp_matches=[];if(TS.boot_data.feature_autocomplete_frecency){var search_data={channels:TS.channels.getUnarchivedChannelsForUser()};var search_options={prefer_exact_match:true,frecency:true,limit:MAX_DEFAULT_MATCH_CNT,allow_empty_query:true};temp_matches=TS.sorter.search(word_before.replace(/^#/,""),search_data,search_options)}else{var channels=TS.channels.getChannelsForUser();var channel;var name;var search_str=word_before.replace("#","");if(data.channel_prefix&&word_before.toLowerCase().indexOf(data.channel_prefix.toLowerCase())==0){search_str=search_str.substr(data.channel_prefix.length);prefix=data.channel_prefix}for(var i=0;i<channels.length;i++){channel=channels[i];if(channel.is_archived)continue;name=channel._name_lc;if(name.indexOf(search_str)==0||("#"+name).indexOf(search_str)==0){temp_matches.push(channel.name)}}}if(!temp_matches.length){return false}data.channel_matches_index=0;if(temp_matches.length>0){data.channel_matches=temp_matches}match=getNameForMatch(temp_matches[data.channel_matches_index])}data.matched_on=word_before;if(!word_before){var name_chunk=beforeA[beforeA.length-2];if(data.channel_prefix&&name_chunk.toLowerCase().indexOf(data.channel_prefix.toLowerCase())==0){prefix=data.channel_prefix}beforeA[beforeA.length-2]=prefix+"#"+match}else{beforeA[beforeA.length-1]=prefix+"#"+match+" "}if(!e)return MATCHES_SET;var new_before=beforeA.join(" ");var new_cp=new_before.length;var new_txt=txt.replace(before,new_before);if(lines_beforeA.length){new_cp+=lines_beforeA.join("\n").length+1;new_txt=lines_beforeA.join("\n")+"\n"+new_before+all_after_str}if(data.onComplete){data.onComplete(new_txt)}TS.utility.contenteditable.cursorPosition(input,new_cp);data.selected_index=data.channel_matches_index;return MATCH_CHANGED}function promiseToCompleteOnMembers(txt,input,e,ret){if(TS.boot_data.feature_shared_channels_ui&&TS.boot_data.page_needs_enterprise){var data=input.data("TS-tabComplete");var cp=TS.utility.contenteditable.cursorPosition(input).start;if(data.search_p)data.search_p.cancel();if(cp==0){return Promise.resolve(ret)}var lines_beforeA=txt.substr(0,cp).split("\n");var before=lines_beforeA.pop();var beforeA=before.split(" ");var word_before=beforeA[beforeA.length-1].toLowerCase();if(!word_before&&!data.member_matches){return Promise.resolve(ret)}var event_data={};event_data.current_matches=data.member_matches||[];event_data.matched_on=data.matched_on;if(data.matched_on&&data.matched_on.indexOf("@")!=0&&(!e||e.which!=TS.utility.keymap.tab)){return Promise.resolve(ret)}var skip_extended_search=true;var limit=0;if(ret==MATCHES_SET){skip_extended_search=event_data.current_matches.length===1&&("@"+event_data.current_matches[0]==event_data.matched_on||event_data.current_matches[0]==event_data.matched_on)||data.matched_on.indexOf("@")!=0&&(data.matched_on.length<3||data.member_prefix_required||TS.model.prefs.require_at)||(data.matched_on=="the"||data.matched_on=="and")||event_data.current_matches.length>=MAX_DEFAULT_MATCH_CNT;limit=MAX_DEFAULT_MATCH_CNT-event_data.current_matches.length}else if(!ret){skip_extended_search=false;limit=MAX_DEFAULT_MATCH_CNT}if(skip_extended_search)return Promise.resolve(ret);return maybeStartExtendedSearch(data,word_before,limit).then(function(){return Promise.resolve(completeOnMembers(txt,input,e))})}else{return Promise.resolve(ret)}}function completeOnMembers(txt,input,e){var data=input.data("TS-tabComplete");var cp=TS.utility.contenteditable.cursorPosition(input).start;if(cp==0)return false;var all_after_str=txt.substr(cp);var lines_beforeA=txt.substr(0,cp).split("\n");var before=lines_beforeA.pop();var beforeA=before.split(/\s/g);var word_before=beforeA[beforeA.length-1].toLowerCase();var prefix="";if(!word_before&&!data.member_matches){return false}var colon="";var at=TS.boot_data.feature_name_tagging_client?"@":"";var temp_matches;var match;if(e&&e.chosen_index!=undefined){temp_matches=data.member_matches;data.member_matches_index=cycle(e.chosen_index,data.member_matches.length-1);match=getNameForMatch(temp_matches[data.member_matches_index])}else if(!word_before){temp_matches=data.member_matches;if(e&&e.shiftKey){data.member_matches_index--;if(data.member_matches_index<0){data.member_matches_index=data.member_matches.length-1}}else{data.member_matches_index++;if(data.member_matches_index>=data.member_matches.length){data.member_matches_index=0}}match=getNameForMatch(temp_matches[data.member_matches_index])}else{var members_for_user=data.include_self?TS.members.getActiveMembersWithSelfAndSlackbot():TS.members.getActiveMembersWithSlackbotAndNotSelf();if(TS.boot_data.feature_shared_channels_ui&&TS.boot_data.page_needs_enterprise){var current_model_ob=TS.shared.getActiveModelOb();if(current_model_ob&&!current_model_ob.is_shared){members_for_user=members_for_user.filter(function(member){return member._is_local})}}var members=_.filter(members_for_user,{deleted:false});if(TS.boot_data.feature_autocomplete_frecency){var search_data={members:data.include_self?TS.members.getActiveMembersWithSelfAndSlackbot().slice():TS.members.getActiveMembersWithSlackbotAndNotSelf().slice(),usergroups:TS.user_groups.getActiveUserGroups()};if(data.complete_member_specials){search_data.broadcast_keywords=TS.utility.members.getBroadcastKeywordsForUser()}var model_ob=TS.shared.getActiveModelOb();var prefer_channel_members=false;if(data.sort_by_membership&&model_ob){prefer_channel_members=!model_ob.is_im}var search_options={prefer_exact_match:true,frecency:true,limit:MAX_DEFAULT_MATCH_CNT,allow_empty_query:true};if(prefer_channel_members){search_options.model_ob=model_ob;search_options.prefer_channel_members=prefer_channel_members}temp_matches=TS.sorter.search(word_before.replace(/^@/,""),search_data,search_options)}else{temp_matches=[];var temp_name_matches=[];if(TS.boot_data.feature_name_tagging_client){var temp_preferred_name_matches=[];var temp_full_name_matches=[]}else{var temp_username_matches=[];var temp_first_name_matches=[];var temp_last_name_matches=[];var temp_real_name_matches=[]}if(TS.boot_data.feature_name_tagging_client){var preferred_name;var preferred_name_colon;var at_preferred_name;var at_preferred_name_colon;var full_name;var at_full_name;var full_name_normalized}else{var username;var username_colon;var at_username;var at_username_colon;var first_name;var last_name;var at_first_name;var at_last_name;var real_name_normalized}var search_str=word_before;var model_ob=TS.shared.getActiveModelOb();if(data.member_prefix&&word_before.toLowerCase().indexOf(data.member_prefix.toLowerCase())==0){search_str=search_str.substr(data.member_prefix.length);prefix=data.member_prefix}var real_name_regex=new RegExp("\\b"+TS.utility.regexpEscape(search_str.replace(/^@/,""),1e3),"i");var member;for(var i=0;i<members.length;i++){member=members[i];if(TS.boot_data.feature_name_tagging_client){preferred_name=member.profile.preferred_name?member._preferred_name_lc:"";preferred_name_colon=preferred_name+":";at_preferred_name="@"+preferred_name;at_preferred_name_colon="@"+username+":";full_name=member.profile.full_name?member._full_name_lc:"";at_full_name="@"+full_name;full_name_normalized=member._full_name_normalized_lc?member._full_name_normalized_lc:full_name;if(preferred_name&&preferred_name.indexOf(search_str)==0){temp_preferred_name_matches.push(member)}else if(preferred_name&&preferred_name_colon.indexOf(search_str)==0){temp_preferred_name_matches.push(member)}else if(preferred_name&&at_preferred_name.indexOf(search_str)==0){temp_preferred_name_matches.push(member)}else if(preferred_name&&at_preferred_name_colon.indexOf(search_str)==0){temp_preferred_name_matches.push(member)}else if(full_name&&full_name.indexOf(search_str)==0){temp_full_name_matches.push(member)}else if(full_name&&at_full_name.indexOf(search_str)==0){temp_full_name_matches.push(member)}else if(full_name&&real_name_regex.test(full_name_normalized)){temp_full_name_matches.push(member)}}else{username=member._name_lc;username_colon=username+":";at_username="@"+username;at_username_colon="@"+username+":";first_name=member.profile.first_name?member._first_nam_lc:"";last_name=member.profile.last_name?member._last_name_lc:"";at_first_name="@"+first_name;at_last_name="@"+last_name;real_name_normalized=member.profile.real_name_normalized?member.profile.real_name_normalized:"";if(username.indexOf(search_str)==0){temp_username_matches.push(member)}else if(username_colon.indexOf(search_str)==0){temp_username_matches.push(member)}else if(at_username.indexOf(search_str)==0){temp_username_matches.push(member)}else if(at_username_colon.indexOf(search_str)==0){temp_username_matches.push(member)}else if(first_name&&first_name.indexOf(search_str)==0){temp_first_name_matches.push(member)}else if(last_name&&last_name.indexOf(search_str)==0){temp_last_name_matches.push(member)}else if(first_name&&at_first_name.indexOf(search_str)==0){
temp_first_name_matches.push(member)}else if(last_name&&at_last_name.indexOf(search_str)==0){temp_last_name_matches.push(member)}else if(real_name_normalized&&real_name_regex.test(real_name_normalized)){temp_real_name_matches.push(member)}}}if(TS.boot_data.feature_name_tagging_client){temp_preferred_name_matches.sort(function compare(a,b){var a_srt=a._preferred_name_normalized_lc||a._preferred_name_lc;var b_srt=b._preferred_name_normalized_lc||b._preferred_name_lc;if(a_srt<b_srt)return-1;if(a_srt>b_srt)return 1;return 0});temp_full_name_matches.sort(function compare(a,b){var a_srt=a._full_name_normalized_lc||a._full_name_lc;var b_srt=b._full_name_normalized_lc||b._full_name_lc;if(a_srt<b_srt)return-1;if(a_srt>b_srt)return 1;return 0})}else{temp_username_matches.sort(function compare(a,b){var a_srt=a._name_lc;var b_srt=b._name_lc;if(a_srt<b_srt)return-1;if(a_srt>b_srt)return 1;return 0});temp_first_name_matches.sort(function compare(a,b){var a_srt=a._first_nam_lc;var b_srt=b._first_nam_lc;if(a_srt<b_srt)return-1;if(a_srt>b_srt)return 1;return 0});temp_last_name_matches.sort(function compare(a,b){var a_srt=a._last_name_lc;var b_srt=b._last_name_lc;if(a_srt<b_srt)return-1;if(a_srt>b_srt)return 1;return 0});temp_real_name_matches.sort(function compare(a,b){var a_srt=a._real_name_normalized_lc;var b_srt=b._real_name_normalized_lc;if(a_srt<b_srt)return-1;if(a_srt>b_srt)return 1;return 0})}if(TS.boot_data.feature_name_tagging_client){temp_name_matches=temp_name_matches.concat(temp_preferred_name_matches).concat(temp_full_name_matches)}else{temp_name_matches=temp_name_matches.concat(temp_username_matches).concat(temp_first_name_matches).concat(temp_last_name_matches).concat(temp_real_name_matches)}if(data.complete_user_groups&&search_str.length>1&&search_str.charAt(0)==="@"){var temp_user_group_matches=[];var user_groups=TS.model.user_groups;var user_group;var display_name;var display_name_colon;var at_display_name;var at_display_name_colon;var handle;var handle_colon;var at_handle;var at_handle_colon;var real_name_regex=new RegExp("\\b"+TS.utility.regexpEscape(search_str.replace(/^@/,""),1e3),"i");for(i=0;i<user_groups.length;i++){user_group=user_groups[i];if(user_group.date_delete||!user_group.handle)continue;display_name=user_group.name;display_name_colon=display_name+":";at_display_name="@"+display_name;at_display_name_colon="@"+display_name+":";handle=user_group.handle;handle_colon=handle+":";at_handle="@"+handle;at_handle_colon="@"+handle+":";if(display_name.indexOf(search_str)==0||display_name_colon.indexOf(search_str)==0||at_display_name.indexOf(search_str)==0||at_display_name_colon.indexOf(search_str)==0||handle.indexOf(search_str)==0||handle_colon.indexOf(search_str)==0||at_handle.indexOf(search_str)==0||at_handle_colon.indexOf(search_str)==0){temp_user_group_matches.push(user_group)}}temp_user_group_matches.sort(function compare(a,b){var a_srt=a.name;var b_srt=b.name;if(a_srt<b_srt)return-1;if(a_srt>b_srt)return 1;return 0});temp_name_matches=temp_name_matches.concat(temp_user_group_matches)}var do_sort_by_membership=data.sort_by_membership&&model_ob&&!model_ob.is_im;if(do_sort_by_membership){var A=[];for(i=0;i<temp_name_matches.length;i++){member=temp_name_matches[i];if(member.is_usergroup){var sort_by=3e6+i;TS.user_groups.getMembersInCorG(member.id,model_ob.id,function(members_in_channel){if(members_in_channel.length===member.user_count)sort_by=3e4+i});A.push({sort_by:sort_by,id:TS.boot_data.feature_name_tagging_client_extras?member.id:member.handle})}else if(member.is_bot||member.is_slackbot){A.push({sort_by:(model_ob.members.indexOf(member.id)==-1?2e6:2e4)+i,id:TS.boot_data.feature_name_tagging_client_extras?member.id:member.name})}else{A.push({sort_by:(model_ob.members.indexOf(member.id)==-1?1e6:1e4)+i,id:TS.boot_data.feature_name_tagging_client_extras?member.id:member.name})}}if(data.complete_member_specials){if(model_ob&&model_ob.is_general&&TS.members.canUserAtEveryone()){if("@everyone".indexOf(search_str)==0||"@all".indexOf(search_str)==0){A.push({sort_by:"@everyone"==search_str||"@all"==search_str?1:2e6,id:"everyone"})}}if(TS.members.canUserAtChannelOrAtGroup()&&model_ob&&(model_ob.is_channel||model_ob.is_group)&&(!model_ob.is_general||TS.members.canUserAtEveryone())){if("@channel".indexOf(search_str)==0){A.push({sort_by:5e5,id:"channel"})}if("@here".indexOf(search_str)==0){A.push({sort_by:5e5,id:"here"})}}}A.sort(function compare(a,b){if(a.sort_by<b.sort_by)return-1;if(a.sort_by>b.sort_by)return 1;return 0});for(i=0;i<A.length;i++){temp_matches.push(A[i].id)}}else{var humans=[];var bots=[];var user_groups=[];for(i=0;i<temp_name_matches.length;i++){member=temp_name_matches[i];var member_id;if(TS.boot_data.feature_name_tagging_client_extras){member_id=member.id}else{member_id=member.is_usergroup?member.handle:member.name}if(member.is_usergroup){user_groups.push(member_id)}else if(member.is_bot||member.is_slackbot){bots.push(member_id)}else{humans.push(member_id)}}temp_matches=humans.concat(user_groups).concat(bots);if(data.complete_member_specials){if(model_ob&&model_ob.is_general&&!TS.model.user.is_restricted){if("@everyone".indexOf(search_str)==0||"@all".indexOf(search_str)==0){if("@everyone"==search_str||"@all"==search_str){temp_matches.unshift("everyone")}else{temp_matches.push("everyone")}}}if(model_ob&&model_ob.is_channel){if("@channel".indexOf(search_str)==0){if("@channel"==search_str){temp_matches.unshift("channel")}else{temp_matches.push("channel")}}}else if(model_ob&&model_ob.is_group){if("@group".indexOf(search_str)==0){if("@group"==search_str){temp_matches.unshift("group")}else{temp_matches.push("group")}}}}}}if(!temp_matches.length)return false;data.member_matches_index=0;if(temp_matches.length>0)data.member_matches=temp_matches;match=getNameForMatch(temp_matches[data.member_matches_index])}data.matched_on=word_before;if(!word_before){var name_chunk=beforeA[beforeA.length-2];if(data.member_prefix&&name_chunk.toLowerCase().indexOf(data.member_prefix.toLowerCase())==0){prefix=data.member_prefix}if(!TS.boot_data.feature_name_tagging_client_extras){if(beforeA.length-2==0&&data.member_colon)colon=":"}if(name_chunk&&(name_chunk.indexOf("@")>-1||TS.model.team.prefs.require_at_for_mention))at="@";beforeA[beforeA.length-2]=prefix+at+match+colon}else{if(!TS.boot_data.feature_name_tagging_client_extras){if(beforeA.length-1==0&&data.member_colon)colon=":"}if(beforeA[beforeA.length-1].indexOf("@")>-1||TS.model.team.prefs.require_at_for_mention)at="@";beforeA[beforeA.length-1]=prefix+at+match+colon;beforeA[beforeA.length-1]+=" "}if(!e)return MATCHES_SET;var new_before=beforeA.join(" ");var new_cp=new_before.length;if(TS.boot_data.feature_name_tagging_client_extras){if(all_after_str.length&&all_after_str.charAt(0)===" "){new_before=new_before.slice(0,-1)}}var new_txt=txt.replace(before,new_before);if(lines_beforeA.length){new_cp+=lines_beforeA.join("\n").length+1;new_txt=lines_beforeA.join("\n")+"\n"+new_before+all_after_str}data.selected_index=data.member_matches_index;if(data.onComplete){data.onComplete(new_txt,new_cp)}if(!TS.boot_data.feature_name_tagging_client_extras){TS.utility.contenteditable.cursorPosition(input,new_cp)}return MATCH_CHANGED}function completeOnEmoji(txt,input,e){var data=input.data("TS-tabComplete");var cp=TS.utility.contenteditable.cursorPosition(input).start;if(cp==0){return false}var all_after_str=txt.substr(cp);var lines_beforeA=txt.substr(0,cp).split("\n");var before=lines_beforeA.pop();var beforeA=before.split(" ");var word_before=beforeA[beforeA.length-1].toLowerCase();if(!word_before&&!data.emoji_matches){return false}var prefix="";if(word_before){var good=false;if(word_before.indexOf(":")==0){good=true}else if(word_before.indexOf("+:")==0){prefix="+";good=true}else if(word_before.indexOf("-:")==0){prefix="-";good=true}if(!good)return false}else if(beforeA.length>1){var prev_word=beforeA[beforeA.length-2].toLowerCase();if(prev_word.indexOf("+:")==0){prefix="+"}else if(prev_word.indexOf("-:")==0){prefix="-"}}var temp_emoji_matches;var match;if(e&&e.chosen_index!=undefined){temp_emoji_matches=data.emoji_matches;data.emoji_matches_index=cycle(e.chosen_index,data.emoji_matches.length-1);match=getNameForMatch(temp_emoji_matches[data.emoji_matches_index])}else if(!word_before){temp_emoji_matches=data.emoji_matches;if(e&&e.shiftKey){data.emoji_matches_index--;if(data.emoji_matches_index<0){data.emoji_matches_index=data.emoji_matches.length-1}}else{data.emoji_matches_index++;if(data.emoji_matches_index>=data.emoji_matches.length){data.emoji_matches_index=0}}match=getNameForMatch(temp_emoji_matches[data.emoji_matches_index])}else{temp_emoji_matches=[];var search_str=word_before.replace(/\+:/,"").replace(/\-:/,"").replace(/:/g,"");if(TS.boot_data.feature_autocomplete_frecency){var search_data={emoji:TS.model.emoji_map};var search_options={prefer_exact_match:true,frecency:true,limit:MAX_DEFAULT_MATCH_CNT*2,allow_empty_query:true};temp_emoji_matches=TS.sorter.search(search_str,search_data,search_options)}else{var emoji_names=TS.model.emoji_names;var name;var rx=new RegExp("(^)"+TS.utility.regexpEscape(search_str,1e3),"i");var tone=TS.emoji.getChosenSkinTone();var show_all_skin_tones=!TS.model.prefs.preferred_skin_tone||TS.boot_data.feature_all_skin_tones&&TS.model.prefs.show_all_skin_tones;for(var i=0;i<emoji_names.length;i++){name=emoji_names[i];if(!show_all_skin_tones&&name.indexOf("::skin")!=-1)continue;if(!search_str||name.match(rx)){if(tone&&!show_all_skin_tones&&TS.emoji.isNameSkinToneModifiable(name)){name+="::"+tone}temp_emoji_matches.push(name)}}}if(!temp_emoji_matches.length){return false}data.emoji_matches_index=0;if(temp_emoji_matches.length>0){data.emoji_matches=temp_emoji_matches}match=getNameForMatch(temp_emoji_matches[data.emoji_matches_index])}data.matched_on=word_before;if(!word_before){beforeA[beforeA.length-2]=TS.boot_data.feature_autocomplete_frecency?prefix+match:prefix+":"+match+":"}else{beforeA[beforeA.length-1]=TS.boot_data.feature_autocomplete_frecency?prefix+match+" ":prefix+":"+match+":"+" "}if(!e)return MATCHES_SET;var new_before=beforeA.join(" ");var new_cp=new_before.length;var new_txt=txt.replace(before,new_before);if(lines_beforeA.length){new_cp+=lines_beforeA.join("\n").length+1;new_txt=lines_beforeA.join("\n")+"\n"+new_before+all_after_str}if(data.onComplete){data.onComplete(new_txt)}TS.utility.contenteditable.cursorPosition(input,new_cp);data.selected_index=data.emoji_matches_index;return MATCH_CHANGED}function reset(input,why){if(do_log)TS.warn("reset "+why);var data=input.data("TS-tabComplete");var current=getCurrent(data);data.cmds=null;data.cmd_matches=null;data.cmd_matches_index=-1;data.member_matches=null;data.member_matches_index=-1;data.emoji_matches=null;data.emoji_matches_index=-1;data.channel_matches=null;data.channel_matches_index=-1;data.matched_on="";data.work_on_textchange=true;data.selected_index=-1;data.ui_showing=false;if(data.search_p)data.search_p.cancel();if(current)input.trigger("reset",{w:current+" "+why})}function getCurrent(data){var current="";if(data.cmd_matches)current="cmds";if(data.member_matches)current="members";if(data.emoji_matches)current="emoji";if(data.channel_matches)current="channels";return current}function promiseToWork(input,e,do_cmds){var data=input.data("TS-tabComplete");var txt=TS.utility.contenteditable.value(input);var current=getCurrent(data);var ret=false;var event_data={hide_ui:false,delay_ui:false,shown_callback:function(){data.ui_showing=true}};var work_p=Promise.resolve();data.ui_showing=false;if(TS.model.prefs.enter_is_special_in_tbt&&TS.utility.isCursorWithinTBTs(input)){event_data.hide_ui=true}var should_process_emoji=data.complete_emoji;if(TS.boot_data.feature_name_tagging_client_extras){should_process_emoji=should_process_emoji&&(!current||current==="emoji")}if(should_process_emoji){work_p=work_p.then(function(){ret=completeOnEmoji(txt,input,e);if(do_log)TS.info("completeOnEmoji:"+ret);event_data.current_matches=data.emoji_matches||[];event_data.w="emoji";event_data.matched_on=data.matched_on;if(ret==MATCHES_SET){if(do_log)TS.info("trigger MATCHES_SET matched_on:"+data.matched_on+" emoji_matches: "+data.emoji_matches);if(data.matched_on.length<3){event_data.hide_ui=true}if(event_data.current_matches.length===1&&":"+event_data.current_matches[0]+":"==event_data.matched_on){event_data.hide_ui=true}if(!event_data.hide_ui){if(TS.model.prefs.tab_ui_return_selects)data.selected_index=data.emoji_matches_index}event_data.i=data.selected_index;input.trigger("matches_set",event_data);input.trigger("search_changed",event_data);return void work_p.cancel()}else if(ret==MATCH_CHANGED){if(do_log)TS.info("trigger MATCH_CHANGED "+data.emoji_matches_index);event_data.i=data.emoji_matches_index;input.trigger("match_changed",event_data);input.trigger("search_changed",event_data);return void work_p.cancel()}else{if(current=="emoji"){reset(input,"not acting")}else{}}})}var should_process_channels=data.complete_channels;if(TS.boot_data.feature_name_tagging_client_extras){should_process_channels=should_process_channels&&(!current||current==="channels")}if(should_process_channels){work_p=work_p.then(function(){ret=completeOnChannels(txt,input,e);if(do_log)TS.info("completeOnChannels:"+ret);event_data.current_matches=data.channel_matches||[];event_data.w="channels";event_data.matched_on=data.matched_on;if(ret==MATCHES_SET){if(do_log)TS.info("trigger MATCHES_SET matched_on:"+data.matched_on+" channel_matches: "+data.channel_matches);if(!data.matched_on){event_data.hide_ui=true}if(event_data.current_matches.length>MAX_DEFAULT_MATCH_CNT){event_data.hide_ui=true}if(event_data.current_matches.length===1&&("#"+event_data.current_matches[0]==event_data.matched_on||event_data.current_matches[0]==event_data.matched_on)){event_data.hide_ui=true}if(!event_data.hide_ui){if(TS.model.prefs.tab_ui_return_selects)data.selected_index=data.channel_matches_index}event_data.i=data.selected_index;input.trigger("matches_set",event_data);input.trigger("search_changed",event_data);return void work_p.cancel()}else if(ret==MATCH_CHANGED){if(do_log)TS.info("trigger MATCH_CHANGED "+data.channel_matches_index);event_data.i=data.channel_matches_index;input.trigger("match_changed",event_data);input.trigger("search_changed",event_data);return void work_p.cancel()}else{if(current=="channels"){reset(input,"not acting")}else{}}})}var should_process_cmds=data.complete_cmds;if(TS.boot_data.feature_name_tagging_client_extras){should_process_cmds=should_process_cmds&&(!current||current==="cmds")}if(should_process_cmds){work_p=work_p.then(function(){ret=completeOnCommandsNew(txt,input,e);if(do_log)TS.info("completeOnCommandsNew:"+ret);event_data.current_matches=data.cmd_matches||[];event_data.w="cmds";event_data.matched_on=data.matched_on;if(ret==MATCHES_SET){if(do_log)TS.info("trigger MATCHES_SET matched_on:"+data.matched_on+" cmd_matches: "+data.cmd_matches);if(data.matched_on.length<1){event_data.hide_ui=true}if(!event_data.hide_ui){if(TS.model.prefs.tab_ui_return_selects)data.selected_index=data.cmd_matches_index}event_data.i=data.selected_index;input.trigger("matches_set",event_data);input.trigger("search_changed",event_data);return void work_p.cancel()}else if(ret==MATCH_CHANGED){if(do_log)TS.info("trigger MATCH_CHANGED "+data.cmd_matches_index);event_data.i=data.cmd_matches_index;input.trigger("match_changed",event_data);input.trigger("search_changed",event_data);return void work_p.cancel()}else{if(current=="cmds"){reset(input,"not acting")}else{}}})}var should_process_members=data.complete_members;if(TS.boot_data.feature_name_tagging_client_extras){should_process_members=should_process_members&&(!current||current==="members")}if(should_process_members){work_p=work_p.then(function(){var notify=function(ret,fetching_more){if(do_log)TS.info("promiseToCompleteOnMembers:"+ret);event_data.current_matches=data.member_matches||[];event_data.w="members";event_data.matched_on=data.matched_on;event_data.sort_by_membership=data.sort_by_membership;if(data.matched_on&&data.matched_on.indexOf("@")!=0&&(!e||e.which!=TS.utility.keymap.tab)){event_data.delay_ui=true}if(ret==MATCHES_SET){if(do_log)TS.info("trigger MATCHES_SET matched_on:"+data.matched_on+" member_matches:"+data.member_matches);if(data.matched_on.indexOf("@")!=0&&(data.matched_on.length<3||data.member_prefix_required||TS.model.prefs.require_at)){event_data.hide_ui=true}if(data.matched_on=="the"||data.matched_on=="and"){event_data.hide_ui=true}if(event_data.current_matches.length>MAX_DEFAULT_MATCH_CNT){event_data.hide_ui=true}if(event_data.current_matches.length===1&&("@"+event_data.current_matches[0]==event_data.matched_on||event_data.current_matches[0]==event_data.matched_on)){event_data.hide_ui=true}if(!event_data.hide_ui){if(TS.model.prefs.tab_ui_return_selects)data.selected_index=data.member_matches_index}event_data.i=data.selected_index;input.trigger("matches_set",event_data);input.trigger("search_changed",event_data);if(!fetching_more)return void work_p.cancel()}else if(ret==MATCH_CHANGED){if(do_log)TS.info("trigger MATCH_CHANGED "+data.member_matches_index);event_data.i=data.member_matches_index;input.trigger("match_changed",event_data);input.trigger("search_changed",event_data);if(!fetching_more)return void work_p.cancel()}else{if(current=="members"){if(!fetching_more)reset(input,"not acting")}else{}}};var ret=completeOnMembers(txt,input,e);var ret_p=promiseToCompleteOnMembers(txt,input,e,ret);var fetching_more=!ret_p.isResolved();notify(ret,fetching_more);if(fetching_more)return ret_p.then(notify);return ret_p})}if(do_cmds&&should_process_cmds&&(!txt||txt.indexOf("/")==0)){work_p=work_p.then(function(){var ret=completeOnCommands(txt,input,e);if(ret)return void work_p.cancel()})}work_p=work_p.catch(function(error){return Promise.resolve()});return work_p}function maybeStartExtendedSearch(data,query,limit){if(TS.boot_data.feature_shared_channels_ui&&TS.boot_data.page_needs_enterprise&&limit){data.search_p=promiseToSearchMembers(query,limit).catch(function(error){TS.error("Failed to search in tab complete");return Promise.resolve()});return data.search_p}else{return Promise.resolve()}}function promiseToSearchMembers(query,limit){if(!TS.boot_data.feature_shared_channels_ui||!TS.boot_data.page_needs_enterprise||!limit)return Promise.resolve();if(query.charAt(0)==="@")query=query.substring(1);var searcher={query:query,max_api_results:limit,include_org:true,include_slackbot:false,include_self:false,full_profile_filter:false};return TS.members.promiseToSearchMembers(searcher).then(function(response){var items=response.items;if(TS.boot_data.feature_shared_channels_ui&&TS.boot_data.page_needs_enterprise){var current_model_ob=TS.shared.getActiveModelOb();if(current_model_ob&&!current_model_ob.is_shared){items=items.filter(function(item){return item._is_local})}}return Promise.resolve(items)})}function promiseToChoose(input,i,no_reset){if(do_log)TS.warn("choose calling work with fake e i:"+i);var data=input.data("TS-tabComplete");data.work_on_textchange=false;return promiseToWork(input,{chosen_index:i}).finally(function(){data.work_on_textchange=true;if(no_reset)return;if(TS.boot_data.feature_autocomplete_frecency)recordSelection(data);reset(input,"choose "+i)})}function recordSelection(data){var model_ob=null;var query=data.matched_on.replace(/^@/,"").replace(/^#/,"").replace(/^:/,"");if(data.member_matches_index>-1){model_ob=data.member_matches[data.member_matches_index].model_ob}else if(data.channel_matches_index>-1){model_ob=data.channel_matches[data.channel_matches_index].model_ob}else if(data.emoji_matches_index>-1){model_ob=data.emoji_matches[data.emoji_matches_index].model_ob}else if(data.cmd_matches_index>-1){}if(model_ob){TS.ui.frecency.record(model_ob,query)}}function getNameForMatch(match){var name_for_match;if(TS.boot_data.feature_autocomplete_frecency){if(match.model_ob.is_broadcast_keyword){name_for_match=match.model_ob.alias_for?match.model_ob.alias_for:match.model_ob.name}else if(match.model_ob.is_usergroup){name_for_match=match.model_ob.handle}else if(match.model_ob.is_emoji){if(match.model_ob.is_skin){name_for_match=match.model_ob.name_with_colons+TS.emoji.getChosenSkinToneModifier()}else{name_for_match=match.model_ob.name_with_colons}}else{if(TS.boot_data.feature_name_tagging_client_extras&&match.model_ob.presence){name_for_match=match.model_ob.id}else{name_for_match=match.model_ob.name}}}else{name_for_match=match}return name_for_match}var methods={reset:function(why){var $this=$(this);reset($this,"method called: "+why)},promiseToChoose:function(i,no_reset){var $this=$(this);return promiseToChoose($this,i,no_reset)},suspend:function(){var $this=$(this);var data=$this.data("TS-tabComplete");if(!data){TS.warn("suspend $(this).data('TS-tabComplete') failed to get data");return}data.suspended=true;reset($this,"suspended")},unsuspend:function(){var data=$(this).data("TS-tabComplete");if(!data){TS.warn("unsuspend $(this).data('TS-tabComplete') failed to get data");return}data.suspended=false},changeoption:function(which,val){var data=$(this).data("TS-tabComplete");data[which]=val},init:function(options){if(TS.boot_data.feature_autocomplete_frecency&&!has_modified_max_default_match_cnt){MAX_DEFAULT_MATCH_CNT=25;has_modified_max_default_match_cnt=true}if(!_has_set_log_timing){var percentage=10;_log_timing=TS.boot_data.feature_autocomplete_frecency?true:TS.utility.enableFeatureForUser(percentage);_has_set_log_timing=true}var settings=$.extend({complete_member_specials:false,complete_members:true,member_prefix:"",member_colon:TS.boot_data.feature_autocomplete_frecency?false:true,complete_cmds:false,complete_emoji:false,complete_channels:false,channel_prefix:"",no_tab_out:false,member_prefix_required:false,include_self:false,sort_by_membership:false},options);return this.each(function(){var $this=$(this);if($this.data("TS-tabComplete")){return}if(options.ui_initer){options.ui_initer($this)}$this.data("TS-tabComplete",{channel_prefix:settings.channel_prefix,cmd_matches_index:-1,cmd_matches:null,cmds:null,complete_channels:settings.complete_channels,complete_cmds:settings.complete_cmds,complete_emoji:settings.complete_emoji,complete_member_specials:settings.complete_member_specials,complete_members:settings.complete_members,complete_user_groups:settings.complete_user_groups,member_colon:settings.member_colon,member_matches_index:-1,member_matches:null,member_prefix:settings.member_prefix,onComplete:settings.onComplete,selected_index:-1,work_on_textchange:true,matched_on:"",suspended:options.suspended===true,member_prefix_required:settings.member_prefix_required,include_self:settings.include_self,sort_by_membership:settings.sort_by_membership});$this.bind("textchange",function(e){var data=$this.data("TS-tabComplete");if(data.suspended)return;if(data.work_on_textchange){if(do_log)TS.warn('textchange calling work no e text:"'+TS.utility.contenteditable.value(this)+'"');promiseToWork($this,null)}});$this.bind("paste",function(e){var data=$this.data("TS-tabComplete");reset($this,"paste");data.work_on_textchange=false;var tim=setTimeout(function(){data.work_on_textchange=true},50);$this.bind("textchange.after_paste",function(e){clearTimeout(tim);data.work_on_textchange=true;$this.unbind("textchange.after_paste")})});$this.bind("keydown",function(e){var data=$this.data("TS-tabComplete");if(data.suspended)return;if(_log_timing){var start_mark="start_autocomplete";TS.metrics.mark(start_mark)}var current=getCurrent(data);var keymap=TS.utility.keymap;if(do_log)TS.info("keydown:"+e.which+' text:"'+TS.utility.contenteditable.value(this)+'" current:'+current+" ---------------------------------------------------------------");var work_p=Promise.resolve();if(e.which==keymap.tab&&!(e.metaKey||e.ctrlKey)){data.work_on_textchange=false;if(do_log)TS.warn("keydown calling work WITH e");if(current||settings.no_tab_out)e.preventDefault();work_p=promiseToWork($this,e,true)}else if(e.which==keymap.space){if(current!="cmds"){reset($this,"space")}}work_p.finally(function(){if(!data.ui_showing)return;if(e.which==keymap.down&&current){e.preventDefault();return promiseToChoose($this,data.selected_index+1,true)}else if(e.which==keymap.up&&current){e.preventDefault();e.shiftKey=true;return promiseToChoose($this,data.selected_index-1,true)}else if(e.which==keymap.right&&current=="emoji"&&data.emoji_matches.length>1){e.preventDefault();return promiseToChoose($this,data.selected_index+1,true)}else if(e.which==keymap.left&&current=="emoji"&&data.emoji_matches.length>1){e.preventDefault();e.shiftKey=true;return promiseToChoose($this,data.selected_index-1,true)}else if(e.which==keymap.enter&&!TS.model.prefs.tab_ui_return_selects){reset($this,"enter")}else if(e.which==keymap.enter&&data.selected_index!=-1){if(current=="cmds"){return promiseToChoose($this,data.selected_index)}else{return promiseToChoose($this,data.selected_index)}}else if(e.which==keymap.enter||e.which==keymap.tab){var matches;if(current=="members")matches=data.member_matches;if(current=="channels")matches=data.channel_matches;if(current=="emoji")matches=data.emoji_matches;if(current=="cmds")matches=data.cmd_matches;if(matches&&matches.length==1){return promiseToChoose($this,0)}}else if(e.which==keymap.esc||e.which==keymap.alt||e.which==keymap.ctrl||e.which==keymap.cmd_ff||e.which==keymap.cmd_other||e.which==keymap.left||e.which==keymap.right||e.which==keymap.end||e.which==keymap.home){reset($this,e.which)}}).then(function(){if(_log_timing){if(TS.boot_data.feature_autocomplete_frecency){TS.metrics.measure("autocomplete_render_frecency",start_mark)}else{TS.metrics.measure("autocomplete_render",start_mark)}TS.metrics.clearMarks(start_mark)}})});$this.bind("keyup",function(e){var data=$this.data("TS-tabComplete");if(data.suspended)return;data.work_on_textchange=true})})}};$.fn.TS_tabComplete=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof method==="object"||!method){return methods.init.apply(this,arguments)}else{$.error("Method "+method+" does not exist on jQuery.tooltip")}}})(jQuery);(function(context,undefined){"use strict";function truncate(string,maxLength,options){if(string)string=string.replace(/\@/g,"&#64;");var EMPTY_OBJECT={},EMPTY_STRING="",DEFAULT_TRUNCATE_SYMBOL="...",EXCLUDE_TAGS=["img","br"],items=[],total=0,content=EMPTY_STRING,KEY_VALUE_REGEX='([\\w|-]+\\s*=\\s*"[^"]*"\\s*)*',IS_CLOSE_REGEX="\\s*\\/?\\s*",CLOSE_REGEX="\\s*\\/\\s*",SELF_CLOSE_REGEX=new RegExp("<\\/?\\w+\\s*"+KEY_VALUE_REGEX+CLOSE_REGEX+">"),HTML_TAG_REGEX=new RegExp("<\\/?\\w+\\s*"+KEY_VALUE_REGEX+IS_CLOSE_REGEX+">"),URL_REGEX=/(((ftp|https?):\/\/)[\-\w@:%_\+.~#?,&\/\/=]+)|((mailto:)?[_.\w\-]+@([\w][\w\-]+\.)+[a-zA-Z]{2,3})/g,IMAGE_TAG_REGEX=new RegExp("<img\\s*"+KEY_VALUE_REGEX+IS_CLOSE_REGEX+">"),matches=true,result,index,tail,tag,selfClose;function _removeImageTag(string){var match=IMAGE_TAG_REGEX.exec(string),index,len;if(!match){return string}index=match.index;len=match[0].length;return string.substring(0,index)+string.substring(index+len)}function _dumpCloseTag(tags){var html="";tags.reverse().forEach(function(tag,index){if(-1===EXCLUDE_TAGS.indexOf(tag)){html+="</"+tag+">"}});return html}function _getTag(string){var tail=string.indexOf(" ");if(-1===tail){tail=string.indexOf(">");if(-1===tail){throw new Error("HTML tag is not well-formed : "+string)}}return string.substring(1,tail)}options=options||EMPTY_OBJECT;options.ellipsis=undefined!==options.ellipsis?options.ellipsis:DEFAULT_TRUNCATE_SYMBOL;while(matches){matches=HTML_TAG_REGEX.exec(string);if(!matches){if(total>=maxLength){break}matches=URL_REGEX.exec(string);if(!matches||matches.index>=maxLength){content+=string.substring(0,maxLength-total);break}while(matches){result=matches[0];index=matches.index;content+=string.substring(0,index+result.length-total);string=string.substring(index+result.length);matches=URL_REGEX.exec(string)}break}result=matches[0];index=matches.index;if(total+index>maxLength){content+=string.substring(0,maxLength-total);break}else{total+=index;content+=string.substring(0,index)}if("/"===result[1]){items.pop()}else{selfClose=SELF_CLOSE_REGEX.exec(result);if(!selfClose){tag=_getTag(result);items.push(tag)}}if(selfClose){content+=selfClose[0]}else{content+=result}string=string.substring(index+result.length)}if(string.length>maxLength&&options.ellipsis){content+=options.ellipsis}content+=_dumpCloseTag(items);if(!options.keepImageTag){content=_removeImageTag(content)}return content}if("undefined"!==typeof module&&module.exports){module.exports=truncate}else{context.truncate=truncate}})(this);(function($,undefined){"use strict";var BLANK="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";$.fn.imagesLoaded=function(callback){var $this=this,deferred=$.isFunction($.Deferred)?$.Deferred():0,hasNotify=$.isFunction(deferred.notify),$images=$this.find("img").add($this.filter("img")),loaded=[],proper=[],broken=[];if($.isPlainObject(callback)){$.each(callback,function(key,value){if(key==="callback"){callback=value}else if(deferred){deferred[key](value)}})}function doneLoading(){var $proper=$(proper),$broken=$(broken);if(deferred){if(broken.length){deferred.reject($images,$proper,$broken)}else{deferred.resolve($images)}}if($.isFunction(callback)){callback.call($this,$images,$proper,$broken)}}function imgLoadedHandler(event){imgLoaded(event.target,event.type==="error")}function imgLoaded(img,isBroken){if(img.src===BLANK||$.inArray(img,loaded)!==-1){return}loaded.push(img);if(isBroken){broken.push(img)}else{proper.push(img)}$.data(img,"imagesLoaded",{isBroken:isBroken,src:img.src});if(hasNotify){deferred.notifyWith($(img),[isBroken,$images,$(proper),$(broken)])}if($images.length===loaded.length){setTimeout(doneLoading);$images.unbind(".imagesLoaded",imgLoadedHandler)}}if(!$images.length){doneLoading()}else{$images.bind("load.imagesLoaded error.imagesLoaded",imgLoadedHandler).each(function(i,el){var src=el.src;var cached=$.data(el,"imagesLoaded");if(cached&&cached.src===src){imgLoaded(el,cached.isBroken);return}if(el.complete&&el.naturalWidth!==undefined){imgLoaded(el,el.naturalWidth===0||el.naturalHeight===0);return}if(el.readyState||el.complete){el.src=BLANK;el.src=src}})}return deferred?deferred.promise($this):$this}})(jQuery);(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else{factory(jQuery)}})(function($){var widget_uuid=0,widget_slice=Array.prototype.slice;$.cleanData=function(orig){return function(elems){var events,elem,i;for(i=0;(elem=elems[i])!=null;i++){try{events=$._data(elem,"events");if(events&&events.remove){$(elem).triggerHandler("remove")}}catch(e){}}orig(elems)}}($.cleanData);$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget}$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName)};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element)}if(arguments.length){this._createWidget(options,element)}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base;basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return}proxiedPrototype[prop]=function(){var _super=function(){return base.prototype[prop].apply(this,arguments)},_superApply=function(args){return base.prototype[prop].apply(this,args)};return function(){var __super=this._super,__superApply=this._superApply,returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;
return returnValue}}()});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix||name:name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto)});delete existingConstructor._childConstructors}else{base._childConstructors.push(constructor)}$.widget.bridge(name,constructor);return constructor};$.widget.extend=function(target){var input=widget_slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value)}else{target[key]=value}}}}return target};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=widget_slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.widget.extend.apply(null,[options].concat(args)):options;if(isMethodCall){this.each(function(){var methodValue,instance=$.data(this,fullName);if(options==="instance"){returnValue=instance;return false}if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'")}if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance")}methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false}})}else{this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{});if(instance._init){instance._init()}}else{$.data(this,fullName,new object(options,this))}})}return returnValue}};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=widget_uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this.bindings=$();this.hoverable=$();this.focusable=$();if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy()}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0){return $.widget.extend({},this.options)}if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]]}key=parts.pop();if(arguments.length===1){return curOption[key]===undefined?null:curOption[key]}curOption[key]=value}else{if(arguments.length===1){return this.options[key]===undefined?null:this.options[key]}options[key]=value}}this._setOptions(options);return this},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key])}return this},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled",!!value);if(value){this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}}return this},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false}if(!handlers){handlers=element;element=this.element;delegateElement=this.widget()}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element)}$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return}return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments)}if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++}var match=event.match(/^([\w:-]*)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];if(selector){delegateElement.delegate(selector,eventName,handlerProxy)}else{element.bind(eventName,handlerProxy)}})},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;element.unbind(eventName).undelegate(eventName)},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments)}var instance=this;return setTimeout(handlerProxy,delay||0)},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover")},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus")},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop]}}}this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented())}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options}}var hasOptions,effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options}}hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay)}if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options)}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback)}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0])}next()})}}});var widget=$.widget});(function(){$.widget("TS.tab_complete_ui",{_$el:null,_$input:null,_$scroller:null,_$parent_scroller:null,_current_matches:[],_is_showing:false,_was_just_hidden:false,_last_shown_matches:null,_show_delay_tim:0,_show_delay_ms:500,_lazy_load:null,_scroll_raf:null,_currently_keyboard_highlighted:true,_date_start:new Date,_create:function(){this._$input=this.element;var id=this.options.id;this._$el=$('<div id="'+id+'" class="tab_complete_ui hidden inactive"> 					<div class="popover_mask"></div> 					<div class="tab_complete_ui_content"> 						<div id="'+id+'_header" class="tab_complete_ui_header"> 							<span class="header_label"></span> 							<span class="header_search_term"></span> 							<span class="header_help"><strong>tab</strong>&nbsp; or &nbsp;<strong>&uarr;</strong> <strong>&darr;</strong>&nbsp; to navigate <strong class="left_margin">↵</strong>&nbsp; to select <strong class="left_margin">esc</strong>&nbsp; to dismiss</span> 						</div> 					</div> 				</div>');if(this.options.narrow)this._$el.addClass("narrow");this._$scroller=$('<div id="'+id+'_scroller" class="tab_complete_ui_scroller"></div>');this._$el.find(".tab_complete_ui_content").append(this._$scroller);$("body").append(this._$el);if(!TS.environment.supports_custom_scrollbar){var debug=TS.qs_args["debug_scroll"]=="1";this._$scroller.monkeyScroll({debug:debug})}this._$el.bind("click",this._onElClick.bind(this));this._$el.bind("mousemove",this._onElMouseMove.bind(this));this._$el.on("mouseenter",".tab_complete_ui_item",this._onItemMouseEnter.bind(this));this._$input.bind("matches_set",this._onInputMatchesSet.bind(this));this._$input.bind("match_changed",this._onInputMatchChanged.bind(this));this._$input.bind("reset",this._onInputReset.bind(this));this._$input.bind("keydown",this._onInputKeyDown.bind(this));this._$input.bind("search_changed",this._onSearchChanged.bind(this))},_destroy:function(){this._$el.remove();$("html").unbind("mousedown.tabcomplete");if(this._$parent_scroller)this._$parent_scroller.unbind("scroll.tab_complete_ui")},_show_threshold:1e3,_show_slow:null,_show:function(event_data){this._currently_keyboard_highlighted=true;var start=new Date;event_data.shown_callback();var $el=this._$el;var $scroller=this._$scroller;var current_matches_as_string="";if(TS.boot_data.feature_autocomplete_frecency&&event_data.w!="cmds"){_.each(event_data.current_matches,function(m){current_matches_as_string+=m.model_ob.id})}else{current_matches_as_string=event_data.current_matches.join("")}if(this._last_shown_matches!==current_matches_as_string){this._last_shown_matches=current_matches_as_string;this._buildAndInsertHTML(event_data)}if(TS.ui.fs_modal_file_viewer&&TS.ui.fs_modal_file_viewer.is_showing||TS.boot_data.feature_popover_dismiss_only){$el.addClass("fsfv_open")}else{$el.removeClass("fsfv_open")}if(!this._is_showing){$el.removeClass("inactive").removeClass("hidden");$scroller.trigger("resize-immediate")}this._is_showing=true;$("html").unbind("mousedown.tabcomplete").bind("mousedown.tabcomplete",this._onMouseDown.bind(this));this._positionUI();var time=new Date-start;if(event_data&&event_data.w&&time>this._show_threshold&&!this._show_slow){if(event_data.w==="emoji"){TS.logError({message:"emoji took "+time+"ms for "+event_data.current_matches.length+" items (theshold is "+this._show_threshold+"ms). localStorage = "+(TS.model.prefs.ls_disabled?0:1)},"tab_complete_ui._show() with emoji exceeded slow threshold")}else if(event_data.w==="members"){TS.logError({message:"members took "+time+"ms for "+event_data.current_matches.length+" items (theshold is "+this._show_threshold+"ms). Member images: "+(!TS.model.mac_ssb_version||event_data.current_matches.length<100?"included.":"excluded.")+" App open for "+((new Date-this._date_start)/1e3/60).toFixed(2)+" min."},"tab_complete_ui._show() with members exceeded slow threshold")}this._show_slow=true}if(this.options.scroll_with_element){if(this._$parent_scroller)this._$parent_scroller.unbind("scroll.tab_complete_ui");this._$parent_scroller=this._$input.parents(":scrollable(vertical):first");this._$parent_scroller.bind("scroll.tab_complete_ui",this._onScroll.bind(this))}},_hide:function(){var $el=this._$el;this._is_showing=false;$el.addClass("inactive");$el.addClass("hidden");this._last_shown_matches=null;if(this._$parent_scroller)this._$parent_scroller.unbind("scroll.tab_complete_ui");this._was_just_hidden=true;setTimeout(function(){this._was_just_hidden=false}.bind(this),0)},_onInputKeyDown:function(e){this._currently_keyboard_highlighted=true},_onElClick:function(e){var $input=this._$input;var $clicked=$(e.target).closest(".tab_complete_ui_item");if(!$clicked.length)return;$input.TS_tabComplete("promiseToChoose",$clicked.data("index"))},_onElMouseMove:function(e){this._currently_keyboard_highlighted=false},_onItemMouseEnter:function(e){if(this._currently_keyboard_highlighted)return;var $input=this._$input;var $item=$(e.target).closest(".tab_complete_ui_item");var dont_submit=true;$input.TS_tabComplete("promiseToChoose",$item.data("index"),dont_submit)},_onSearchChanged:function(e,event_data){if(event_data.hide_ui)return;this._updateHeaderSearchTerm(event_data.matched_on)},_onInputMatchesSet:function(e,event_data){clearTimeout(this._show_delay_tim);var $el=this._$el;var $scroller=this._$scroller;this._current_matches=event_data.current_matches;if(event_data.hide_ui){this._hide()}else{var go=function(){this._show(event_data);$scroller.scrollTop(0);if(event_data.i!=-1){$el.find('.tab_complete_ui_item[data-index="'+event_data.i+'"]').addClass("active").scrollintoview({duration:10})}}.bind(this);if(event_data.delay_ui){this._show_delay_tim=setTimeout(go,this._show_delay_ms);$scroller.scrollTop(0);if(event_data.i!=-1){$el.find('.tab_complete_ui_item[data-index="'+event_data.i+'"]').addClass("active").scrollintoview({duration:10})}this._positionUI()}else{go()}}},_onInputMatchChanged:function(e,event_data){clearTimeout(this._show_delay_tim);var $el=this._$el;if(!this._current_matches){this._onInputMatchesSet(e,event_data);return}this._show(event_data);$el.find(".tab_complete_ui_item").removeClass("active");$el.find('.tab_complete_ui_item[data-index="'+event_data.i+'"]').addClass("active").scrollintoview({duration:10})},_onInputReset:function(e,event_data){clearTimeout(this._show_delay_tim);$("html").unbind("mousedown.tabcomplete");this._hide();this._current_matches=null},_onMouseDown:function(e){var $el=this._$el;var $input=this._$input;var $target=$(e.target);if($target.closest($el).length===0&&$target.closest($input).length===0||$target.hasClass("popover_mask")){$input.TS_tabComplete("reset","mousedown")}},_onScroll:function(e){TS.utility.cancelRAF(this._scroll_raf);this._scroll_raf=TS.utility.rAF(this._positionUI.bind(this))},_positionUI:function(){if(!this._$el||!this._$el.length)return;var $el=this._$el;var $input=this._$input;var offset=$input.offset();var $y_positioner=$input.data("$tab_complete_ui_y_positioner");if($y_positioner){var y_offset=$y_positioner.offset();offset.top=y_offset.top;offset.bottom=y_offset.bottom}var current_width=$input.width();var min_width=this.options.min_width||500;var padding=20;var new_width;var window_fit_width=$(window).width()-offset.left-padding;if(window_fit_width>0&&(window_fit_width<current_width||min_width>window_fit_width)){new_width=current_width=window_fit_width}else{new_width=Math.max(min_width,current_width)}$el.css({width:new_width});var x=offset.left;var y=offset.top-$el.outerHeight();if(offset.top<488){var max_height=Math.max(100,offset.top-32);this._$scroller.css("max-height",max_height);if(offset.top<max_height&&$input.attr("id")=="file_comment"){y=offset.top+$input.outerHeight()}}else{this._$scroller.css("max-height","")}var minimum_y=-2;if(y<0)y=minimum_y;$el.css({top:y,left:x});TS.ui.utility.updateClosestMonkeyScroller(this._$scroller)},positionUI:function(){this._positionUI()},isShowing:function(){return this._is_showing},wasJustHidden:function(){return this._was_just_hidden},_buildEmojiTemplateArgs:function(emoji){var emoji_template_args={};if(emoji.is_skin){emoji_template_args.show_skin_tone_variant=true;emoji_template_args.emoji_name_with_colons_and_skin=emoji.name_with_colons+TS.emoji.getChosenSkinToneModifier()}emoji_template_args.emoji=emoji;return emoji_template_args},_buildChannelTemplateArgs:function(channel){var channel_template_args={channel:channel};if(TS.boot_data.page_needs_enterprise){if(channel.is_shared){channel_template_args.is_shared_channel=true}}return channel_template_args},_buildMemberTemplateArgs:function(member){var primary_name_classes=[];var secondary_name_classes=[];if(TS.boot_data.feature_name_tagging_client){var secondary_name;primary_name_classes.push("display_name");secondary_name_classes.push("secondary_name");if(TS.members.shouldDisplayPreferredNames()&&TS.members.getMemberPreferredName(member)){primary_name_classes.push("preferred_name");secondary_name_classes.push("full_name");secondary_name=TS.members.getMemberFullName(member,true)}else{primary_name_classes.push("full_name");secondary_name_classes.push("preferred_name");secondary_name=TS.members.getMemberPreferredName(member,true)}}else{primary_name_classes.push("username");secondary_name_classes.push("realname")}var active_model_ob=TS.shared.getActiveModelOb();var show_channel_membership=!this.options.no_model_ob&&active_model_ob&&!active_model_ob.is_im;var member_does_not_belong_to_channel=false;if(show_channel_membership){if(active_model_ob.members.indexOf(member.id)==-1&&!member.is_slackbot){member_does_not_belong_to_channel=true}}var member_template_args={member:member,primary_name_classes:primary_name_classes.join(" "),secondary_name_classes:secondary_name_classes.join(" "),show_channel_membership:show_channel_membership,member_does_not_belong_to_channel:member_does_not_belong_to_channel};if(TS.boot_data.feature_name_tagging_client){member_template_args.secondary_name=secondary_name}return member_template_args},_buildUserGroupTemplateArgs:function(usergroup){var members_not_in_channel=0;var active_model_ob=TS.shared.getActiveModelOb();if(active_model_ob){TS.user_groups.getMembersInCorG(usergroup.id,active_model_ob.id,function(members_in_channel){members_not_in_channel=usergroup.user_count-members_in_channel.length})}var usergroup_template_args={usergroup:usergroup,members_not_in_channel:members_not_in_channel};return usergroup_template_args},_buildItemsHTML:function(event_data){var current_matches=this._current_matches;if(TS.boot_data.feature_autocomplete_frecency){var html;var type=event_data.w;var template_args={type:type};var item_template_args={};if(type=="cmds"){var commands_html=this._buildCmdsHTML(current_matches);template_args.commands_html=new Handlebars.SafeString(commands_html)}else if(type=="emoji"){var emoji;var emoji_html="";var self=this;_.forEach(current_matches,function(match,index){emoji=match.model_ob;item_template_args=self._buildEmojiTemplateArgs(emoji);item_template_args.index=index;emoji_html+=TS.templates.autocomplete_item_emoji(item_template_args)});template_args.emoji_html=new Handlebars.SafeString(emoji_html)}else if(type=="channels"){var channel;var channels_html="";var self=this;_.forEach(current_matches,function(match,index){channel=match.model_ob;item_template_args=self._buildChannelTemplateArgs(channel);item_template_args.index=index;channels_html+=TS.templates.autocomplete_item_channel(item_template_args)});template_args.channels_html=new Handlebars.SafeString(channels_html)}else if(type=="members"){var member;var members_html="";var usergroup;var usergroups_html="";var broadcast_keyword;var broadcast_keywords_html="";var self=this;_.forEach(current_matches,function(match,index){if(match.model_ob.is_usergroup){usergroup=match.model_ob;item_template_args=self._buildUserGroupTemplateArgs(usergroup);item_template_args.index=index;usergroups_html+=TS.templates.autocomplete_item_usergroup(item_template_args)}else if(match.model_ob.is_broadcast_keyword){broadcast_keyword=match.model_ob;if(broadcast_keyword.alias_for&&event_data.matched_on==="@")return;item_template_args.bk=broadcast_keyword;item_template_args.index=index;broadcast_keywords_html+=TS.templates.autocomplete_item_broadcast_keyword(item_template_args)}else{member=match.model_ob;item_template_args=self._buildMemberTemplateArgs(member);item_template_args.index=index;members_html+=TS.templates.autocomplete_item_member(item_template_args)}});template_args.usergroups_html=new Handlebars.SafeString(usergroups_html);template_args.members_html=new Handlebars.SafeString(members_html);template_args.broadcast_keywords_html=new Handlebars.SafeString(broadcast_keywords_html)}html=TS.templates.autocomplete_list(template_args)}else{var html=[];var ul_class="type_"+event_data.w;html.push('<ul class="'+ul_class+'">');if(event_data.w==="cmds"){html.push(this._buildCmdsHTML(current_matches))}else{for(var i=0;i<current_matches.length;i++){if(event_data.w=="emoji"){html.push('<li class="tab_complete_ui_item" data-index="'+i+'">'+this._buildEmojiHTML(current_matches[i])+"</li>")}else if(event_data.w=="channels"){html.push('<li class="tab_complete_ui_item" data-index="'+i+'">'+this._buildChannelHTML(current_matches[i])+"</li>")}else if(event_data.w=="cmds"){html.push('<li class="tab_complete_ui_item" data-index="'+i+'">'+this._buildCmdHTML(current_matches[i])+"</li>")}else{html.push(this._buildMemberHTML(current_matches,i,event_data.sort_by_membership))}}}html.push("</ul>");html=html.join("");if(event_data.w=="emoji"){html=TS.emoji.graphicReplace(html)}}return html},_buildMemberHTML:function(matches,i,sort_by_membership){var match=matches[i];var html;var needs_hr=false;var member_id_regex=/[UW][\dA-Z]{8}/;var memberLookupFn=member_id_regex.test(match)?TS.members.getMemberById:TS.members.getMemberByName;var prevMemberLookupFn=member_id_regex.test(matches[i-1])?TS.members.getMemberById:TS.members.getMemberByName;var user_group_id_regex=/S[\dA-Z]{8}/;var userGroupLookupFn=user_group_id_regex.test(match)?TS.user_groups.getUserGroupsById:TS.user_groups.getUserGroupsByHandle;var prevUserGroupLookupFn=user_group_id_regex.test(matches[i-1])?TS.user_groups.getUserGroupsById:TS.user_groups.getUserGroupsByHandle;if(match=="everyone"||match=="channel"||match=="group"||match=="here"){needs_hr=sort_by_membership&&i>0&&prevMemberLookupFn(matches[i-1]);html='<span class="broadcast">@'+match+"</span>";switch(match){case"everyone":html+=' <span class="broadcast_info">Notify everyone on your team.</span>';break;case"channel":html+=' <span class="broadcast_info">Notify everyone in this channel.</span>';break;case"group":html+=' <span class="broadcast_info">Notify everyone in this group.</span>';break;case"here":var ob_type=TS.shared.getActiveModelOb().is_channel?"channel":"private channel";html+=' <span class="broadcast_info">Notify every online desktop-using member in this '+ob_type+".</span>";break;default:break}}else if(userGroupLookupFn(match)){var user_group=userGroupLookupFn(match);if(user_group){needs_hr=sort_by_membership&&i>0&&!prevUserGroupLookupFn(matches[i-1]);var not_in_channel;var ob_type;var model_ob=TS.shared.getActiveModelOb();var members_in_channel_known;if(model_ob){if(model_ob.is_channel)ob_type="channel";if(model_ob.is_group&&!model_ob.is_mpim)"private channel";TS.user_groups.getMembersInCorG(user_group.id,model_ob.id,function(members_in_channel,is_actually_unknown_users){if(!is_actually_unknown_users)is_actually_unknown_users=false;members_in_channel_known=!is_actually_unknown_users;user_group=TS.user_groups.getUserGroupsById(user_group.id);not_in_channel=user_group.user_count-members_in_channel.length})}var description=(user_group.description||user_group.name)+" User Group";html='<span class="broadcast">@'+TS.utility.htmlEntities(user_group.handle)+"</span>";html+=' <span class="realname">'+user_group.user_count;html+=user_group.user_count==1?" member":" members";if(members_in_channel_known&&ob_type){html+=not_in_channel?" ("+not_in_channel+" not in "+ob_type+")":""}html+=' <span class="bullet">•</span> ';html+=TS.utility.htmlEntities(description);html+="</span>"}}else{var member=memberLookupFn(match);if(member){if(TS.boot_data.feature_name_tagging_client){if(TS.members.shouldDisplayPreferredNames()&&TS.members.getMemberPreferredName){html='<span class="display_name preferred_name">'}else{html='<span class="display_name full_name">'}html+=TS.members.getMemberDisplayName(member,true)+"</span>"}else{html='<span class="username">'+member.name+"</span>"}var model_ob=!this.options.no_model_ob&&TS.shared.getActiveModelOb();var is_member=model_ob&&!model_ob.is_im&&(model_ob.members.indexOf(member.id)>-1||member.is_slackbot);if(sort_by_membership&&i>0&&!is_member&&!model_ob.is_im){var prev_member=memberLookupFn(matches[i-1]);if(!prev_member||prev_member.is_slackbot||model_ob.members.indexOf(prev_member.id)>-1){needs_hr=true}}if(matches.length<100){html=TS.templates.builders.makeMemberPreviewLinkImage(member.id,20,true,true)+" "+html}if(member.presence){html+=TS.templates.makeMemberPresenceIcon(member)}if(TS.boot_data.feature_name_tagging_client){if(TS.members.shouldDisplayPreferredNames()&&TS.members.getMemberPreferredName(member)){html+=' <span class="full_name secondary_name">'+TS.members.getMemberFullName(member,true)+"</span>"}else{html+=' <span class="preferred_name secondary_name">'+TS.members.getMemberPreferredName(member,true)+"</span>"}}else{html+=' <span class="realname">'+TS.utility.htmlEntities(member.profile.real_name)+"</span>"}if(model_ob&&!member.is_slackbot&&!model_ob.is_im){if(!is_member){html+=' <span class="not_in_channel">(not in channel)</span>'}}}}if(!html){TS.warn("_buildMemberHTML could not find a member or usergroup matching: "+match);html="@"+match;if(TS.boot_data.feature_shared_channels){html+=" (This could be a shared channel member, this problem will get fixed)"}}html='<li class="tab_complete_ui_item" data-index="'+i+'">'+html+"</li>";if(needs_hr){html='<hr class="small_top_margin small_bottom_margin" />'+html}return html},_buildChannelHTML:function(match){var html='<span class="channelname"><ts-icon class="ts_icon_channel_pane_hash"></ts-icon>'+match+"</span>";if(TS.boot_data.page_needs_enterprise){var channel=TS.channels.getChannelByName(match);if(channel.is_shared){html='<span class="channelname display_flex"><span class="overflow_ellipsis"><ts-icon class="ts_icon_channel_pane_hash"></ts-icon>'+match+'</span><ts-icon class="ts_icon_shared_channel"></ts-icon></span>'}}return html},_groupCmdsByName:function(names){var cmds=names.map(function(name){return $.extend(true,{name:name},TS.cmd_handlers[name])});var groups=[this._getCoreCmdsGroup(cmds),this._getTeamCmdsGroup(cmds),this._getAppCmdsGroups(cmds)];var groups_flattened=Array.prototype.concat.apply([],groups);var filled_groups=groups_flattened.filter(function(group){return group.cmds.length>0});return filled_groups},_getCoreCmdsGroup:function(cmds){var is_shared=false;if(TS.boot_data.page_needs_enterprise){var model_ob=TS.shared.getActiveModelOb();if(model_ob&&model_ob.is_shared&&!model_ob.is_org_shared)is_shared=true}return{cmds:cmds.filter(function(cmd){return(cmd.type==="core"||cmd.type==="client")&&!(is_shared&&cmd.name==="/call")}),id:"core",name:"Slack"}},_getTeamCmdsGroup:function(cmds){var is_shared=false;if(TS.boot_data.page_needs_enterprise){var model_ob=TS.shared.getActiveModelOb();if(model_ob&&model_ob.is_shared)is_shared=true}return{cmds:cmds.filter(function(cmd){return!is_shared&&cmd.type==="custom"}),id:"custom",name:TS.model.team.name}},_getAppCmdsGroups:function(cmds){var app_cmds=cmds.filter(function(cmd){return cmd.type==="app"||cmd.type==="service"});var cmds_with_names=app_cmds.filter(function(cmd){return!!(cmd.service_name||cmd.app)});var cmds_without_names=app_cmds.filter(function(cmd){return!(cmd.service_name||cmd.app)});var apps={};cmds_with_names.forEach(function(cmd){var name=TS.cmd_handlers.getAppNameForCmdName(cmd.name);if(!apps[name])apps[name]=[];apps[name].push(cmd)});var sorted_names=TS.apps.sortNames(Object.keys(apps));var groups=sorted_names.map(function(name){return{cmds:apps[name],id:"app",name:name}});groups.push({cmds:cmds_without_names,id:"app",name:"Other"});return groups},_buildCmdsHTML:function(current_matches){var matches_sorted=TS.cmd_handlers.sortNames(current_matches);var cmd_groups=this._groupCmdsByName(matches_sorted);var html="";var index=0;cmd_groups.forEach(function(group){html+='<li class="tab_complete_ui_group">';html+='<span class="group_name">'+TS.utility.htmlEntities(group.name)+"</span>";html+='<hr class="group_divider" />';html+="</li>";group.cmds.forEach(function(cmd){html+='<li class="tab_complete_ui_item" data-index="'+index+'">';html+=this._buildCmdHTML(cmd.name);html+="</li>";index+=1}.bind(this))}.bind(this));return html},_buildCmdHTML:function(match){var ob=TS.cmd_handlers[match];var html;if(ob){var aliases_txt="";if(ob.aliases){aliases_txt=" (or "+ob.aliases.join(", ")+")"}var args_txt="";if(ob.usage){args_txt=" "+ob.usage;args_txt=args_txt.replace(/</g,'<span class="argname argoptional"%%%% &lt;');args_txt=args_txt.replace(/\>/g,"&gt;</span>");args_txt=args_txt.replace(/\%\%\%\%/g,">");args_txt=args_txt.replace(/\[/g,'<span class="argname"> [');args_txt=args_txt.replace(/\]/g,"]</span>")}else if(ob.args){var arg;for(var i=0;i<ob.args.length;i++){arg=ob.args[i];if(arg.optional){args_txt+=' <span class="argname argoptional"> ['+arg.name+"]</span>"}else{args_txt+=' <span class="argname"> '+arg.name+"</span>"}}}html='<div class="cmd-left-td"><span class="cmdname">'+TS.utility.htmlEntities(match)+"</span>"+aliases_txt+args_txt+'</div><div class="cmd-right-td"><span class="cmddesc">'+TS.utility.htmlEntities(ob.desc)+"</span></div>"}else{html='<div class="cmd-left-td"><span class="cmdname">'+match+"</span></div>"}return html},_buildEmojiHTML:function(match){var include_emoji_text=!TS.model.prefs.emoji_autocomplete_big;var html=":"+match+": ";if(include_emoji_text)html=":"+match+": "+"&#58;"+match+"&#58";return html},_buildHeaderHTML:function(event_data){var html="";if(event_data.w=="members"){html="People"}else if(event_data.w=="cmds"){html="Commands"}else{html=_.capitalize(event_data.w)}return html},_buildAndInsertHTML:function(event_data){var $scroller=this._$scroller;this._$el.find(".header_label").html(this._buildHeaderHTML(event_data));$scroller.html(this._buildItemsHTML(event_data));if(this._lazyload&&this._lazyload.detachEvents){this._lazyload.detachEvents()}this._lazyload=$scroller.find(".lazy").lazyload({container:this._$scroller})},_updateHeaderSearchTerm:function(txt){var html="";var txt_is_menu_indicator=_menu_indicators.indexOf(txt)!==-1;if(txt&&!txt_is_menu_indicator){html=' matching "<strong>'+TS.utility.htmlEntities(txt)+'</strong>"'}this._$el.find(".header_search_term").html(html)}});var _menu_indicators=["@","#","/",":"]})();(function(){"use strict";$.widget("TS.longListView",{_dirty:false,_$container:null,_$scrollable:null,_scrollable_height:null,_scrollable_width:null,_scrollable_offset:null,_list_height:null,_scroll_top:null,_visible_items_map:null,_item_heights:null,_free_elements:null,_free_dividers:null,_buffer_size:_DEFAULT_BUFFER_SIZE,_scrolling:false,_use_sticky:false,_preserve_dom_order:false,_create:function(){this._use_sticky=TS.model.supports_sticky_position;if(this.options.pin_dividers&&!this._use_sticky){this.options.pin_dividers=false}this._boundResize=this._resize.bind(this);if(!TS.view)this._debouncedResize=TS.utility.throttleFunc(this._boundResize,500,true);this._debouncedStoppedScrolling=TS.utility.throttleFunc(this._stoppedScrolling.bind(this),150,true);this._debouncedDoneInertialScrolling=TS.utility.throttleFunc(this._doneInertialScrolling.bind(this),150,true);this._dirty=false;this._visible_items_map={};this._free_elements=[];this._free_dividers=[];this._preserve_dom_order=this.options.preserve_dom_order;this._$container=this.element;this._$container.addClass("not_scrolling");if(this.options.scrollable){this._$scrollable=$(this.options.scrollable)}else{this._$scrollable=this._$container}this._calculateSizing();
this._$list_wrapper=$('<div class="list_items">').css({position:"relative"}).appendTo(this._$container);this._buffer_size=this.options.buffer_size||_DEFAULT_BUFFER_SIZE;this._initForData();if(this.element.closest("body").length)this.start();this._initInertialScrollFix()},_destroy:function(){if(TS.view)TS.view.resize_sig.remove(this._boundResize,this);if(this._boundOnScroll)this._$scrollable.off("scroll",this._boundOnScroll);if(this._debouncedResizeWrapper)$(window).off("resize",this._debouncedResizeWrapper);if(this._animation)this._animation.stop();this._$list_wrapper.remove()},start:function(){this._animation=TS.utility.startAnimation(this._renderUI.bind(this));this._boundOnScroll=this._onScroll.bind(this);this._$scrollable.on("scroll",this._boundOnScroll);if(TS.view){TS.view.resize_sig.add(this._boundResize,this,1)}else{this._debouncedResizeWrapper=function(){this._debouncedResize()}.bind(this),$(window).on("resize",this._debouncedResizeWrapper)}},setItems:function(items,force_render,try_to_preserve_calculated_heights){var preserved_heights={};if(try_to_preserve_calculated_heights){this._item_heights.forEach(function(h_map){if(h_map.approx)return;var id=this.options.items[h_map.index].id;if(!id)return;preserved_heights[id]=h_map.height},this)}this.options.items=items;this._initForData(force_render,preserved_heights)},_initForData:function(force_render,preserved_heights){this._dirty=true;this._item_heights=[];var acc=0;var since_last_divider=0;var item;var height;var sticky_dividers=this.options.pin_dividers&&this._use_sticky;var is_approx;for(var i=0;i<this.options.items.length;i++){item=this.options.items[i];is_approx=true;if(item.is_divider){height=this.options.approx_divider_height||this.options.approx_item_height}else{height=this.options.approx_item_height}if(preserved_heights&&item.id&&preserved_heights.hasOwnProperty(item.id)){is_approx=false;height=preserved_heights[item.id]}this._item_heights.push({index:i,top:acc,margin_top:item.is_divider&&sticky_dividers?since_last_divider:null,height:height,approx:is_approx});if(item.is_divider&&sticky_dividers){since_last_divider=0}else{since_last_divider+=height}acc+=height}this._$list_wrapper.css("height",acc);this._list_height=acc;var current_range=Object.keys(this._visible_items_map);current_range.forEach(function(i){this._recycle(i)},this);if(force_render){this._free_elements.forEach(function(item){item.id=null})}var element;var h_map;if(sticky_dividers){for(i=0;i<this.options.items.length;i++){item=this.options.items[i];if(item.is_divider){element=this._renderItem(i);this._visible_items_map[i]=element;h_map=this._item_heights[i];element.$el.css("margin-top",h_map.margin_top+"px");element.top=h_map.margin_top}}}},_animation:null,_renderUI:function(){if(this._is_hidden)return;if(!this._dirty)return;var sticky_dividers=this.options.pin_dividers&&this._use_sticky;var top=this._scroll_top-this._scrollable_offset;var bottom=this._scroll_top+this._scrollable_height-this._scrollable_offset;if(top===bottom)return;var first=null,last=null;var last_item_offsets=_.last(this._item_heights);var bottom_of_last_item_in_list=last_item_offsets?this._scrollable_offset+last_item_offsets.top+last_item_offsets.height:Infinity;if(bottom_of_last_item_in_list<=this._scroll_top){first=_.last(this.options.items);last=first}else{var h_index,h_map;for(h_index=0;h_index<this._item_heights.length;h_index++){h_map=this._item_heights[h_index];if(first===null){if(h_map.top<=top&&h_map.top+h_map.height>top){first=h_index}}if(last===null){if(h_map.top<=bottom&&h_map.top+h_map.height>bottom){last=h_index}}if(first!==null&&last!==null){break}}}if(first===null&&last===null&&this._item_heights.length){h_index=this._item_heights.length-1;h_map=this._item_heights[h_index];if(h_map.top+h_map.height<bottom)last=h_index}if(first===null&&last===null){if(this._scroll_top<this._scrollable_offset){first=0;last=0}else{first=this.options.items.length-1;last=this.options.items.length-1}}else{if(first===null)first=0;if(last===null)last=this.options.items.length-1}first=Math.max(0,first-this._buffer_size);last=Math.min(this.options.items.length-1,last+this._buffer_size);var pinned_divider_index=null;if(this.options.pin_dividers&&!this._use_sticky){for(h_index=0;h_index<this._item_heights.length;h_index++){h_map=this._item_heights[h_index];if(h_map.top>=top)break;if(this.options.items[h_index].is_divider)pinned_divider_index=h_index}}var current_range=Object.keys(this._visible_items_map);current_range.forEach(function(i){i=parseInt(i,10);if((i<first||i>last)&&i!==pinned_divider_index){if(sticky_dividers&&this._visible_items_map[i].is_divider)return;if(this._visible_items_map[i].$el.data("no-remove"))return;this._recycle(i)}},this);current_range=Object.keys(this._visible_items_map);var element;var newly_inserted=[];for(var i=first;i<=last;i++){if(current_range.indexOf(i.toString())!==-1)continue;element=this._renderItem(i);this._visible_items_map[i]=element;newly_inserted.push(i);_log("rendered item "+i)}current_range=Object.keys(this._visible_items_map);if(pinned_divider_index!==null&&current_range.indexOf(pinned_divider_index.toString())===-1&&pinned_divider_index<first){element=this._renderItem(pinned_divider_index);this._visible_items_map[pinned_divider_index]=element;newly_inserted.unshift(pinned_divider_index);current_range=Object.keys(this._visible_items_map)}if(this._preserve_dom_order){newly_inserted.forEach(function(inx){var element=this._visible_items_map[inx];var prev=this._visible_items_map[inx-1];if(prev){prev.$el.after(element.$el)}else{element.$el.prependTo(this._$list_wrapper)}},this)}if(pinned_divider_index!==null){current_range.forEach(function(inx){if(parseInt(inx,10)===pinned_divider_index){this._visible_items_map[inx].is_pinned=true;this._visible_items_map[inx].$el.css("z-index",_PINNED_Z_INDEX)}else if(this._visible_items_map[inx].is_pinned){this._visible_items_map[inx].is_pinned=false;this._visible_items_map[inx].$el.css("z-index",_DIVIDER_Z_INDEX)}},this)}newly_inserted.forEach(function(inx){var element=this._visible_items_map[inx];var h_map=this._item_heights[inx];if(!h_map.approx)return;var h=this.options.approx_item_height;if(element.is_divider&&this.options.approx_divider_height)h=this.options.approx_divider_height;if(element.is_divider&&$.isFunction(this.options.calcDividerHeight)){h=this.options.calcDividerHeight(element.$el,this.options.items[inx],element.data)}else if($.isFunction(this.options.calcItemHeight)){h=this.options.calcItemHeight(element.$el,this.options.items[inx],element.data)}var diff=h-h_map.height;h_map.height=h;h_map.approx=false;if(diff===0)return;var reached_sticky_divider=false;for(var i=inx+1;i<this.options.items.length;i++){h_map=this._item_heights[i];if(sticky_dividers&&this.options.items[i].is_divider){if(!reached_sticky_divider){reached_sticky_divider=true;h_map.margin_top+=diff}}h_map.top+=diff}},this);current_range.forEach(function(inx){var element=this._visible_items_map[inx];var $el=element.$el;var h_map=this._item_heights[inx];if(element.is_divider&&sticky_dividers){if(element.top!==h_map.margin_top){$el.css("margin-top",h_map.margin_top+"px");element.top=h_map.margin_top}}else if(element.is_pinned){_setTopPosition($el,top);element.top=top}else if(element.top!==h_map.top){_setTopPosition($el,h_map.top);element.top=h_map.top}},this);var last_row_h_map=this._item_heights[this._item_heights.length-1];if(last_row_h_map!==undefined){var total_height=last_row_h_map.height+last_row_h_map.top;if(total_height!==this._list_height){this._$list_wrapper.css("height",total_height);this._list_height=total_height}}this._free_elements.forEach(function(el){el.$el.addClass("hidden");if(this._preserve_dom_order)el.$el.appendTo(this._$list_wrapper)},this);this._free_dividers.forEach(function(el){el.$el.addClass("hidden");if(this._preserve_dom_order)el.$el.appendTo(this._$list_wrapper)},this);this._dirty=false;_log(current_range.length+" visible elements, "+this._free_elements.length+" free elements.")},itemUpdated:function(item){var inx=this.options.items.indexOf(item);if(inx===-1)return;this.itemUpdatedByIndex(inx)},itemUpdatedById:function(id){for(var i=0;i<this.options.items.length;i++){if(this.options.items[i].id===id)return this.itemUpdatedByIndex(i)}},itemUpdatedByIndex:function(inx){var visible_item=this._visible_items_map[inx];if(visible_item)this._recycle(inx);var item=this.options.items[inx];if(item&&item.id){this._free_elements.forEach(function(free_el){if(free_el.id===item.id)free_el.id=null})}var h_map=this._item_heights&&this._item_heights[inx];if(h_map){h_map.approx=true}this._dirty=true},_onScroll:function(){if(this._is_hidden)return;this._scroll_top=this._$scrollable.scrollTop();this._dirty=true;if(this._scrolling){this._debouncedStoppedScrolling()}else{this._scrolling=true;TS.utility.rAF(function(){this._$container.removeClass("not_scrolling")}.bind(this));this._debouncedStoppedScrolling()}},_debouncedStoppedScrolling:null,_stoppedScrolling:function(){this._$container.addClass("not_scrolling");this._scrolling=false},_recycle:function(index){_log("Recyling item "+index);var element=this._visible_items_map[index];var sticky_dividers=this.options.pin_dividers&&this._use_sticky;element.in_use=false;element.inx=-1;if(element.is_divider){if(sticky_dividers){element.$el.remove()}else{element.is_pinned=false;element.$el.css("z-index",_DIVIDER_Z_INDEX);this._free_dividers.push(element)}}else{this._free_elements.push(element)}delete this._visible_items_map[index]},_renderItem:function(i){var item=this.options.items[i];var element;if(item.is_divider){element=this._takeDivider()}else{element=this._takeElement(item)}element.in_use=true;element.$el.removeClass("hidden");element.inx=i;if(item.is_divider){this.options.renderDivider(element.$el,item,element.data)}else{var was_id=element.id;element.id=item.id;if(!element.id||was_id!==element.id){this.options.renderItem(element.$el,item,element.data)}}element.$el.data("order-index",i);return element},_takeElement:function(item){if(this._free_elements.length>0){if(item&&item.id){for(var i=0;i<this._free_elements.length;i++){if(this._free_elements[i].id===item.id){var element=this._free_elements[i];this._free_elements.splice(i,1);return element}}}return this._free_elements.pop()}_log("No free elements; building extra.");return this._makeElement()},_takeDivider:function(){if(this._free_dividers.length>0)return this._free_dividers.pop();_log("No free dividers; building extra.");var make_divider=true;return this._makeElement(make_divider)},_makeElement:function(make_divider){var data={};var $el;if(make_divider){$el=this.options.makeDivider(data);$el.css("z-index",_DIVIDER_Z_INDEX)}else{$el=$(this.options.makeElement(data))}$el.attr("data-long-list-item","1");if(make_divider&&this.options.pin_dividers&&this._use_sticky){$el.css({position:"-webkit-sticky",top:"0"})}else{$el.css({position:"absolute",top:"0"})}$el.addClass("hidden");$el.appendTo(this._$list_wrapper);return{inx:-1,id:null,$el:$el,in_use:false,data:data,top:0,is_divider:!!make_divider,is_pinned:false}},_debouncedResize:null,_resize:function(force_recalc_scrollable_offset){if(this._is_hidden)return;var changed=this._calculateSizing(force_recalc_scrollable_offset);if(!changed)return;for(var i=0;i<this._item_heights.length;i++){this._item_heights[i].approx=true}var current_range=Object.keys(this._visible_items_map);var sticky_dividers=this.options.pin_dividers&&this._use_sticky;current_range.forEach(function(i){if(!(sticky_dividers&&this.options.items[i].is_divider))this._recycle(i)},this);this._dirty=true},resizeImmediately:function(force_recalc_scrollable_offset){this._resize(force_recalc_scrollable_offset)},recalculateScrollableOffset:function(){var force_recalc_scrollable_offset=true;this._calculateSizing(force_recalc_scrollable_offset)},_calculateSizing:function(force_recalc_scrollable_offset){var new_height=this._$scrollable.height();var new_width=this._$scrollable.width();if(new_height!==this._scrollable_height||new_width!==this._scrollable_width){this._scrollable_height=new_height;this._scrollable_width=new_width}else if(!force_recalc_scrollable_offset){return false}this._scroll_top=this._$scrollable.scrollTop();if(this._$scrollable[0]===this._$container[0]){this._scrollable_offset=0;return true}var scrollable_offset=this._$scrollable.offset();var container_offset=this._$container.offset();if(scrollable_offset&&container_offset){this._scrollable_offset=container_offset.top-(scrollable_offset.top-this._scroll_top)}else if(container_offset){this._scrollable_offset=container_offset.top}return true},scrollToTop:function(immediately){var pos=0;if(immediately){this._scrollImmediately(pos)}else{this._$scrollable.scrollTop(pos)}},scrollToEnd:function(immediately){if(this._list_height<this._scrollable_height)return;var pos=this._list_height-this._scrollable_height;if(immediately){this._scrollImmediately(pos)}else{this._$scrollable.scrollTop(pos)}},scrollToPosition:function(pos,immediately){if(this._list_height<this._scrollable_height)return;pos=Math.abs(pos);if(pos<this._list_height){if(immediately){this._scrollImmediately(pos)}else{this._$scrollable.scrollTop(pos)}}else{this.scrollToEnd(immediately)}},_scrollImmediately:function(pos){this._$scrollable.scrollTop(pos);this._scroll_top=pos;this._dirty=true;this._renderUI()},_inertialScrollStart:null,_initInertialScrollFix:function(){this._$list_wrapper.on("mousewheel",function(e){var $item=$(e.target).closest("[data-long-list-item]");if($item.length&&this._inertialScrollStart!==$item[0]){if(this._inertialScrollStart)$(this._inertialScrollStart).data("no-remove",false);$item.data("no-remove",true);this._inertialScrollStart=$item[0]}});this._debouncedDoneInertialScrolling()},_debouncedDoneInertialScrolling:null,_doneInertialScrolling:function(){if(this._inertialScrollStart){$(this._inertialScrollStart).data("no-remove",false);this._inertialScrollStart=null}},setHidden:function(is_hidden){this._is_hidden=is_hidden},renderUI:function(){this._renderUI()},setScrollTop:function(top){this._scroll_top=top;this._dirty=true}});var _DEFAULT_BUFFER_SIZE=3;var _PINNED_Z_INDEX=1;var _DIVIDER_Z_INDEX=2;var _log=function(txt){TS.log(2001,"long_list_view.js: "+txt)};var _setTopPosition=function($el,top){var el=$el[0];if(!el)return;var transform_prop;var transform_val="translateY("+top+"px)";if(el.style.transform!==undefined){transform_prop="transform"}else if(el.style.webkitTransform!==undefined){transform_prop="webkitTransform"}else if(el.style.mozTransform!==undefined){transform_prop="mozTransform"}if(transform_prop){el.style[transform_prop]=transform_val}else{el.style.top=top+"px"}}})();!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_=="function"&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof _dereq_=="function"&&_dereq_;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){var SomePromiseArray=Promise._SomePromiseArray;function any(promises){var ret=new SomePromiseArray(promises);var promise=ret.promise();ret.setHowMany(1);ret.setUnwrap();ret.init();return promise}Promise.any=function(promises){return any(promises)};Promise.prototype.any=function(){return any(this)}}},{}],2:[function(_dereq_,module,exports){"use strict";var firstLineError;try{throw new Error}catch(e){firstLineError=e}var schedule=_dereq_("./schedule");var Queue=_dereq_("./queue");var util=_dereq_("./util");function Async(){this._isTickUsed=false;this._lateQueue=new Queue(16);this._normalQueue=new Queue(16);this._haveDrainedQueues=false;this._trampolineEnabled=true;var self=this;this.drainQueues=function(){self._drainQueues()};this._schedule=schedule}Async.prototype.enableTrampoline=function(){this._trampolineEnabled=true};Async.prototype.disableTrampolineIfNecessary=function(){if(util.hasDevTools){this._trampolineEnabled=false}};Async.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues};Async.prototype.fatalError=function(e,isNode){if(isNode){process.stderr.write("Fatal "+(e instanceof Error?e.stack:e));process.exit(2)}else{this.throwLater(e)}};Async.prototype.throwLater=function(fn,arg){if(arguments.length===1){arg=fn;fn=function(){throw arg}}if(typeof setTimeout!=="undefined"){setTimeout(function(){fn(arg)},0)}else try{this._schedule(function(){fn(arg)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}};function AsyncInvokeLater(fn,receiver,arg){this._lateQueue.push(fn,receiver,arg);this._queueTick()}function AsyncInvoke(fn,receiver,arg){this._normalQueue.push(fn,receiver,arg);this._queueTick()}function AsyncSettlePromises(promise){this._normalQueue._pushOne(promise);this._queueTick()}if(!util.hasDevTools){Async.prototype.invokeLater=AsyncInvokeLater;Async.prototype.invoke=AsyncInvoke;Async.prototype.settlePromises=AsyncSettlePromises}else{Async.prototype.invokeLater=function(fn,receiver,arg){if(this._trampolineEnabled){AsyncInvokeLater.call(this,fn,receiver,arg)}else{this._schedule(function(){setTimeout(function(){fn.call(receiver,arg)},100)})}};Async.prototype.invoke=function(fn,receiver,arg){if(this._trampolineEnabled){AsyncInvoke.call(this,fn,receiver,arg)}else{this._schedule(function(){fn.call(receiver,arg)})}};Async.prototype.settlePromises=function(promise){if(this._trampolineEnabled){AsyncSettlePromises.call(this,promise)}else{this._schedule(function(){promise._settlePromises()})}}}Async.prototype.invokeFirst=function(fn,receiver,arg){this._normalQueue.unshift(fn,receiver,arg);this._queueTick()};Async.prototype._drainQueue=function(queue){while(queue.length()>0){var fn=queue.shift();if(typeof fn!=="function"){fn._settlePromises();continue}var receiver=queue.shift();var arg=queue.shift();fn.call(receiver,arg)}};Async.prototype._drainQueues=function(){this._drainQueue(this._normalQueue);this._reset();this._haveDrainedQueues=true;this._drainQueue(this._lateQueue)};Async.prototype._queueTick=function(){if(!this._isTickUsed){this._isTickUsed=true;this._schedule(this.drainQueues)}};Async.prototype._reset=function(){this._isTickUsed=false};module.exports=Async;module.exports.firstLineError=firstLineError},{"./queue":26,"./schedule":29,"./util":36}],3:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,debug){var calledBind=false;var rejectThis=function(_,e){this._reject(e)};var targetRejected=function(e,context){context.promiseRejectionQueued=true;context.bindingPromise._then(rejectThis,rejectThis,null,this,e)};var bindingResolved=function(thisArg,context){if((this._bitField&50397184)===0){this._resolveCallback(context.target)}};var bindingRejected=function(e,context){if(!context.promiseRejectionQueued)this._reject(e)};Promise.prototype.bind=function(thisArg){if(!calledBind){calledBind=true;Promise.prototype._propagateFrom=debug.propagateFromFunction();Promise.prototype._boundValue=debug.boundValueFunction()}var maybePromise=tryConvertToPromise(thisArg);var ret=new Promise(INTERNAL);ret._propagateFrom(this,1);var target=this._target();ret._setBoundTo(maybePromise);if(maybePromise instanceof Promise){var context={promiseRejectionQueued:false,promise:ret,target:target,bindingPromise:maybePromise};target._then(INTERNAL,targetRejected,undefined,ret,context);maybePromise._then(bindingResolved,bindingRejected,undefined,ret,context);ret._setOnCancel(maybePromise)}else{ret._resolveCallback(target)}return ret};Promise.prototype._setBoundTo=function(obj){if(obj!==undefined){this._bitField=this._bitField|2097152;this._boundTo=obj}else{this._bitField=this._bitField&~2097152}};Promise.prototype._isBound=function(){return(this._bitField&2097152)===2097152};Promise.bind=function(thisArg,value){return Promise.resolve(value).bind(thisArg)}}},{}],4:[function(_dereq_,module,exports){"use strict";var old;if(typeof Promise!=="undefined")old=Promise;function noConflict(){try{if(Promise===bluebird)Promise=old}catch(e){}return bluebird}var bluebird=_dereq_("./promise")();bluebird.noConflict=noConflict;module.exports=bluebird},{"./promise":22}],5:[function(_dereq_,module,exports){"use strict";var cr=Object.create;if(cr){var callerCache=cr(null);var getterCache=cr(null);callerCache[" size"]=getterCache[" size"]=0}module.exports=function(Promise){var util=_dereq_("./util");var canEvaluate=util.canEvaluate;var isIdentifier=util.isIdentifier;var getMethodCaller;var getGetter;if(!true){var makeMethodCaller=function(methodName){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,methodName))(ensureMethod)};var makeGetter=function(propertyName){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",propertyName))};var getCompiled=function(name,compiler,cache){var ret=cache[name];if(typeof ret!=="function"){if(!isIdentifier(name)){return null}ret=compiler(name);cache[name]=ret;cache[" size"]++;if(cache[" size"]>512){var keys=Object.keys(cache);for(var i=0;i<256;++i)delete cache[keys[i]];cache[" size"]=keys.length-256}}return ret};getMethodCaller=function(name){return getCompiled(name,makeMethodCaller,callerCache)};getGetter=function(name){return getCompiled(name,makeGetter,getterCache)}}function ensureMethod(obj,methodName){var fn;if(obj!=null)fn=obj[methodName];if(typeof fn!=="function"){var message="Object "+util.classString(obj)+" has no method '"+util.toString(methodName)+"'";throw new Promise.TypeError(message)}return fn}function caller(obj){var methodName=this.pop();var fn=ensureMethod(obj,methodName);return fn.apply(obj,this)}Promise.prototype.call=function(methodName){var args=[].slice.call(arguments,1);if(!true){if(canEvaluate){var maybeCaller=getMethodCaller(methodName);if(maybeCaller!==null){return this._then(maybeCaller,undefined,undefined,args,undefined)}}}args.push(methodName);return this._then(caller,undefined,undefined,args,undefined)};function namedGetter(obj){return obj[this]}function indexedGetter(obj){var index=+this;if(index<0)index=Math.max(0,index+obj.length);return obj[index]}Promise.prototype.get=function(propertyName){var isIndex=typeof propertyName==="number";var getter;if(!isIndex){if(canEvaluate){var maybeGetter=getGetter(propertyName);getter=maybeGetter!==null?maybeGetter:namedGetter}else{getter=namedGetter}}else{getter=indexedGetter}return this._then(getter,undefined,undefined,propertyName,undefined)}}},{"./util":36}],6:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,debug){var util=_dereq_("./util");var tryCatch=util.tryCatch;var errorObj=util.errorObj;var async=Promise._async;Promise.prototype["break"]=Promise.prototype.cancel=function(){if(!debug.cancellation())return this._warn("cancellation is disabled");var promise=this;var child=promise;while(promise.isCancellable()){if(!promise._cancelBy(child)){if(child._isFollowing()){child._followee().cancel()}else{child._cancelBranched()}break}var parent=promise._cancellationParent;if(parent==null||!parent.isCancellable()){if(promise._isFollowing()){promise._followee().cancel()}else{promise._cancelBranched()}break}else{if(promise._isFollowing())promise._followee().cancel();child=promise;promise=parent}}};Promise.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--};Promise.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===undefined||this._branchesRemainingToCancel<=0};Promise.prototype._cancelBy=function(canceller){if(canceller===this){this._branchesRemainingToCancel=0;this._invokeOnCancel();return true}else{this._branchHasCancelled();if(this._enoughBranchesHaveCancelled()){this._invokeOnCancel();return true}}return false};Promise.prototype._cancelBranched=function(){if(this._enoughBranchesHaveCancelled()){this._cancel()}};Promise.prototype._cancel=function(){if(!this.isCancellable())return;this._setCancelled();async.invoke(this._cancelPromises,this,undefined)};Promise.prototype._cancelPromises=function(){if(this._length()>0)this._settlePromises()};Promise.prototype._unsetOnCancel=function(){this._onCancelField=undefined};Promise.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()};Promise.prototype._doInvokeOnCancel=function(onCancelCallback,internalOnly){if(util.isArray(onCancelCallback)){for(var i=0;i<onCancelCallback.length;++i){this._doInvokeOnCancel(onCancelCallback[i],internalOnly)}}else if(onCancelCallback!==undefined){if(typeof onCancelCallback==="function"){if(!internalOnly){var e=tryCatch(onCancelCallback).call(this._boundValue());if(e===errorObj){this._attachExtraTrace(e.e);async.throwLater(e.e)}}}else{onCancelCallback._resultCancelled(this)}}};Promise.prototype._invokeOnCancel=function(){var onCancelCallback=this._onCancel();this._unsetOnCancel();async.invoke(this._doInvokeOnCancel,this,onCancelCallback)};Promise.prototype._invokeInternalOnCancel=function(){if(this.isCancellable()){this._doInvokeOnCancel(this._onCancel(),true);this._unsetOnCancel()}};Promise.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(_dereq_,module,exports){"use strict";module.exports=function(NEXT_FILTER){var util=_dereq_("./util");var getKeys=_dereq_("./es5").keys;var tryCatch=util.tryCatch;var errorObj=util.errorObj;function catchFilter(instances,cb,promise){return function(e){var boundTo=promise._boundValue();predicateLoop:for(var i=0;i<instances.length;++i){var item=instances[i];if(item===Error||item!=null&&item.prototype instanceof Error){if(e instanceof item){return tryCatch(cb).call(boundTo,e)}}else if(typeof item==="function"){var matchesPredicate=tryCatch(item).call(boundTo,e);if(matchesPredicate===errorObj){return matchesPredicate}else if(matchesPredicate){return tryCatch(cb).call(boundTo,e)}}else if(util.isObject(e)){var keys=getKeys(item);for(var j=0;j<keys.length;++j){var key=keys[j];if(item[key]!=e[key]){continue predicateLoop}}return tryCatch(cb).call(boundTo,e)}}return NEXT_FILTER}}return catchFilter}},{"./es5":13,"./util":36}],8:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){var longStackTraces=false;var contextStack=[];Promise.prototype._promiseCreated=function(){};Promise.prototype._pushContext=function(){};Promise.prototype._popContext=function(){return null};Promise._peekContext=Promise.prototype._peekContext=function(){};function Context(){this._trace=new Context.CapturedTrace(peekContext())}Context.prototype._pushContext=function(){if(this._trace!==undefined){this._trace._promiseCreated=null;contextStack.push(this._trace)}};Context.prototype._popContext=function(){if(this._trace!==undefined){var trace=contextStack.pop();var ret=trace._promiseCreated;trace._promiseCreated=null;return ret}return null};function createContext(){if(longStackTraces)return new Context}function peekContext(){var lastIndex=contextStack.length-1;if(lastIndex>=0){return contextStack[lastIndex]}return undefined}Context.CapturedTrace=null;Context.create=createContext;Context.deactivateLongStackTraces=function(){};Context.activateLongStackTraces=function(){var Promise_pushContext=Promise.prototype._pushContext;var Promise_popContext=Promise.prototype._popContext;var Promise_PeekContext=Promise._peekContext;var Promise_peekContext=Promise.prototype._peekContext;var Promise_promiseCreated=Promise.prototype._promiseCreated;Context.deactivateLongStackTraces=function(){Promise.prototype._pushContext=Promise_pushContext;Promise.prototype._popContext=Promise_popContext;Promise._peekContext=Promise_PeekContext;Promise.prototype._peekContext=Promise_peekContext;Promise.prototype._promiseCreated=Promise_promiseCreated;longStackTraces=false};longStackTraces=true;Promise.prototype._pushContext=Context.prototype._pushContext;Promise.prototype._popContext=Context.prototype._popContext;Promise._peekContext=Promise.prototype._peekContext=peekContext;Promise.prototype._promiseCreated=function(){var ctx=this._peekContext();if(ctx&&ctx._promiseCreated==null)ctx._promiseCreated=this}};return Context}},{}],9:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,Context){var getDomain=Promise._getDomain;var async=Promise._async;var Warning=_dereq_("./errors").Warning;var util=_dereq_("./util");var canAttachTrace=util.canAttachTrace;var unhandledRejectionHandled;var possiblyUnhandledRejection;var bluebirdFramePattern=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/;var stackFramePattern=null;var formatStack=null;var indentStackFrames=false;var printWarning;var debugging=!!(util.env("BLUEBIRD_DEBUG")!=0&&(true||util.env("BLUEBIRD_DEBUG")||util.env("NODE_ENV")==="development"));var warnings=!!(util.env("BLUEBIRD_WARNINGS")!=0&&(debugging||util.env("BLUEBIRD_WARNINGS")));var longStackTraces=!!(util.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(debugging||util.env("BLUEBIRD_LONG_STACK_TRACES")));var wForgottenReturn=util.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(warnings||!!util.env("BLUEBIRD_W_FORGOTTEN_RETURN"));Promise.prototype.suppressUnhandledRejections=function(){var target=this._target();target._bitField=target._bitField&~1048576|524288};Promise.prototype._ensurePossibleRejectionHandled=function(){if((this._bitField&524288)!==0)return;this._setRejectionIsUnhandled();async.invokeLater(this._notifyUnhandledRejection,this,undefined)};Promise.prototype._notifyUnhandledRejectionIsHandled=function(){fireRejectionEvent("rejectionHandled",unhandledRejectionHandled,undefined,this)};Promise.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456};Promise.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0};Promise.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var reason=this._settledValue();this._setUnhandledRejectionIsNotified();fireRejectionEvent("unhandledRejection",possiblyUnhandledRejection,reason,this)}};Promise.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144};Promise.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&~262144};Promise.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0};Promise.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576;
};Promise.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&~1048576;if(this._isUnhandledRejectionNotified()){this._unsetUnhandledRejectionIsNotified();this._notifyUnhandledRejectionIsHandled()}};Promise.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0};Promise.prototype._warn=function(message,shouldUseOwnTrace,promise){return warn(message,shouldUseOwnTrace,promise||this)};Promise.onPossiblyUnhandledRejection=function(fn){var domain=getDomain();possiblyUnhandledRejection=typeof fn==="function"?domain===null?fn:domain.bind(fn):undefined};Promise.onUnhandledRejectionHandled=function(fn){var domain=getDomain();unhandledRejectionHandled=typeof fn==="function"?domain===null?fn:domain.bind(fn):undefined};var disableLongStackTraces=function(){};Promise.longStackTraces=function(){if(async.haveItemsQueued()&&!config.longStackTraces){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n")}if(!config.longStackTraces&&longStackTracesIsSupported()){var Promise_captureStackTrace=Promise.prototype._captureStackTrace;var Promise_attachExtraTrace=Promise.prototype._attachExtraTrace;config.longStackTraces=true;disableLongStackTraces=function(){if(async.haveItemsQueued()&&!config.longStackTraces){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n")}Promise.prototype._captureStackTrace=Promise_captureStackTrace;Promise.prototype._attachExtraTrace=Promise_attachExtraTrace;Context.deactivateLongStackTraces();async.enableTrampoline();config.longStackTraces=false};Promise.prototype._captureStackTrace=longStackTracesCaptureStackTrace;Promise.prototype._attachExtraTrace=longStackTracesAttachExtraTrace;Context.activateLongStackTraces();async.disableTrampolineIfNecessary()}};Promise.hasLongStackTraces=function(){return config.longStackTraces&&longStackTracesIsSupported()};Promise.config=function(opts){opts=Object(opts);if("longStackTraces"in opts){if(opts.longStackTraces){Promise.longStackTraces()}else if(!opts.longStackTraces&&Promise.hasLongStackTraces()){disableLongStackTraces()}}if("warnings"in opts){var warningsOption=opts.warnings;config.warnings=!!warningsOption;wForgottenReturn=config.warnings;if(util.isObject(warningsOption)){if("wForgottenReturn"in warningsOption){wForgottenReturn=!!warningsOption.wForgottenReturn}}}if("cancellation"in opts&&opts.cancellation&&!config.cancellation){if(async.haveItemsQueued()){throw new Error("cannot enable cancellation after promises are in use")}Promise.prototype._clearCancellationData=cancellationClearCancellationData;Promise.prototype._propagateFrom=cancellationPropagateFrom;Promise.prototype._onCancel=cancellationOnCancel;Promise.prototype._setOnCancel=cancellationSetOnCancel;Promise.prototype._attachCancellationCallback=cancellationAttachCancellationCallback;Promise.prototype._execute=cancellationExecute;propagateFromFunction=cancellationPropagateFrom;config.cancellation=true}};Promise.prototype._execute=function(executor,resolve,reject){try{executor(resolve,reject)}catch(e){return e}};Promise.prototype._onCancel=function(){};Promise.prototype._setOnCancel=function(handler){};Promise.prototype._attachCancellationCallback=function(onCancel){};Promise.prototype._captureStackTrace=function(){};Promise.prototype._attachExtraTrace=function(){};Promise.prototype._clearCancellationData=function(){};Promise.prototype._propagateFrom=function(parent,flags){};function cancellationExecute(executor,resolve,reject){var promise=this;try{executor(resolve,reject,function(onCancel){if(typeof onCancel!=="function"){throw new TypeError("onCancel must be a function, got: "+util.toString(onCancel))}promise._attachCancellationCallback(onCancel)})}catch(e){return e}}function cancellationAttachCancellationCallback(onCancel){if(!this.isCancellable())return this;var previousOnCancel=this._onCancel();if(previousOnCancel!==undefined){if(util.isArray(previousOnCancel)){previousOnCancel.push(onCancel)}else{this._setOnCancel([previousOnCancel,onCancel])}}else{this._setOnCancel(onCancel)}}function cancellationOnCancel(){return this._onCancelField}function cancellationSetOnCancel(onCancel){this._onCancelField=onCancel}function cancellationClearCancellationData(){this._cancellationParent=undefined;this._onCancelField=undefined}function cancellationPropagateFrom(parent,flags){if((flags&1)!==0){this._cancellationParent=parent;var branchesRemainingToCancel=parent._branchesRemainingToCancel;if(branchesRemainingToCancel===undefined){branchesRemainingToCancel=0}parent._branchesRemainingToCancel=branchesRemainingToCancel+1}if((flags&2)!==0&&parent._isBound()){this._setBoundTo(parent._boundTo)}}function bindingPropagateFrom(parent,flags){if((flags&2)!==0&&parent._isBound()){this._setBoundTo(parent._boundTo)}}var propagateFromFunction=bindingPropagateFrom;function boundValueFunction(){var ret=this._boundTo;if(ret!==undefined){if(ret instanceof Promise){if(ret.isFulfilled()){return ret.value()}else{return undefined}}}return ret}function longStackTracesCaptureStackTrace(){this._trace=new CapturedTrace(this._peekContext())}function longStackTracesAttachExtraTrace(error,ignoreSelf){if(canAttachTrace(error)){var trace=this._trace;if(trace!==undefined){if(ignoreSelf)trace=trace._parent}if(trace!==undefined){trace.attachExtraTrace(error)}else if(!error.__stackCleaned__){var parsed=parseStackAndMessage(error);util.notEnumerableProp(error,"stack",parsed.message+"\n"+parsed.stack.join("\n"));util.notEnumerableProp(error,"__stackCleaned__",true)}}}function checkForgottenReturns(returnValue,promiseCreated,name,promise,parent){if(returnValue===undefined&&promiseCreated!==null&&wForgottenReturn){if(parent!==undefined&&parent._returnedNonUndefined())return;if(name)name=name+" ";var msg="a promise was created in a "+name+"handler but was not returned from it";promise._warn(msg,true,promiseCreated)}}function deprecated(name,replacement){var message=name+" is deprecated and will be removed in a future version.";if(replacement)message+=" Use "+replacement+" instead.";return warn(message)}function warn(message,shouldUseOwnTrace,promise){if(!config.warnings)return;var warning=new Warning(message);var ctx;if(shouldUseOwnTrace){promise._attachExtraTrace(warning)}else if(config.longStackTraces&&(ctx=Promise._peekContext())){ctx.attachExtraTrace(warning)}else{var parsed=parseStackAndMessage(warning);warning.stack=parsed.message+"\n"+parsed.stack.join("\n")}formatAndLogError(warning,"",true)}function reconstructStack(message,stacks){for(var i=0;i<stacks.length-1;++i){stacks[i].push("From previous event:");stacks[i]=stacks[i].join("\n")}if(i<stacks.length){stacks[i]=stacks[i].join("\n")}return message+"\n"+stacks.join("\n")}function removeDuplicateOrEmptyJumps(stacks){for(var i=0;i<stacks.length;++i){if(stacks[i].length===0||i+1<stacks.length&&stacks[i][0]===stacks[i+1][0]){stacks.splice(i,1);i--}}}function removeCommonRoots(stacks){var current=stacks[0];for(var i=1;i<stacks.length;++i){var prev=stacks[i];var currentLastIndex=current.length-1;var currentLastLine=current[currentLastIndex];var commonRootMeetPoint=-1;for(var j=prev.length-1;j>=0;--j){if(prev[j]===currentLastLine){commonRootMeetPoint=j;break}}for(var j=commonRootMeetPoint;j>=0;--j){var line=prev[j];if(current[currentLastIndex]===line){current.pop();currentLastIndex--}else{break}}current=prev}}function cleanStack(stack){var ret=[];for(var i=0;i<stack.length;++i){var line=stack[i];var isTraceLine="    (No stack trace)"===line||stackFramePattern.test(line);var isInternalFrame=isTraceLine&&shouldIgnore(line);if(isTraceLine&&!isInternalFrame){if(indentStackFrames&&line.charAt(0)!==" "){line="    "+line}ret.push(line)}}return ret}function stackFramesAsArray(error){var stack=error.stack.replace(/\s+$/g,"").split("\n");for(var i=0;i<stack.length;++i){var line=stack[i];if("    (No stack trace)"===line||stackFramePattern.test(line)){break}}if(i>0){stack=stack.slice(i)}return stack}function parseStackAndMessage(error){var stack=error.stack;var message=error.toString();stack=typeof stack==="string"&&stack.length>0?stackFramesAsArray(error):["    (No stack trace)"];return{message:message,stack:cleanStack(stack)}}function formatAndLogError(error,title,isSoft){if(typeof console!=="undefined"){var message;if(util.isObject(error)){var stack=error.stack;message=title+formatStack(stack,error)}else{message=title+String(error)}if(typeof printWarning==="function"){printWarning(message,isSoft)}else if(typeof console.log==="function"||typeof console.log==="object"){console.log(message)}}}function fireRejectionEvent(name,localHandler,reason,promise){var localEventFired=false;try{if(typeof localHandler==="function"){localEventFired=true;if(name==="rejectionHandled"){localHandler(promise)}else{localHandler(reason,promise)}}}catch(e){async.throwLater(e)}var globalEventFired=false;try{globalEventFired=fireGlobalEvent(name,reason,promise)}catch(e){globalEventFired=true;async.throwLater(e)}var domEventFired=false;if(fireDomEvent){try{domEventFired=fireDomEvent(name.toLowerCase(),{reason:reason,promise:promise})}catch(e){domEventFired=true;async.throwLater(e)}}if(!globalEventFired&&!localEventFired&&!domEventFired&&name==="unhandledRejection"){formatAndLogError(reason,"Unhandled rejection ")}}function formatNonError(obj){var str;if(typeof obj==="function"){str="[function "+(obj.name||"anonymous")+"]"}else{str=obj&&typeof obj.toString==="function"?obj.toString():util.toString(obj);var ruselessToString=/\[object [a-zA-Z0-9$_]+\]/;if(ruselessToString.test(str)){try{var newStr=JSON.stringify(obj);str=newStr}catch(e){}}if(str.length===0){str="(empty array)"}}return"(<"+snip(str)+">, no stack trace)"}function snip(str){var maxChars=41;if(str.length<maxChars){return str}return str.substr(0,maxChars-3)+"..."}function longStackTracesIsSupported(){return typeof captureStackTrace==="function"}var shouldIgnore=function(){return false};var parseLineInfoRegex=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function parseLineInfo(line){var matches=line.match(parseLineInfoRegex);if(matches){return{fileName:matches[1],line:parseInt(matches[2],10)}}}function setBounds(firstLineError,lastLineError){if(!longStackTracesIsSupported())return;var firstStackLines=firstLineError.stack.split("\n");var lastStackLines=lastLineError.stack.split("\n");var firstIndex=-1;var lastIndex=-1;var firstFileName;var lastFileName;for(var i=0;i<firstStackLines.length;++i){var result=parseLineInfo(firstStackLines[i]);if(result){firstFileName=result.fileName;firstIndex=result.line;break}}for(var i=0;i<lastStackLines.length;++i){var result=parseLineInfo(lastStackLines[i]);if(result){lastFileName=result.fileName;lastIndex=result.line;break}}if(firstIndex<0||lastIndex<0||!firstFileName||!lastFileName||firstFileName!==lastFileName||firstIndex>=lastIndex){return}shouldIgnore=function(line){if(bluebirdFramePattern.test(line))return true;var info=parseLineInfo(line);if(info){if(info.fileName===firstFileName&&(firstIndex<=info.line&&info.line<=lastIndex)){return true}}return false}}function CapturedTrace(parent){this._parent=parent;this._promisesCreated=0;var length=this._length=1+(parent===undefined?0:parent._length);captureStackTrace(this,CapturedTrace);if(length>32)this.uncycle()}util.inherits(CapturedTrace,Error);Context.CapturedTrace=CapturedTrace;CapturedTrace.prototype.uncycle=function(){var length=this._length;if(length<2)return;var nodes=[];var stackToIndex={};for(var i=0,node=this;node!==undefined;++i){nodes.push(node);node=node._parent}length=this._length=i;for(var i=length-1;i>=0;--i){var stack=nodes[i].stack;if(stackToIndex[stack]===undefined){stackToIndex[stack]=i}}for(var i=0;i<length;++i){var currentStack=nodes[i].stack;var index=stackToIndex[currentStack];if(index!==undefined&&index!==i){if(index>0){nodes[index-1]._parent=undefined;nodes[index-1]._length=1}nodes[i]._parent=undefined;nodes[i]._length=1;var cycleEdgeNode=i>0?nodes[i-1]:this;if(index<length-1){cycleEdgeNode._parent=nodes[index+1];cycleEdgeNode._parent.uncycle();cycleEdgeNode._length=cycleEdgeNode._parent._length+1}else{cycleEdgeNode._parent=undefined;cycleEdgeNode._length=1}var currentChildLength=cycleEdgeNode._length+1;for(var j=i-2;j>=0;--j){nodes[j]._length=currentChildLength;currentChildLength++}return}}};CapturedTrace.prototype.attachExtraTrace=function(error){if(error.__stackCleaned__)return;this.uncycle();var parsed=parseStackAndMessage(error);var message=parsed.message;var stacks=[parsed.stack];var trace=this;while(trace!==undefined){stacks.push(cleanStack(trace.stack.split("\n")));trace=trace._parent}removeCommonRoots(stacks);removeDuplicateOrEmptyJumps(stacks);util.notEnumerableProp(error,"stack",reconstructStack(message,stacks));util.notEnumerableProp(error,"__stackCleaned__",true)};var captureStackTrace=function stackDetection(){var v8stackFramePattern=/^\s*at\s*/;var v8stackFormatter=function(stack,error){if(typeof stack==="string")return stack;if(error.name!==undefined&&error.message!==undefined){return error.toString()}return formatNonError(error)};if(typeof Error.stackTraceLimit==="number"&&typeof Error.captureStackTrace==="function"){Error.stackTraceLimit+=6;stackFramePattern=v8stackFramePattern;formatStack=v8stackFormatter;var captureStackTrace=Error.captureStackTrace;shouldIgnore=function(line){return bluebirdFramePattern.test(line)};return function(receiver,ignoreUntil){Error.stackTraceLimit+=6;captureStackTrace(receiver,ignoreUntil);Error.stackTraceLimit-=6}}var err=new Error;if(typeof err.stack==="string"&&err.stack.split("\n")[0].indexOf("stackDetection@")>=0){stackFramePattern=/@/;formatStack=v8stackFormatter;indentStackFrames=true;return function captureStackTrace(o){o.stack=(new Error).stack}}var hasStackAfterThrow;try{throw new Error}catch(e){hasStackAfterThrow="stack"in e}if(!("stack"in err)&&hasStackAfterThrow&&typeof Error.stackTraceLimit==="number"){stackFramePattern=v8stackFramePattern;formatStack=v8stackFormatter;return function captureStackTrace(o){Error.stackTraceLimit+=6;try{throw new Error}catch(e){o.stack=e.stack}Error.stackTraceLimit-=6}}formatStack=function(stack,error){if(typeof stack==="string")return stack;if((typeof error==="object"||typeof error==="function")&&error.name!==undefined&&error.message!==undefined){return error.toString()}return formatNonError(error)};return null}([]);var fireDomEvent;var fireGlobalEvent=function(){if(util.isNode){return function(name,reason,promise){if(name==="rejectionHandled"){return process.emit(name,promise)}else{return process.emit(name,reason,promise)}}}else{var globalObject=typeof self!=="undefined"?self:typeof window!=="undefined"?window:typeof global!=="undefined"?global:this!==undefined?this:null;if(!globalObject){return function(){return false}}try{var event=document.createEvent("CustomEvent");event.initCustomEvent("testingtheevent",false,true,{});globalObject.dispatchEvent(event);fireDomEvent=function(type,detail){var event=document.createEvent("CustomEvent");event.initCustomEvent(type,false,true,detail);return!globalObject.dispatchEvent(event)}}catch(e){}var toWindowMethodNameMap={};toWindowMethodNameMap["unhandledRejection"]=("on"+"unhandledRejection").toLowerCase();toWindowMethodNameMap["rejectionHandled"]=("on"+"rejectionHandled").toLowerCase();return function(name,reason,promise){var methodName=toWindowMethodNameMap[name];var method=globalObject[methodName];if(!method)return false;if(name==="rejectionHandled"){method.call(globalObject,promise)}else{method.call(globalObject,reason,promise)}return true}}}();if(typeof console!=="undefined"&&typeof console.warn!=="undefined"){printWarning=function(message){console.warn(message)};if(util.isNode&&process.stderr.isTTY){printWarning=function(message,isSoft){var color=isSoft?"[33m":"[31m";console.warn(color+message+"[0m\n")}}else if(!util.isNode&&typeof(new Error).stack==="string"){printWarning=function(message,isSoft){console.warn("%c"+message,isSoft?"color: darkorange":"color: red")}}}var config={warnings:warnings,longStackTraces:false,cancellation:false};if(longStackTraces)Promise.longStackTraces();return{longStackTraces:function(){return config.longStackTraces},warnings:function(){return config.warnings},cancellation:function(){return config.cancellation},propagateFromFunction:function(){return propagateFromFunction},boundValueFunction:function(){return boundValueFunction},checkForgottenReturns:checkForgottenReturns,setBounds:setBounds,warn:warn,deprecated:deprecated,CapturedTrace:CapturedTrace}}},{"./errors":12,"./util":36}],10:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function returner(){return this.value}function thrower(){throw this.reason}Promise.prototype["return"]=Promise.prototype.thenReturn=function(value){if(value instanceof Promise)value.suppressUnhandledRejections();return this._then(returner,undefined,undefined,{value:value},undefined)};Promise.prototype["throw"]=Promise.prototype.thenThrow=function(reason){return this._then(thrower,undefined,undefined,{reason:reason},undefined)};Promise.prototype.catchThrow=function(reason){if(arguments.length<=1){return this._then(undefined,thrower,undefined,{reason:reason},undefined)}else{var _reason=arguments[1];var handler=function(){throw _reason};return this.caught(reason,handler)}};Promise.prototype.catchReturn=function(value){if(arguments.length<=1){if(value instanceof Promise)value.suppressUnhandledRejections();return this._then(undefined,returner,undefined,{value:value},undefined)}else{var _value=arguments[1];if(_value instanceof Promise)_value.suppressUnhandledRejections();var handler=function(){return _value};return this.caught(value,handler)}}}},{}],11:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var PromiseReduce=Promise.reduce;var PromiseAll=Promise.all;function promiseAllThis(){return PromiseAll(this)}function PromiseMapSeries(promises,fn){return PromiseReduce(promises,fn,INTERNAL,INTERNAL)}Promise.prototype.each=function(fn){return this.mapSeries(fn)._then(promiseAllThis,undefined,undefined,this,undefined)};Promise.prototype.mapSeries=function(fn){return PromiseReduce(this,fn,INTERNAL,INTERNAL)};Promise.each=function(promises,fn){return PromiseMapSeries(promises,fn)._then(promiseAllThis,undefined,undefined,promises,undefined)};Promise.mapSeries=PromiseMapSeries}},{}],12:[function(_dereq_,module,exports){"use strict";var es5=_dereq_("./es5");var Objectfreeze=es5.freeze;var util=_dereq_("./util");var inherits=util.inherits;var notEnumerableProp=util.notEnumerableProp;function subError(nameProperty,defaultMessage){function SubError(message){if(!(this instanceof SubError))return new SubError(message);notEnumerableProp(this,"message",typeof message==="string"?message:defaultMessage);notEnumerableProp(this,"name",nameProperty);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{Error.call(this)}}inherits(SubError,Error);return SubError}var _TypeError,_RangeError;var Warning=subError("Warning","warning");var CancellationError=subError("CancellationError","cancellation error");var TimeoutError=subError("TimeoutError","timeout error");var AggregateError=subError("AggregateError","aggregate error");try{_TypeError=TypeError;_RangeError=RangeError}catch(e){_TypeError=subError("TypeError","type error");_RangeError=subError("RangeError","range error")}var methods=("join pop push shift unshift slice filter forEach some "+"every map indexOf lastIndexOf reduce reduceRight sort reverse").split(" ");for(var i=0;i<methods.length;++i){if(typeof Array.prototype[methods[i]]==="function"){AggregateError.prototype[methods[i]]=Array.prototype[methods[i]]}}es5.defineProperty(AggregateError.prototype,"length",{value:0,configurable:false,writable:true,enumerable:true});AggregateError.prototype["isOperational"]=true;var level=0;AggregateError.prototype.toString=function(){var indent=Array(level*4+1).join(" ");var ret="\n"+indent+"AggregateError of:"+"\n";level++;indent=Array(level*4+1).join(" ");for(var i=0;i<this.length;++i){var str=this[i]===this?"[Circular AggregateError]":this[i]+"";var lines=str.split("\n");for(var j=0;j<lines.length;++j){lines[j]=indent+lines[j]}str=lines.join("\n");ret+=str+"\n"}level--;return ret};function OperationalError(message){if(!(this instanceof OperationalError))return new OperationalError(message);notEnumerableProp(this,"name","OperationalError");notEnumerableProp(this,"message",message);this.cause=message;this["isOperational"]=true;if(message instanceof Error){notEnumerableProp(this,"message",message.message);notEnumerableProp(this,"stack",message.stack)}else if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}}inherits(OperationalError,Error);var errorTypes=Error["__BluebirdErrorTypes__"];if(!errorTypes){errorTypes=Objectfreeze({CancellationError:CancellationError,TimeoutError:TimeoutError,OperationalError:OperationalError,RejectionError:OperationalError,AggregateError:AggregateError});notEnumerableProp(Error,"__BluebirdErrorTypes__",errorTypes)}module.exports={Error:Error,TypeError:_TypeError,RangeError:_RangeError,CancellationError:errorTypes.CancellationError,OperationalError:errorTypes.OperationalError,TimeoutError:errorTypes.TimeoutError,AggregateError:errorTypes.AggregateError,Warning:Warning}},{"./es5":13,"./util":36}],13:[function(_dereq_,module,exports){var isES5=function(){"use strict";return this===undefined}();if(isES5){module.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:isES5,propertyIsWritable:function(obj,prop){var descriptor=Object.getOwnPropertyDescriptor(obj,prop);return!!(!descriptor||descriptor.writable||descriptor.set)}}}else{var has={}.hasOwnProperty;var str={}.toString;var proto={}.constructor.prototype;var ObjectKeys=function(o){var ret=[];for(var key in o){if(has.call(o,key)){ret.push(key)}}return ret};var ObjectGetDescriptor=function(o,key){return{value:o[key]}};var ObjectDefineProperty=function(o,key,desc){o[key]=desc.value;return o};var ObjectFreeze=function(obj){return obj};var ObjectGetPrototypeOf=function(obj){try{return Object(obj).constructor.prototype}catch(e){return proto}};var ArrayIsArray=function(obj){try{return str.call(obj)==="[object Array]"}catch(e){return false}};module.exports={isArray:ArrayIsArray,keys:ObjectKeys,names:ObjectKeys,defineProperty:ObjectDefineProperty,getDescriptor:ObjectGetDescriptor,freeze:ObjectFreeze,getPrototypeOf:ObjectGetPrototypeOf,isES5:isES5,propertyIsWritable:function(){return true}}}},{}],14:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var PromiseMap=Promise.map;Promise.prototype.filter=function(fn,options){return PromiseMap(this,fn,options,INTERNAL)};Promise.filter=function(promises,fn,options){return PromiseMap(promises,fn,options,INTERNAL)}}},{}],15:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,tryConvertToPromise){var util=_dereq_("./util");var CancellationError=Promise.CancellationError;var errorObj=util.errorObj;function FinallyHandlerCancelReaction(finallyHandler){this.finallyHandler=finallyHandler}FinallyHandlerCancelReaction.prototype._resultCancelled=function(){checkCancel(this.finallyHandler)};function checkCancel(ctx,reason){if(ctx.cancelPromise!=null){if(arguments.length>1){ctx.cancelPromise._reject(reason)}else{ctx.cancelPromise._cancel()}ctx.cancelPromise=null;return true}return false}function succeed(){return finallyHandler.call(this,this.promise._target()._settledValue())}function fail(reason){if(checkCancel(this,reason))return;errorObj.e=reason;return errorObj}function finallyHandler(reasonOrValue){var promise=this.promise;var handler=this.handler;if(!this.called){this.called=true;var ret=this.type===0?handler.call(promise._boundValue()):handler.call(promise._boundValue(),reasonOrValue);if(ret!==undefined){promise._setReturnedNonUndefined();var maybePromise=tryConvertToPromise(ret,promise);if(maybePromise instanceof Promise){if(this.cancelPromise!=null){if(maybePromise.isCancelled()){var reason=new CancellationError("late cancellation observer");promise._attachExtraTrace(reason);errorObj.e=reason;return errorObj}else if(maybePromise.isPending()){maybePromise._attachCancellationCallback(new FinallyHandlerCancelReaction(this))}}return maybePromise._then(succeed,fail,undefined,this,undefined)}}}if(promise.isRejected()){checkCancel(this);errorObj.e=reasonOrValue;return errorObj}else{checkCancel(this);return reasonOrValue}}Promise.prototype._passThrough=function(handler,type,success,fail){if(typeof handler!=="function")return this.then();return this._then(success,fail,undefined,{promise:this,handler:handler,called:false,cancelPromise:null,type:type},undefined)};Promise.prototype.lastly=Promise.prototype["finally"]=function(handler){return this._passThrough(handler,0,finallyHandler,finallyHandler)};Promise.prototype.tap=function(handler){return this._passThrough(handler,1,finallyHandler)};return finallyHandler}},{"./util":36}],16:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,apiRejection,INTERNAL,tryConvertToPromise,Proxyable,debug){var errors=_dereq_("./errors");var TypeError=errors.TypeError;var util=_dereq_("./util");var errorObj=util.errorObj;var tryCatch=util.tryCatch;var yieldHandlers=[];function promiseFromYieldHandler(value,yieldHandlers,traceParent){for(var i=0;i<yieldHandlers.length;++i){traceParent._pushContext();var result=tryCatch(yieldHandlers[i])(value);traceParent._popContext();if(result===errorObj){traceParent._pushContext();var ret=Promise.reject(errorObj.e);traceParent._popContext();return ret}var maybePromise=tryConvertToPromise(result,traceParent);if(maybePromise instanceof Promise)return maybePromise}return null}function PromiseSpawn(generatorFunction,receiver,yieldHandler,stack){var promise=this._promise=new Promise(INTERNAL);promise._captureStackTrace();promise._setOnCancel(this);this._stack=stack;this._generatorFunction=generatorFunction;this._receiver=receiver;this._generator=undefined;this._yieldHandlers=typeof yieldHandler==="function"?[yieldHandler].concat(yieldHandlers):yieldHandlers;this._yieldedPromise=null}util.inherits(PromiseSpawn,Proxyable);PromiseSpawn.prototype._isResolved=function(){return this._promise===null};PromiseSpawn.prototype._cleanup=function(){this._promise=this._generator=null};PromiseSpawn.prototype._promiseCancelled=function(){if(this._isResolved())return;var implementsReturn=typeof this._generator["return"]!=="undefined";var result;if(!implementsReturn){var reason=new Promise.CancellationError("generator .return() sentinel");Promise.coroutine.returnSentinel=reason;this._promise._attachExtraTrace(reason);this._promise._pushContext();result=tryCatch(this._generator["throw"]).call(this._generator,reason);this._promise._popContext();if(result===errorObj&&result.e===reason){result=null}}else{this._promise._pushContext();result=tryCatch(this._generator["return"]).call(this._generator,undefined);this._promise._popContext()}var promise=this._promise;this._cleanup();if(result===errorObj){promise._rejectCallback(result.e,false)}else{promise.cancel()}};PromiseSpawn.prototype._promiseFulfilled=function(value){this._yieldedPromise=null;this._promise._pushContext();var result=tryCatch(this._generator.next).call(this._generator,value);this._promise._popContext();this._continue(result)};PromiseSpawn.prototype._promiseRejected=function(reason){this._yieldedPromise=null;this._promise._attachExtraTrace(reason);this._promise._pushContext();var result=tryCatch(this._generator["throw"]).call(this._generator,reason);this._promise._popContext();this._continue(result)};PromiseSpawn.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof Promise){var promise=this._yieldedPromise;this._yieldedPromise=null;promise.cancel()}};PromiseSpawn.prototype.promise=function(){return this._promise};PromiseSpawn.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=undefined;this._promiseFulfilled(undefined)};PromiseSpawn.prototype._continue=function(result){var promise=this._promise;if(result===errorObj){this._cleanup();return promise._rejectCallback(result.e,false)}var value=result.value;if(result.done===true){this._cleanup();return promise._resolveCallback(value)}else{var maybePromise=tryConvertToPromise(value,this._promise);if(!(maybePromise instanceof Promise)){maybePromise=promiseFromYieldHandler(maybePromise,this._yieldHandlers,this._promise);if(maybePromise===null){this._promiseRejected(new TypeError("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",value)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));return}}maybePromise=maybePromise._target();var bitField=maybePromise._bitField;if((bitField&50397184)===0){this._yieldedPromise=maybePromise;maybePromise._proxy(this,null)}else if((bitField&33554432)!==0){this._promiseFulfilled(maybePromise._value())}else if((bitField&16777216)!==0){this._promiseRejected(maybePromise._reason())}else{this._promiseCancelled()}}};Promise.coroutine=function(generatorFunction,options){if(typeof generatorFunction!=="function"){throw new TypeError("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n")}var yieldHandler=Object(options).yieldHandler;var PromiseSpawn$=PromiseSpawn;var stack=(new Error).stack;return function(){var generator=generatorFunction.apply(this,arguments);var spawn=new PromiseSpawn$(undefined,undefined,yieldHandler,stack);var ret=spawn.promise();spawn._generator=generator;spawn._promiseFulfilled(undefined);return ret}};Promise.coroutine.addYieldHandler=function(fn){if(typeof fn!=="function"){throw new TypeError("expecting a function but got "+util.classString(fn))}yieldHandlers.push(fn)};Promise.spawn=function(generatorFunction){debug.deprecated("Promise.spawn()","Promise.coroutine()");if(typeof generatorFunction!=="function"){return apiRejection("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n")}var spawn=new PromiseSpawn(generatorFunction,this);var ret=spawn.promise();spawn._run(Promise.spawn);return ret}}},{"./errors":12,"./util":36}],17:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,INTERNAL){var util=_dereq_("./util");var canEvaluate=util.canEvaluate;var tryCatch=util.tryCatch;var errorObj=util.errorObj;var reject;if(!true){if(canEvaluate){var thenCallback=function(i){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,i))};var promiseSetter=function(i){return new Function("promise","holder","                           \n            'use strict';                                                    \n            holder.pIndex = promise;                                         \n            ".replace(/Index/g,i))};var generateHolderClass=function(total){var props=new Array(total);for(var i=0;i<props.length;++i){props[i]="this.p"+(i+1)}var assignment=props.join(" = ")+" = null;";var cancellationCode="var promise;\n"+props.map(function(prop){return"                                                         \n                promise = "+prop+";                                      \n                if (promise instanceof Promise) {                            \n                    promise.cancel();                                        \n                }                                                            \n            "}).join("\n");var passedArguments=props.join(", ");
var name="Holder$"+total;var code="return function(tryCatch, errorObj, Promise) {           \n            'use strict';                                                    \n            function [TheName](fn) {                                         \n                [TheProperties]                                              \n                this.fn = fn;                                                \n                this.now = 0;                                                \n            }                                                                \n            [TheName].prototype.checkFulfillment = function(promise) {       \n                var now = ++this.now;                                        \n                if (now === [TheTotal]) {                                    \n                    promise._pushContext();                                  \n                    var callback = this.fn;                                  \n                    var ret = tryCatch(callback)([ThePassedArguments]);      \n                    promise._popContext();                                   \n                    if (ret === errorObj) {                                  \n                        promise._rejectCallback(ret.e, false);               \n                    } else {                                                 \n                        promise._resolveCallback(ret);                       \n                    }                                                        \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype._resultCancelled = function() {              \n                [CancellationCode]                                           \n            };                                                               \n                                                                             \n            return [TheName];                                                \n        }(tryCatch, errorObj, Promise);                                      \n        ";code=code.replace(/\[TheName\]/g,name).replace(/\[TheTotal\]/g,total).replace(/\[ThePassedArguments\]/g,passedArguments).replace(/\[TheProperties\]/g,assignment).replace(/\[CancellationCode\]/g,cancellationCode);return new Function("tryCatch","errorObj","Promise",code)(tryCatch,errorObj,Promise)};var holderClasses=[];var thenCallbacks=[];var promiseSetters=[];for(var i=0;i<8;++i){holderClasses.push(generateHolderClass(i+1));thenCallbacks.push(thenCallback(i+1));promiseSetters.push(promiseSetter(i+1))}reject=function(reason){this._reject(reason)}}}Promise.join=function(){var last=arguments.length-1;var fn;if(last>0&&typeof arguments[last]==="function"){fn=arguments[last];if(!true){if(last<=8&&canEvaluate){var ret=new Promise(INTERNAL);ret._captureStackTrace();var HolderClass=holderClasses[last-1];var holder=new HolderClass(fn);var callbacks=thenCallbacks;for(var i=0;i<last;++i){var maybePromise=tryConvertToPromise(arguments[i],ret);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();var bitField=maybePromise._bitField;if((bitField&50397184)===0){maybePromise._then(callbacks[i],reject,undefined,ret,holder);promiseSetters[i](maybePromise,holder)}else if((bitField&33554432)!==0){callbacks[i].call(ret,maybePromise._value(),holder)}else if((bitField&16777216)!==0){ret._reject(maybePromise._reason())}else{ret._cancel()}}else{callbacks[i].call(ret,maybePromise,holder)}}if(!ret._isFateSealed()){ret._setAsyncGuaranteed();ret._setOnCancel(holder)}return ret}}}var args=[].slice.call(arguments);if(fn)args.pop();var ret=new PromiseArray(args).promise();return fn!==undefined?ret.spread(fn):ret}}},{"./util":36}],18:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug){var getDomain=Promise._getDomain;var util=_dereq_("./util");var tryCatch=util.tryCatch;var errorObj=util.errorObj;var EMPTY_ARRAY=[];function MappingPromiseArray(promises,fn,limit,_filter){this.constructor$(promises);this._promise._captureStackTrace();var domain=getDomain();this._callback=domain===null?fn:domain.bind(fn);this._preservedValues=_filter===INTERNAL?new Array(this.length()):null;this._limit=limit;this._inFlight=0;this._queue=limit>=1?[]:EMPTY_ARRAY;this._init$(undefined,-2)}util.inherits(MappingPromiseArray,PromiseArray);MappingPromiseArray.prototype._init=function(){};MappingPromiseArray.prototype._promiseFulfilled=function(value,index){var values=this._values;var length=this.length();var preservedValues=this._preservedValues;var limit=this._limit;if(index<0){index=index*-1-1;values[index]=value;if(limit>=1){this._inFlight--;this._drainQueue();if(this._isResolved())return true}}else{if(limit>=1&&this._inFlight>=limit){values[index]=value;this._queue.push(index);return false}if(preservedValues!==null)preservedValues[index]=value;var promise=this._promise;var callback=this._callback;var receiver=promise._boundValue();promise._pushContext();var ret=tryCatch(callback).call(receiver,value,index,length);var promiseCreated=promise._popContext();debug.checkForgottenReturns(ret,promiseCreated,preservedValues!==null?"Promise.filter":"Promise.map",promise);if(ret===errorObj){this._reject(ret.e);return true}var maybePromise=tryConvertToPromise(ret,this._promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();var bitField=maybePromise._bitField;if((bitField&50397184)===0){if(limit>=1)this._inFlight++;values[index]=maybePromise;maybePromise._proxy(this,(index+1)*-1);return false}else if((bitField&33554432)!==0){ret=maybePromise._value()}else if((bitField&16777216)!==0){this._reject(maybePromise._reason());return true}else{this._cancel();return true}}values[index]=ret}var totalResolved=++this._totalResolved;if(totalResolved>=length){if(preservedValues!==null){this._filter(values,preservedValues)}else{this._resolve(values)}return true}return false};MappingPromiseArray.prototype._drainQueue=function(){var queue=this._queue;var limit=this._limit;var values=this._values;while(queue.length>0&&this._inFlight<limit){if(this._isResolved())return;var index=queue.pop();this._promiseFulfilled(values[index],index)}};MappingPromiseArray.prototype._filter=function(booleans,values){var len=values.length;var ret=new Array(len);var j=0;for(var i=0;i<len;++i){if(booleans[i])ret[j++]=values[i]}ret.length=j;this._resolve(ret)};MappingPromiseArray.prototype.preservedValues=function(){return this._preservedValues};function map(promises,fn,options,_filter){if(typeof fn!=="function"){return apiRejection("expecting a function but got "+util.classString(fn))}var limit=typeof options==="object"&&options!==null?options.concurrency:0;limit=typeof limit==="number"&&isFinite(limit)&&limit>=1?limit:0;return new MappingPromiseArray(promises,fn,limit,_filter).promise()}Promise.prototype.map=function(fn,options){return map(this,fn,options,null)};Promise.map=function(promises,fn,options,_filter){return map(promises,fn,options,_filter)}}},{"./util":36}],19:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection,debug){var util=_dereq_("./util");var tryCatch=util.tryCatch;Promise.method=function(fn){if(typeof fn!=="function"){throw new Promise.TypeError("expecting a function but got "+util.classString(fn))}return function(){var ret=new Promise(INTERNAL);ret._captureStackTrace();ret._pushContext();var value=tryCatch(fn).apply(this,arguments);var promiseCreated=ret._popContext();debug.checkForgottenReturns(value,promiseCreated,"Promise.method",ret);ret._resolveFromSyncValue(value);return ret}};Promise.attempt=Promise["try"]=function(fn){if(typeof fn!=="function"){return apiRejection("expecting a function but got "+util.classString(fn))}var ret=new Promise(INTERNAL);ret._captureStackTrace();ret._pushContext();var value;if(arguments.length>1){debug.deprecated("calling Promise.try with more than 1 argument");var arg=arguments[1];var ctx=arguments[2];value=util.isArray(arg)?tryCatch(fn).apply(ctx,arg):tryCatch(fn).call(ctx,arg)}else{value=tryCatch(fn)()}var promiseCreated=ret._popContext();debug.checkForgottenReturns(value,promiseCreated,"Promise.try",ret);ret._resolveFromSyncValue(value);return ret};Promise.prototype._resolveFromSyncValue=function(value){if(value===util.errorObj){this._rejectCallback(value.e,false)}else{this._resolveCallback(value,true)}}}},{"./util":36}],20:[function(_dereq_,module,exports){"use strict";var util=_dereq_("./util");var maybeWrapAsError=util.maybeWrapAsError;var errors=_dereq_("./errors");var OperationalError=errors.OperationalError;var es5=_dereq_("./es5");function isUntypedError(obj){return obj instanceof Error&&es5.getPrototypeOf(obj)===Error.prototype}var rErrorKey=/^(?:name|message|stack|cause)$/;function wrapAsOperationalError(obj){var ret;if(isUntypedError(obj)){ret=new OperationalError(obj);ret.name=obj.name;ret.message=obj.message;ret.stack=obj.stack;var keys=es5.keys(obj);for(var i=0;i<keys.length;++i){var key=keys[i];if(!rErrorKey.test(key)){ret[key]=obj[key]}}return ret}util.markAsOriginatingFromRejection(obj);return obj}function nodebackForPromise(promise,multiArgs){return function(err,value){if(promise===null)return;if(err){var wrapped=wrapAsOperationalError(maybeWrapAsError(err));promise._attachExtraTrace(wrapped);promise._reject(wrapped)}else if(!multiArgs){promise._fulfill(value)}else{var args=[].slice.call(arguments,1);promise._fulfill(args)}promise=null}}module.exports=nodebackForPromise},{"./errors":12,"./es5":13,"./util":36}],21:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){var util=_dereq_("./util");var async=Promise._async;var tryCatch=util.tryCatch;var errorObj=util.errorObj;function spreadAdapter(val,nodeback){var promise=this;if(!util.isArray(val))return successAdapter.call(promise,val,nodeback);var ret=tryCatch(nodeback).apply(promise._boundValue(),[null].concat(val));if(ret===errorObj){async.throwLater(ret.e)}}function successAdapter(val,nodeback){var promise=this;var receiver=promise._boundValue();var ret=val===undefined?tryCatch(nodeback).call(receiver,null):tryCatch(nodeback).call(receiver,null,val);if(ret===errorObj){async.throwLater(ret.e)}}function errorAdapter(reason,nodeback){var promise=this;if(!reason){var newReason=new Error(reason+"");newReason.cause=reason;reason=newReason}var ret=tryCatch(nodeback).call(promise._boundValue(),reason);if(ret===errorObj){async.throwLater(ret.e)}}Promise.prototype.asCallback=Promise.prototype.nodeify=function(nodeback,options){if(typeof nodeback=="function"){var adapter=successAdapter;if(options!==undefined&&Object(options).spread){adapter=spreadAdapter}this._then(adapter,errorAdapter,undefined,this,nodeback)}return this}}},{"./util":36}],22:[function(_dereq_,module,exports){"use strict";module.exports=function(){var makeSelfResolutionError=function(){return new TypeError("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")};var reflectHandler=function(){return new Promise.PromiseInspection(this._target())};var apiRejection=function(msg){return Promise.reject(new TypeError(msg))};function Proxyable(){}var UNDEFINED_BINDING={};var util=_dereq_("./util");var getDomain;if(util.isNode){getDomain=function(){var ret=process.domain;if(ret===undefined)ret=null;return ret}}else{getDomain=function(){return null}}util.notEnumerableProp(Promise,"_getDomain",getDomain);var es5=_dereq_("./es5");var Async=_dereq_("./async");var async=new Async;es5.defineProperty(Promise,"_async",{value:async});var errors=_dereq_("./errors");var TypeError=Promise.TypeError=errors.TypeError;Promise.RangeError=errors.RangeError;var CancellationError=Promise.CancellationError=errors.CancellationError;Promise.TimeoutError=errors.TimeoutError;Promise.OperationalError=errors.OperationalError;Promise.RejectionError=errors.OperationalError;Promise.AggregateError=errors.AggregateError;var INTERNAL=function(){};var APPLY={};var NEXT_FILTER={};var tryConvertToPromise=_dereq_("./thenables")(Promise,INTERNAL);var PromiseArray=_dereq_("./promise_array")(Promise,INTERNAL,tryConvertToPromise,apiRejection,Proxyable);var Context=_dereq_("./context")(Promise);var createContext=Context.create;var debug=_dereq_("./debuggability")(Promise,Context);var CapturedTrace=debug.CapturedTrace;var finallyHandler=_dereq_("./finally")(Promise,tryConvertToPromise);var catchFilter=_dereq_("./catch_filter")(NEXT_FILTER);var nodebackForPromise=_dereq_("./nodeback");var errorObj=util.errorObj;var tryCatch=util.tryCatch;function check(self,executor){if(typeof executor!=="function"){throw new TypeError("expecting a function but got "+util.classString(executor))}if(self.constructor!==Promise){throw new TypeError("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}}function Promise(executor){this._bitField=0;this._fulfillmentHandler0=undefined;this._rejectionHandler0=undefined;this._promise0=undefined;this._receiver0=undefined;if(executor!==INTERNAL){check(this,executor);this._resolveFromExecutor(executor)}this._promiseCreated()}Promise.prototype.toString=function(){return"[object Promise]"};Promise.prototype.caught=Promise.prototype["catch"]=function(fn){var len=arguments.length;if(len>1){var catchInstances=new Array(len-1),j=0,i;for(i=0;i<len-1;++i){var item=arguments[i];if(util.isObject(item)){catchInstances[j++]=item}else{return apiRejection("expecting an object but got "+util.classString(item))}}catchInstances.length=j;fn=arguments[i];return this.then(undefined,catchFilter(catchInstances,fn,this))}return this.then(undefined,fn)};Promise.prototype.reflect=function(){return this._then(reflectHandler,reflectHandler,undefined,this,undefined)};Promise.prototype.then=function(didFulfill,didReject){if(debug.warnings()&&arguments.length>0&&typeof didFulfill!=="function"&&typeof didReject!=="function"){var msg=".then() only accepts functions but was passed: "+util.classString(didFulfill);if(arguments.length>1){msg+=", "+util.classString(didReject)}this._warn(msg)}return this._then(didFulfill,didReject,undefined,undefined,undefined)};Promise.prototype.done=function(didFulfill,didReject){var promise=this._then(didFulfill,didReject,undefined,undefined,undefined);promise._setIsFinal()};Promise.prototype.spread=function(fn){if(typeof fn!=="function"){return apiRejection("expecting a function but got "+util.classString(fn))}return this.all()._then(fn,undefined,undefined,APPLY,undefined)};Promise.prototype.toJSON=function(){var ret={isFulfilled:false,isRejected:false,fulfillmentValue:undefined,rejectionReason:undefined};if(this.isFulfilled()){ret.fulfillmentValue=this.value();ret.isFulfilled=true}else if(this.isRejected()){ret.rejectionReason=this.reason();ret.isRejected=true}return ret};Promise.prototype.all=function(){if(arguments.length>0){this._warn(".all() was passed arguments but it does not take any")}return new PromiseArray(this).promise()};Promise.prototype.error=function(fn){return this.caught(util.originatesFromRejection,fn)};Promise.is=function(val){return val instanceof Promise};Promise.fromNode=Promise.fromCallback=function(fn){var ret=new Promise(INTERNAL);var multiArgs=arguments.length>1?!!Object(arguments[1]).multiArgs:false;var result=tryCatch(fn)(nodebackForPromise(ret,multiArgs));if(result===errorObj){ret._rejectCallback(result.e,true)}if(!ret._isFateSealed())ret._setAsyncGuaranteed();return ret};Promise.all=function(promises){return new PromiseArray(promises).promise()};Promise.cast=function(obj){var ret=tryConvertToPromise(obj);if(!(ret instanceof Promise)){ret=new Promise(INTERNAL);ret._captureStackTrace();ret._setFulfilled();ret._rejectionHandler0=obj}return ret};Promise.resolve=Promise.fulfilled=Promise.cast;Promise.reject=Promise.rejected=function(reason){var ret=new Promise(INTERNAL);ret._captureStackTrace();ret._rejectCallback(reason,true);return ret};Promise.setScheduler=function(fn){if(typeof fn!=="function"){throw new TypeError("expecting a function but got "+util.classString(fn))}var prev=async._schedule;async._schedule=fn;return prev};Promise.prototype._then=function(didFulfill,didReject,_,receiver,internalData){var haveInternalData=internalData!==undefined;var promise=haveInternalData?internalData:new Promise(INTERNAL);var target=this._target();var bitField=target._bitField;if(!haveInternalData){promise._propagateFrom(this,3);promise._captureStackTrace();if(receiver===undefined&&(this._bitField&2097152)!==0){if(!((bitField&50397184)===0)){receiver=this._boundValue()}else{receiver=target===this?undefined:this._boundTo}}}var domain=getDomain();if(!((bitField&50397184)===0)){var handler,value,settler=target._settlePromiseCtx;if((bitField&33554432)!==0){value=target._rejectionHandler0;handler=didFulfill}else if((bitField&16777216)!==0){value=target._fulfillmentHandler0;handler=didReject;target._unsetRejectionIsUnhandled()}else{settler=target._settlePromiseLateCancellationObserver;value=new CancellationError("late cancellation observer");target._attachExtraTrace(value);handler=didReject}async.invoke(settler,target,{handler:domain===null?handler:typeof handler==="function"&&domain.bind(handler),promise:promise,receiver:receiver,value:value})}else{target._addCallbacks(didFulfill,didReject,promise,receiver,domain)}return promise};Promise.prototype._length=function(){return this._bitField&65535};Promise.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0};Promise.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864};Promise.prototype._setLength=function(len){this._bitField=this._bitField&-65536|len&65535};Promise.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432};Promise.prototype._setRejected=function(){this._bitField=this._bitField|16777216};Promise.prototype._setFollowing=function(){this._bitField=this._bitField|67108864};Promise.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304};Promise.prototype._isFinal=function(){return(this._bitField&4194304)>0};Promise.prototype._unsetCancelled=function(){this._bitField=this._bitField&~65536};Promise.prototype._setCancelled=function(){this._bitField=this._bitField|65536};Promise.prototype._setAsyncGuaranteed=function(){this._bitField=this._bitField|134217728};Promise.prototype._receiverAt=function(index){var ret=index===0?this._receiver0:this[index*4-4+3];if(ret===UNDEFINED_BINDING){return undefined}else if(ret===undefined&&this._isBound()){return this._boundValue()}return ret};Promise.prototype._promiseAt=function(index){return this[index*4-4+2]};Promise.prototype._fulfillmentHandlerAt=function(index){return this[index*4-4+0]};Promise.prototype._rejectionHandlerAt=function(index){return this[index*4-4+1]};Promise.prototype._boundValue=function(){};Promise.prototype._migrateCallback0=function(follower){var bitField=follower._bitField;var fulfill=follower._fulfillmentHandler0;var reject=follower._rejectionHandler0;var promise=follower._promise0;var receiver=follower._receiverAt(0);if(receiver===undefined)receiver=UNDEFINED_BINDING;this._addCallbacks(fulfill,reject,promise,receiver,null)};Promise.prototype._migrateCallbackAt=function(follower,index){var fulfill=follower._fulfillmentHandlerAt(index);var reject=follower._rejectionHandlerAt(index);var promise=follower._promiseAt(index);var receiver=follower._receiverAt(index);if(receiver===undefined)receiver=UNDEFINED_BINDING;this._addCallbacks(fulfill,reject,promise,receiver,null)};Promise.prototype._addCallbacks=function(fulfill,reject,promise,receiver,domain){var index=this._length();if(index>=65535-4){index=0;this._setLength(0)}if(index===0){this._promise0=promise;this._receiver0=receiver;if(typeof fulfill==="function"){this._fulfillmentHandler0=domain===null?fulfill:domain.bind(fulfill)}if(typeof reject==="function"){this._rejectionHandler0=domain===null?reject:domain.bind(reject)}}else{var base=index*4-4;this[base+2]=promise;this[base+3]=receiver;if(typeof fulfill==="function"){this[base+0]=domain===null?fulfill:domain.bind(fulfill)}if(typeof reject==="function"){this[base+1]=domain===null?reject:domain.bind(reject)}}this._setLength(index+1);return index};Promise.prototype._proxy=function(proxyable,arg){this._addCallbacks(undefined,undefined,arg,proxyable,null)};Promise.prototype._resolveCallback=function(value,shouldBind){if((this._bitField&117506048)!==0)return;if(value===this)return this._rejectCallback(makeSelfResolutionError(),false);var maybePromise=tryConvertToPromise(value,this);if(!(maybePromise instanceof Promise))return this._fulfill(value);if(shouldBind)this._propagateFrom(maybePromise,2);var promise=maybePromise._target();var bitField=promise._bitField;if((bitField&50397184)===0){var len=this._length();if(len>0)promise._migrateCallback0(this);for(var i=1;i<len;++i){promise._migrateCallbackAt(this,i)}this._setFollowing();this._setLength(0);this._setFollowee(promise)}else if((bitField&33554432)!==0){this._fulfill(promise._value())}else if((bitField&16777216)!==0){this._reject(promise._reason())}else{var reason=new CancellationError("late cancellation observer");promise._attachExtraTrace(reason);this._reject(reason)}};Promise.prototype._rejectCallback=function(reason,synchronous,ignoreNonErrorWarnings){var trace=util.ensureErrorObject(reason);var hasStack=trace===reason;if(!hasStack&&!ignoreNonErrorWarnings&&debug.warnings()){var message="a promise was rejected with a non-error: "+util.classString(reason);this._warn(message,true)}this._attachExtraTrace(trace,synchronous?hasStack:false);this._reject(reason)};Promise.prototype._resolveFromExecutor=function(executor){var promise=this;this._captureStackTrace();this._pushContext();var synchronous=true;var r=this._execute(executor,function(value){promise._resolveCallback(value)},function(reason){promise._rejectCallback(reason,synchronous)});synchronous=false;this._popContext();if(r!==undefined){promise._rejectCallback(r,true)}};Promise.prototype._settlePromiseFromHandler=function(handler,receiver,value,promise){var bitField=promise._bitField;if((bitField&65536)!==0)return;promise._pushContext();var x;if(receiver===APPLY){if(!value||typeof value.length!=="number"){x=errorObj;x.e=new TypeError("cannot .spread() a non-array: "+util.classString(value))}else{x=tryCatch(handler).apply(this._boundValue(),value)}}else{x=tryCatch(handler).call(receiver,value)}var promiseCreated=promise._popContext();bitField=promise._bitField;if((bitField&65536)!==0)return;if(x===NEXT_FILTER){promise._reject(value)}else if(x===errorObj||x===promise){var err=x===promise?makeSelfResolutionError():x.e;promise._rejectCallback(err,false)}else{debug.checkForgottenReturns(x,promiseCreated,"",promise,this);promise._resolveCallback(x)}};Promise.prototype._target=function(){var ret=this;while(ret._isFollowing())ret=ret._followee();return ret};Promise.prototype._followee=function(){return this._rejectionHandler0};Promise.prototype._setFollowee=function(promise){this._rejectionHandler0=promise};Promise.prototype._settlePromise=function(promise,handler,receiver,value){var isPromise=promise instanceof Promise;var bitField=this._bitField;var asyncGuaranteed=(bitField&134217728)!==0;if((bitField&65536)!==0){if(isPromise)promise._invokeInternalOnCancel();if(handler===finallyHandler){receiver.cancelPromise=promise;if(tryCatch(handler).call(receiver,value)===errorObj){promise._reject(errorObj.e)}}else if(handler===reflectHandler){promise._fulfill(reflectHandler.call(receiver))}else if(receiver instanceof Proxyable){receiver._promiseCancelled(promise)}else if(isPromise||promise instanceof PromiseArray){promise._cancel()}else{receiver.cancel()}}else if(typeof handler==="function"){if(!isPromise){handler.call(receiver,value,promise)}else{if(asyncGuaranteed)promise._setAsyncGuaranteed();this._settlePromiseFromHandler(handler,receiver,value,promise)}}else if(receiver instanceof Proxyable){if(!receiver._isResolved()){if((bitField&33554432)!==0){receiver._promiseFulfilled(value,promise)}else{receiver._promiseRejected(value,promise)}}}else if(isPromise){if(asyncGuaranteed)promise._setAsyncGuaranteed();if((bitField&33554432)!==0){promise._fulfill(value)}else{promise._reject(value)}}};Promise.prototype._settlePromiseLateCancellationObserver=function(ctx){var handler=ctx.handler;var promise=ctx.promise;var receiver=ctx.receiver;var value=ctx.value;if(typeof handler==="function"){if(!(promise instanceof Promise)){handler.call(receiver,value,promise)}else{this._settlePromiseFromHandler(handler,receiver,value,promise)}}else if(promise instanceof Promise){promise._reject(value)}};Promise.prototype._settlePromiseCtx=function(ctx){this._settlePromise(ctx.promise,ctx.handler,ctx.receiver,ctx.value)};Promise.prototype._settlePromise0=function(handler,value,bitField){var promise=this._promise0;var receiver=this._receiverAt(0);this._promise0=undefined;this._receiver0=undefined;this._settlePromise(promise,handler,receiver,value)};Promise.prototype._clearCallbackDataAtIndex=function(index){var base=index*4-4;this[base+2]=this[base+3]=this[base+0]=this[base+1]=undefined};Promise.prototype._fulfill=function(value){var bitField=this._bitField;if((bitField&117506048)>>>16)return;if(value===this){var err=makeSelfResolutionError();this._attachExtraTrace(err);return this._reject(err)}this._setFulfilled();this._rejectionHandler0=value;if((bitField&65535)>0){if((bitField&134217728)!==0){this._settlePromises()}else{async.settlePromises(this)}}};Promise.prototype._reject=function(reason){var bitField=this._bitField;if((bitField&117506048)>>>16)return;this._setRejected();this._fulfillmentHandler0=reason;if(this._isFinal()){return async.fatalError(reason,util.isNode)}if((bitField&65535)>0){if((bitField&134217728)!==0){this._settlePromises()}else{async.settlePromises(this)}}else{this._ensurePossibleRejectionHandled()}};Promise.prototype._fulfillPromises=function(len,value){for(var i=1;i<len;i++){var handler=this._fulfillmentHandlerAt(i);var promise=this._promiseAt(i);var receiver=this._receiverAt(i);this._clearCallbackDataAtIndex(i);this._settlePromise(promise,handler,receiver,value)}};Promise.prototype._rejectPromises=function(len,reason){for(var i=1;i<len;i++){var handler=this._rejectionHandlerAt(i);var promise=this._promiseAt(i);var receiver=this._receiverAt(i);this._clearCallbackDataAtIndex(i);this._settlePromise(promise,handler,receiver,reason)}};Promise.prototype._settlePromises=function(){var bitField=this._bitField;var len=bitField&65535;if(len>0){if((bitField&16842752)!==0){var reason=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,reason,bitField);this._rejectPromises(len,reason)}else{var value=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,value,bitField);this._fulfillPromises(len,value)}this._setLength(0)}this._clearCancellationData()};Promise.prototype._settledValue=function(){var bitField=this._bitField;if((bitField&33554432)!==0){return this._rejectionHandler0}else if((bitField&16777216)!==0){return this._fulfillmentHandler0}};function deferResolve(v){this.promise._resolveCallback(v)}function deferReject(v){this.promise._rejectCallback(v,false)}Promise.defer=Promise.pending=function(){debug.deprecated("Promise.defer","new Promise");var promise=new Promise(INTERNAL);return{promise:promise,resolve:deferResolve,reject:deferReject}};util.notEnumerableProp(Promise,"_makeSelfResolutionError",makeSelfResolutionError);_dereq_("./method")(Promise,INTERNAL,tryConvertToPromise,apiRejection,debug);_dereq_("./bind")(Promise,INTERNAL,tryConvertToPromise,debug);_dereq_("./cancel")(Promise,PromiseArray,apiRejection,debug);_dereq_("./direct_resolve")(Promise);_dereq_("./synchronous_inspection")(Promise);_dereq_("./join")(Promise,PromiseArray,tryConvertToPromise,INTERNAL,debug);Promise.Promise=Promise;_dereq_("./map.js")(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug);_dereq_("./using.js")(Promise,apiRejection,tryConvertToPromise,createContext,INTERNAL,debug);_dereq_("./timers.js")(Promise,INTERNAL);_dereq_("./generators.js")(Promise,apiRejection,INTERNAL,tryConvertToPromise,Proxyable,debug);_dereq_("./nodeify.js")(Promise);_dereq_("./call_get.js")(Promise);_dereq_("./props.js")(Promise,PromiseArray,tryConvertToPromise,apiRejection);_dereq_("./race.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection);_dereq_("./reduce.js")(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug);_dereq_("./settle.js")(Promise,PromiseArray,debug);_dereq_("./some.js")(Promise,PromiseArray,apiRejection);_dereq_("./promisify.js")(Promise,INTERNAL);_dereq_("./any.js")(Promise);_dereq_("./each.js")(Promise,INTERNAL);_dereq_("./filter.js")(Promise,INTERNAL);util.toFastProperties(Promise);util.toFastProperties(Promise.prototype);function fillTypes(value){var p=new Promise(INTERNAL);p._fulfillmentHandler0=value;p._rejectionHandler0=value;p._promise0=value;p._receiver0=value}fillTypes({a:1});fillTypes({b:2});fillTypes({c:3});fillTypes(1);fillTypes(function(){});fillTypes(undefined);fillTypes(false);fillTypes(new Promise(INTERNAL));debug.setBounds(Async.firstLineError,util.lastLineError);return Promise}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection,Proxyable){var util=_dereq_("./util");var isArray=util.isArray;function toResolutionValue(val){switch(val){case-2:return[];case-3:return{}}}function PromiseArray(values){var promise=this._promise=new Promise(INTERNAL);if(values instanceof Promise){promise._propagateFrom(values,3)}promise._setOnCancel(this);this._values=values;this._length=0;this._totalResolved=0;this._init(undefined,-2)}util.inherits(PromiseArray,Proxyable);PromiseArray.prototype.length=function(){return this._length};PromiseArray.prototype.promise=function(){return this._promise};PromiseArray.prototype._init=function init(_,resolveValueIfEmpty){var values=tryConvertToPromise(this._values,this._promise);if(values instanceof Promise){values=values._target();var bitField=values._bitField;this._values=values;if((bitField&50397184)===0){this._promise._setAsyncGuaranteed();return values._then(init,this._reject,undefined,this,resolveValueIfEmpty)}else if((bitField&33554432)!==0){values=values._value()}else if((bitField&16777216)!==0){return this._reject(values._reason())}else{return this._cancel()}}values=util.asArray(values);if(values===null){var err=apiRejection("expecting an array or an iterable object but got "+util.classString(values)).reason();this._promise._rejectCallback(err,false);return}if(values.length===0){if(resolveValueIfEmpty===-5){this._resolveEmptyArray()}else{this._resolve(toResolutionValue(resolveValueIfEmpty))}return}this._iterate(values)};PromiseArray.prototype._iterate=function(values){var len=this.getActualLength(values.length);this._length=len;this._values=this.shouldCopyValues()?new Array(len):this._values;var result=this._promise;var isResolved=false;var bitField=null;for(var i=0;i<len;++i){var maybePromise=tryConvertToPromise(values[i],result);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();bitField=maybePromise._bitField}else{bitField=null}if(isResolved){if(bitField!==null){maybePromise.suppressUnhandledRejections()}}else if(bitField!==null){if((bitField&50397184)===0){maybePromise._proxy(this,i);this._values[i]=maybePromise;
}else if((bitField&33554432)!==0){isResolved=this._promiseFulfilled(maybePromise._value(),i)}else if((bitField&16777216)!==0){isResolved=this._promiseRejected(maybePromise._reason(),i)}else{isResolved=this._promiseCancelled(i)}}else{isResolved=this._promiseFulfilled(maybePromise,i)}}if(!isResolved)result._setAsyncGuaranteed()};PromiseArray.prototype._isResolved=function(){return this._values===null};PromiseArray.prototype._resolve=function(value){this._values=null;this._promise._fulfill(value)};PromiseArray.prototype._cancel=function(){if(this._isResolved()||!this._promise.isCancellable())return;this._values=null;this._promise._cancel()};PromiseArray.prototype._reject=function(reason){this._values=null;this._promise._rejectCallback(reason,false)};PromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;if(totalResolved>=this._length){this._resolve(this._values);return true}return false};PromiseArray.prototype._promiseCancelled=function(){this._cancel();return true};PromiseArray.prototype._promiseRejected=function(reason){this._totalResolved++;this._reject(reason);return true};PromiseArray.prototype._resultCancelled=function(){if(this._isResolved())return;var values=this._values;this._cancel();if(values instanceof Promise){values.cancel()}else{for(var i=0;i<values.length;++i){if(values[i]instanceof Promise){values[i].cancel()}}}};PromiseArray.prototype.shouldCopyValues=function(){return true};PromiseArray.prototype.getActualLength=function(len){return len};return PromiseArray}},{"./util":36}],24:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var THIS={};var util=_dereq_("./util");var nodebackForPromise=_dereq_("./nodeback");var withAppended=util.withAppended;var maybeWrapAsError=util.maybeWrapAsError;var canEvaluate=util.canEvaluate;var TypeError=_dereq_("./errors").TypeError;var defaultSuffix="Async";var defaultPromisified={__isPromisified__:true};var noCopyProps=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"];var noCopyPropsPattern=new RegExp("^(?:"+noCopyProps.join("|")+")$");var defaultFilter=function(name){return util.isIdentifier(name)&&name.charAt(0)!=="_"&&name!=="constructor"};function propsFilter(key){return!noCopyPropsPattern.test(key)}function isPromisified(fn){try{return fn.__isPromisified__===true}catch(e){return false}}function hasPromisified(obj,key,suffix){var val=util.getDataPropertyOrDefault(obj,key+suffix,defaultPromisified);return val?isPromisified(val):false}function checkValid(ret,suffix,suffixRegexp){for(var i=0;i<ret.length;i+=2){var key=ret[i];if(suffixRegexp.test(key)){var keyWithoutAsyncSuffix=key.replace(suffixRegexp,"");for(var j=0;j<ret.length;j+=2){if(ret[j]===keyWithoutAsyncSuffix){throw new TypeError("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",suffix))}}}}}function promisifiableMethods(obj,suffix,suffixRegexp,filter){var keys=util.inheritedDataKeys(obj);var ret=[];for(var i=0;i<keys.length;++i){var key=keys[i];var value=obj[key];var passesDefaultFilter=filter===defaultFilter?true:defaultFilter(key,value,obj);if(typeof value==="function"&&!isPromisified(value)&&!hasPromisified(obj,key,suffix)&&filter(key,value,obj,passesDefaultFilter)){ret.push(key,value)}}checkValid(ret,suffix,suffixRegexp);return ret}var escapeIdentRegex=function(str){return str.replace(/([$])/,"\\$")};var makeNodePromisifiedEval;if(!true){var switchCaseArgumentOrder=function(likelyArgumentCount){var ret=[likelyArgumentCount];var min=Math.max(0,likelyArgumentCount-1-3);for(var i=likelyArgumentCount-1;i>=min;--i){ret.push(i)}for(var i=likelyArgumentCount+1;i<=3;++i){ret.push(i)}return ret};var argumentSequence=function(argumentCount){return util.filledRange(argumentCount,"_arg","")};var parameterDeclaration=function(parameterCount){return util.filledRange(Math.max(parameterCount,3),"_arg","")};var parameterCount=function(fn){if(typeof fn.length==="number"){return Math.max(Math.min(fn.length,1023+1),0)}return 0};makeNodePromisifiedEval=function(callback,receiver,originalName,fn,_,multiArgs){var newParameterCount=Math.max(0,parameterCount(fn)-1);var argumentOrder=switchCaseArgumentOrder(newParameterCount);var shouldProxyThis=typeof callback==="string"||receiver===THIS;function generateCallForArgumentCount(count){var args=argumentSequence(count).join(", ");var comma=count>0?", ":"";var ret;if(shouldProxyThis){ret="ret = callback.call(this, {{args}}, nodeback); break;\n"}else{ret=receiver===undefined?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n"}return ret.replace("{{args}}",args).replace(", ",comma)}function generateArgumentSwitchCase(){var ret="";for(var i=0;i<argumentOrder.length;++i){ret+="case "+argumentOrder[i]+":"+generateCallForArgumentCount(argumentOrder[i])}ret+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",shouldProxyThis?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n");return ret}var getFunctionCode=typeof callback==="string"?"this != null ? this['"+callback+"'] : fn":"fn";var body="'use strict';                                                \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise, "+multiArgs+");   \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n    ".replace("[CodeForSwitchCase]",generateArgumentSwitchCase()).replace("[GetFunctionCode]",getFunctionCode);body=body.replace("Parameters",parameterDeclaration(newParameterCount));return new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",body)(Promise,fn,receiver,withAppended,maybeWrapAsError,nodebackForPromise,util.tryCatch,util.errorObj,util.notEnumerableProp,INTERNAL)}}function makeNodePromisifiedClosure(callback,receiver,_,fn,__,multiArgs){var defaultThis=function(){return this}();var method=callback;if(typeof method==="string"){callback=fn}function promisified(){var _receiver=receiver;if(receiver===THIS)_receiver=this;var promise=new Promise(INTERNAL);promise._captureStackTrace();var cb=typeof method==="string"&&this!==defaultThis?this[method]:callback;var fn=nodebackForPromise(promise,multiArgs);try{cb.apply(_receiver,withAppended(arguments,fn))}catch(e){promise._rejectCallback(maybeWrapAsError(e),true,true)}if(!promise._isFateSealed())promise._setAsyncGuaranteed();return promise}util.notEnumerableProp(promisified,"__isPromisified__",true);return promisified}var makeNodePromisified=canEvaluate?makeNodePromisifiedEval:makeNodePromisifiedClosure;function promisifyAll(obj,suffix,filter,promisifier,multiArgs){var suffixRegexp=new RegExp(escapeIdentRegex(suffix)+"$");var methods=promisifiableMethods(obj,suffix,suffixRegexp,filter);for(var i=0,len=methods.length;i<len;i+=2){var key=methods[i];var fn=methods[i+1];var promisifiedKey=key+suffix;if(promisifier===makeNodePromisified){obj[promisifiedKey]=makeNodePromisified(key,THIS,key,fn,suffix,multiArgs)}else{var promisified=promisifier(fn,function(){return makeNodePromisified(key,THIS,key,fn,suffix,multiArgs)});util.notEnumerableProp(promisified,"__isPromisified__",true);obj[promisifiedKey]=promisified}}util.toFastProperties(obj);return obj}function promisify(callback,receiver,multiArgs){return makeNodePromisified(callback,receiver,undefined,callback,null,multiArgs)}Promise.promisify=function(fn,options){if(typeof fn!=="function"){throw new TypeError("expecting a function but got "+util.classString(fn))}if(isPromisified(fn)){return fn}options=Object(options);var receiver=options.context===undefined?THIS:options.context;var multiArgs=!!options.multiArgs;var ret=promisify(fn,receiver,multiArgs);util.copyDescriptors(fn,ret,propsFilter);return ret};Promise.promisifyAll=function(target,options){if(typeof target!=="function"&&typeof target!=="object"){throw new TypeError("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n")}options=Object(options);var multiArgs=!!options.multiArgs;var suffix=options.suffix;if(typeof suffix!=="string")suffix=defaultSuffix;var filter=options.filter;if(typeof filter!=="function")filter=defaultFilter;var promisifier=options.promisifier;if(typeof promisifier!=="function")promisifier=makeNodePromisified;if(!util.isIdentifier(suffix)){throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n")}var keys=util.inheritedDataKeys(target);for(var i=0;i<keys.length;++i){var value=target[keys[i]];if(keys[i]!=="constructor"&&util.isClass(value)){promisifyAll(value.prototype,suffix,filter,promisifier,multiArgs);promisifyAll(value,suffix,filter,promisifier,multiArgs)}}return promisifyAll(target,suffix,filter,promisifier,multiArgs)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,apiRejection){var util=_dereq_("./util");var isObject=util.isObject;var es5=_dereq_("./es5");var Es6Map;if(typeof Map==="function")Es6Map=Map;var mapToEntries=function(){var index=0;var size=0;function extractEntry(value,key){this[index]=value;this[index+size]=key;index++}return function mapToEntries(map){size=map.size;index=0;var ret=new Array(map.size*2);map.forEach(extractEntry,ret);return ret}}();var entriesToMap=function(entries){var ret=new Es6Map;var length=entries.length/2|0;for(var i=0;i<length;++i){var key=entries[length+i];var value=entries[i];ret.set(key,value)}return ret};function PropertiesPromiseArray(obj){var isMap=false;var entries;if(Es6Map!==undefined&&obj instanceof Es6Map){entries=mapToEntries(obj);isMap=true}else{var keys=es5.keys(obj);var len=keys.length;entries=new Array(len*2);for(var i=0;i<len;++i){var key=keys[i];entries[i]=obj[key];entries[i+len]=key}}this.constructor$(entries);this._isMap=isMap;this._init$(undefined,-3)}util.inherits(PropertiesPromiseArray,PromiseArray);PropertiesPromiseArray.prototype._init=function(){};PropertiesPromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;if(totalResolved>=this._length){var val;if(this._isMap){val=entriesToMap(this._values)}else{val={};var keyOffset=this.length();for(var i=0,len=this.length();i<len;++i){val[this._values[i+keyOffset]]=this._values[i]}}this._resolve(val);return true}return false};PropertiesPromiseArray.prototype.shouldCopyValues=function(){return false};PropertiesPromiseArray.prototype.getActualLength=function(len){return len>>1};function props(promises){var ret;var castValue=tryConvertToPromise(promises);if(!isObject(castValue)){return apiRejection("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}else if(castValue instanceof Promise){ret=castValue._then(Promise.props,undefined,undefined,undefined,undefined)}else{ret=new PropertiesPromiseArray(castValue).promise()}if(castValue instanceof Promise){ret._propagateFrom(castValue,2)}return ret}Promise.prototype.props=function(){return props(this)};Promise.props=function(promises){return props(promises)}}},{"./es5":13,"./util":36}],26:[function(_dereq_,module,exports){"use strict";function arrayMove(src,srcIndex,dst,dstIndex,len){for(var j=0;j<len;++j){dst[j+dstIndex]=src[j+srcIndex];src[j+srcIndex]=void 0}}function Queue(capacity){this._capacity=capacity;this._length=0;this._front=0}Queue.prototype._willBeOverCapacity=function(size){return this._capacity<size};Queue.prototype._pushOne=function(arg){var length=this.length();this._checkCapacity(length+1);var i=this._front+length&this._capacity-1;this[i]=arg;this._length=length+1};Queue.prototype._unshiftOne=function(value){var capacity=this._capacity;this._checkCapacity(this.length()+1);var front=this._front;var i=(front-1&capacity-1^capacity)-capacity;this[i]=value;this._front=i;this._length=this.length()+1};Queue.prototype.unshift=function(fn,receiver,arg){this._unshiftOne(arg);this._unshiftOne(receiver);this._unshiftOne(fn)};Queue.prototype.push=function(fn,receiver,arg){var length=this.length()+3;if(this._willBeOverCapacity(length)){this._pushOne(fn);this._pushOne(receiver);this._pushOne(arg);return}var j=this._front+length-3;this._checkCapacity(length);var wrapMask=this._capacity-1;this[j+0&wrapMask]=fn;this[j+1&wrapMask]=receiver;this[j+2&wrapMask]=arg;this._length=length};Queue.prototype.shift=function(){var front=this._front,ret=this[front];this[front]=undefined;this._front=front+1&this._capacity-1;this._length--;return ret};Queue.prototype.length=function(){return this._length};Queue.prototype._checkCapacity=function(size){if(this._capacity<size){this._resizeTo(this._capacity<<1)}};Queue.prototype._resizeTo=function(capacity){var oldCapacity=this._capacity;this._capacity=capacity;var front=this._front;var length=this._length;var moveItemsCount=front+length&oldCapacity-1;arrayMove(this,0,this,oldCapacity,moveItemsCount)};module.exports=Queue},{}],27:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){var util=_dereq_("./util");var raceLater=function(promise){return promise.then(function(array){return race(array,promise)})};function race(promises,parent){var maybePromise=tryConvertToPromise(promises);if(maybePromise instanceof Promise){return raceLater(maybePromise)}else{promises=util.asArray(promises);if(promises===null)return apiRejection("expecting an array or an iterable object but got "+util.classString(promises))}var ret=new Promise(INTERNAL);if(parent!==undefined){ret._propagateFrom(parent,3)}var fulfill=ret._fulfill;var reject=ret._reject;for(var i=0,len=promises.length;i<len;++i){var val=promises[i];if(val===undefined&&!(i in promises)){continue}Promise.cast(val)._then(fulfill,reject,undefined,ret,null)}return ret}Promise.race=function(promises){return race(promises,undefined)};Promise.prototype.race=function(){return race(this,undefined)}}},{"./util":36}],28:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug){var getDomain=Promise._getDomain;var util=_dereq_("./util");var tryCatch=util.tryCatch;function ReductionPromiseArray(promises,fn,initialValue,_each){this.constructor$(promises);var domain=getDomain();this._fn=domain===null?fn:domain.bind(fn);if(initialValue!==undefined){initialValue=Promise.resolve(initialValue);initialValue._attachCancellationCallback(this)}this._initialValue=initialValue;this._currentCancellable=null;this._eachValues=_each===INTERNAL?[]:undefined;this._promise._captureStackTrace();this._init$(undefined,-5)}util.inherits(ReductionPromiseArray,PromiseArray);ReductionPromiseArray.prototype._gotAccum=function(accum){if(this._eachValues!==undefined&&accum!==INTERNAL){this._eachValues.push(accum)}};ReductionPromiseArray.prototype._eachComplete=function(value){this._eachValues.push(value);return this._eachValues};ReductionPromiseArray.prototype._init=function(){};ReductionPromiseArray.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==undefined?this._eachValues:this._initialValue)};ReductionPromiseArray.prototype.shouldCopyValues=function(){return false};ReductionPromiseArray.prototype._resolve=function(value){this._promise._resolveCallback(value);this._values=null};ReductionPromiseArray.prototype._resultCancelled=function(sender){if(sender===this._initialValue)return this._cancel();if(this._isResolved())return;this._resultCancelled$();if(this._currentCancellable instanceof Promise){this._currentCancellable.cancel()}if(this._initialValue instanceof Promise){this._initialValue.cancel()}};ReductionPromiseArray.prototype._iterate=function(values){this._values=values;var value;var i;var length=values.length;if(this._initialValue!==undefined){value=this._initialValue;i=0}else{value=Promise.resolve(values[0]);i=1}this._currentCancellable=value;if(!value.isRejected()){for(;i<length;++i){var ctx={accum:null,value:values[i],index:i,length:length,array:this};value=value._then(gotAccum,undefined,undefined,ctx,undefined)}}if(this._eachValues!==undefined){value=value._then(this._eachComplete,undefined,undefined,this,undefined)}value._then(completed,completed,undefined,value,this)};Promise.prototype.reduce=function(fn,initialValue){return reduce(this,fn,initialValue,null)};Promise.reduce=function(promises,fn,initialValue,_each){return reduce(promises,fn,initialValue,_each)};function completed(valueOrReason,array){if(this.isFulfilled()){array._resolve(valueOrReason)}else{array._reject(valueOrReason)}}function reduce(promises,fn,initialValue,_each){if(typeof fn!=="function"){return apiRejection("expecting a function but got "+util.classString(fn))}var array=new ReductionPromiseArray(promises,fn,initialValue,_each);return array.promise()}function gotAccum(accum){this.accum=accum;this.array._gotAccum(accum);var value=tryConvertToPromise(this.value,this.array._promise);if(value instanceof Promise){this.array._currentCancellable=value;return value._then(gotValue,undefined,undefined,this,undefined)}else{return gotValue.call(this,value)}}function gotValue(value){var array=this.array;var promise=array._promise;var fn=tryCatch(array._fn);promise._pushContext();var ret;if(array._eachValues!==undefined){ret=fn.call(promise._boundValue(),value,this.index,this.length)}else{ret=fn.call(promise._boundValue(),this.accum,value,this.index,this.length)}if(ret instanceof Promise){array._currentCancellable=ret}var promiseCreated=promise._popContext();debug.checkForgottenReturns(ret,promiseCreated,array._eachValues!==undefined?"Promise.each":"Promise.reduce",promise);return ret}}},{"./util":36}],29:[function(_dereq_,module,exports){"use strict";var util=_dereq_("./util");var schedule;var noAsyncScheduler=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};if(util.isNode&&typeof MutationObserver==="undefined"){var GlobalSetImmediate=global.setImmediate;var ProcessNextTick=process.nextTick;schedule=util.isRecentNode?function(fn){GlobalSetImmediate.call(global,fn)}:function(fn){ProcessNextTick.call(process,fn)}}else if(typeof MutationObserver!=="undefined"&&!(typeof window!=="undefined"&&window.navigator&&window.navigator.standalone)){schedule=function(){var div=document.createElement("div");var opts={attributes:true};var toggleScheduled=false;var div2=document.createElement("div");var o2=new MutationObserver(function(){div.classList.toggle("foo");toggleScheduled=false});o2.observe(div2,opts);var scheduleToggle=function(){if(toggleScheduled)return;toggleScheduled=true;div2.classList.toggle("foo")};return function schedule(fn){var o=new MutationObserver(function(){o.disconnect();fn()});o.observe(div,opts);scheduleToggle()}}()}else if(typeof setImmediate!=="undefined"){schedule=function(fn){setImmediate(fn)}}else if(typeof setTimeout!=="undefined"){schedule=function(fn){setTimeout(fn,0)}}else{schedule=noAsyncScheduler}module.exports=schedule},{"./util":36}],30:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,debug){var PromiseInspection=Promise.PromiseInspection;var util=_dereq_("./util");function SettledPromiseArray(values){this.constructor$(values)}util.inherits(SettledPromiseArray,PromiseArray);SettledPromiseArray.prototype._promiseResolved=function(index,inspection){this._values[index]=inspection;var totalResolved=++this._totalResolved;if(totalResolved>=this._length){this._resolve(this._values);return true}return false};SettledPromiseArray.prototype._promiseFulfilled=function(value,index){var ret=new PromiseInspection;ret._bitField=33554432;ret._settledValueField=value;return this._promiseResolved(index,ret)};SettledPromiseArray.prototype._promiseRejected=function(reason,index){var ret=new PromiseInspection;ret._bitField=16777216;ret._settledValueField=reason;return this._promiseResolved(index,ret)};Promise.settle=function(promises){debug.deprecated(".settle()",".reflect()");return new SettledPromiseArray(promises).promise()};Promise.prototype.settle=function(){return Promise.settle(this)}}},{"./util":36}],31:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection){var util=_dereq_("./util");var RangeError=_dereq_("./errors").RangeError;var AggregateError=_dereq_("./errors").AggregateError;var isArray=util.isArray;var CANCELLATION={};function SomePromiseArray(values){this.constructor$(values);this._howMany=0;this._unwrap=false;this._initialized=false}util.inherits(SomePromiseArray,PromiseArray);SomePromiseArray.prototype._init=function(){if(!this._initialized){return}if(this._howMany===0){this._resolve([]);return}this._init$(undefined,-5);var isArrayResolved=isArray(this._values);if(!this._isResolved()&&isArrayResolved&&this._howMany>this._canPossiblyFulfill()){this._reject(this._getRangeError(this.length()))}};SomePromiseArray.prototype.init=function(){this._initialized=true;this._init()};SomePromiseArray.prototype.setUnwrap=function(){this._unwrap=true};SomePromiseArray.prototype.howMany=function(){return this._howMany};SomePromiseArray.prototype.setHowMany=function(count){this._howMany=count};SomePromiseArray.prototype._promiseFulfilled=function(value){this._addFulfilled(value);if(this._fulfilled()===this.howMany()){this._values.length=this.howMany();if(this.howMany()===1&&this._unwrap){this._resolve(this._values[0])}else{this._resolve(this._values)}return true}return false};SomePromiseArray.prototype._promiseRejected=function(reason){this._addRejected(reason);return this._checkOutcome()};SomePromiseArray.prototype._promiseCancelled=function(){if(this._values instanceof Promise||this._values==null){return this._cancel()}this._addRejected(CANCELLATION);return this._checkOutcome()};SomePromiseArray.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){var e=new AggregateError;for(var i=this.length();i<this._values.length;++i){if(this._values[i]!==CANCELLATION){e.push(this._values[i])}}if(e.length>0){this._reject(e)}else{this._cancel()}return true}return false};SomePromiseArray.prototype._fulfilled=function(){return this._totalResolved};SomePromiseArray.prototype._rejected=function(){return this._values.length-this.length()};SomePromiseArray.prototype._addRejected=function(reason){this._values.push(reason)};SomePromiseArray.prototype._addFulfilled=function(value){this._values[this._totalResolved++]=value};SomePromiseArray.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()};SomePromiseArray.prototype._getRangeError=function(count){var message="Input array must contain at least "+this._howMany+" items but contains only "+count+" items";return new RangeError(message)};SomePromiseArray.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function some(promises,howMany){if((howMany|0)!==howMany||howMany<0){return apiRejection("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n")}var ret=new SomePromiseArray(promises);var promise=ret.promise();ret.setHowMany(howMany);ret.init();return promise}Promise.some=function(promises,howMany){return some(promises,howMany)};Promise.prototype.some=function(howMany){return some(this,howMany)};Promise._SomePromiseArray=SomePromiseArray}},{"./errors":12,"./util":36}],32:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function PromiseInspection(promise){if(promise!==undefined){promise=promise._target();this._bitField=promise._bitField;this._settledValueField=promise._isFateSealed()?promise._settledValue():undefined}else{this._bitField=0;this._settledValueField=undefined}}PromiseInspection.prototype._settledValue=function(){return this._settledValueField};var value=PromiseInspection.prototype.value=function(){if(!this.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n")}return this._settledValue()};var reason=PromiseInspection.prototype.error=PromiseInspection.prototype.reason=function(){if(!this.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n")}return this._settledValue()};var isFulfilled=PromiseInspection.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0};var isRejected=PromiseInspection.prototype.isRejected=function(){return(this._bitField&16777216)!==0};var isPending=PromiseInspection.prototype.isPending=function(){return(this._bitField&50397184)===0};var isResolved=PromiseInspection.prototype.isResolved=function(){return(this._bitField&50331648)!==0};PromiseInspection.prototype.isCancelled=Promise.prototype._isCancelled=function(){return(this._bitField&65536)===65536};Promise.prototype.isCancelled=function(){return this._target()._isCancelled()};Promise.prototype.isPending=function(){return isPending.call(this._target())};Promise.prototype.isRejected=function(){return isRejected.call(this._target())};Promise.prototype.isFulfilled=function(){return isFulfilled.call(this._target())};Promise.prototype.isResolved=function(){return isResolved.call(this._target())};Promise.prototype.value=function(){return value.call(this._target())};Promise.prototype.reason=function(){var target=this._target();target._unsetRejectionIsUnhandled();return reason.call(target)};Promise.prototype._value=function(){return this._settledValue()};Promise.prototype._reason=function(){this._unsetRejectionIsUnhandled();return this._settledValue()};Promise.PromiseInspection=PromiseInspection}},{}],33:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var util=_dereq_("./util");var errorObj=util.errorObj;var isObject=util.isObject;function tryConvertToPromise(obj,context){if(isObject(obj)){if(obj instanceof Promise)return obj;var then=getThen(obj);if(then===errorObj){if(context)context._pushContext();var ret=Promise.reject(then.e);if(context)context._popContext();return ret}else if(typeof then==="function"){if(isAnyBluebirdPromise(obj)){var ret=new Promise(INTERNAL);obj._then(ret._fulfill,ret._reject,undefined,ret,null);return ret}return doThenable(obj,then,context)}}return obj}function doGetThen(obj){return obj.then}function getThen(obj){try{return doGetThen(obj)}catch(e){errorObj.e=e;return errorObj}}var hasProp={}.hasOwnProperty;function isAnyBluebirdPromise(obj){return hasProp.call(obj,"_promise0")}function doThenable(x,then,context){var promise=new Promise(INTERNAL);var ret=promise;if(context)context._pushContext();promise._captureStackTrace();if(context)context._popContext();var synchronous=true;var result=util.tryCatch(then).call(x,resolve,reject);synchronous=false;if(promise&&result===errorObj){promise._rejectCallback(result.e,true,true);promise=null}function resolve(value){if(!promise)return;promise._resolveCallback(value);promise=null}function reject(reason){if(!promise)return;promise._rejectCallback(reason,synchronous,true);promise=null}return ret}return tryConvertToPromise}},{"./util":36}],34:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var util=_dereq_("./util");var TimeoutError=Promise.TimeoutError;var afterTimeout=function(promise,message,parent){if(!promise.isPending())return;var err;if(typeof message!=="string"){if(message instanceof Error){err=message}else{err=new TimeoutError("operation timed out")}}else{err=new TimeoutError(message)}util.markAsOriginatingFromRejection(err);promise._attachExtraTrace(err);promise._reject(err);parent.cancel()};var afterValue=function(value){return delay(+this).thenReturn(value)};var delay=Promise.delay=function(ms,value){var ret;if(value!==undefined){ret=Promise.resolve(value)._then(afterValue,null,null,ms,undefined)}else{ret=new Promise(INTERNAL);setTimeout(function(){ret._fulfill()},+ms)}ret._setAsyncGuaranteed();return ret};Promise.prototype.delay=function(ms){return delay(ms,this)};function successClear(value){var handle=this;if(handle instanceof Number)handle=+handle;clearTimeout(handle);return value}function failureClear(reason){var handle=this;if(handle instanceof Number)handle=+handle;clearTimeout(handle);throw reason}Promise.prototype.timeout=function(ms,message){ms=+ms;var parent=this.then();var ret=parent.then();var handle=setTimeout(function timeoutTimeout(){afterTimeout(ret,message,parent)},ms);return ret._then(successClear,failureClear,undefined,handle,undefined)}}},{"./util":36}],35:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,apiRejection,tryConvertToPromise,createContext,INTERNAL,debug){var util=_dereq_("./util");var TypeError=_dereq_("./errors").TypeError;var inherits=_dereq_("./util").inherits;var errorObj=util.errorObj;var tryCatch=util.tryCatch;function thrower(e){setTimeout(function(){throw e},0)}function castPreservingDisposable(thenable){var maybePromise=tryConvertToPromise(thenable);if(maybePromise!==thenable&&typeof thenable._isDisposable==="function"&&typeof thenable._getDisposer==="function"&&thenable._isDisposable()){maybePromise._setDisposable(thenable._getDisposer())}return maybePromise}function dispose(resources,inspection){var i=0;var len=resources.length;var ret=new Promise(INTERNAL);function iterator(){if(i>=len)return ret._fulfill();var maybePromise=castPreservingDisposable(resources[i++]);if(maybePromise instanceof Promise&&maybePromise._isDisposable()){try{maybePromise=tryConvertToPromise(maybePromise._getDisposer().tryDispose(inspection),resources.promise)}catch(e){return thrower(e)}if(maybePromise instanceof Promise){return maybePromise._then(iterator,thrower,null,null,null)}}iterator()}iterator();return ret}function Disposer(data,promise,context){this._data=data;this._promise=promise;this._context=context}Disposer.prototype.data=function(){return this._data};Disposer.prototype.promise=function(){return this._promise;
};Disposer.prototype.resource=function(){if(this.promise().isFulfilled()){return this.promise().value()}return null};Disposer.prototype.tryDispose=function(inspection){var resource=this.resource();var context=this._context;if(context!==undefined)context._pushContext();var ret=resource!==null?this.doDispose(resource,inspection):null;if(context!==undefined)context._popContext();this._promise._unsetDisposable();this._data=null;return ret};Disposer.isDisposer=function(d){return d!=null&&typeof d.resource==="function"&&typeof d.tryDispose==="function"};function FunctionDisposer(fn,promise,context){this.constructor$(fn,promise,context)}inherits(FunctionDisposer,Disposer);FunctionDisposer.prototype.doDispose=function(resource,inspection){var fn=this.data();return fn.call(resource,resource,inspection)};function maybeUnwrapDisposer(value){if(Disposer.isDisposer(value)){this.resources[this.index]._setDisposable(value);return value.promise()}return value}function ResourceList(length){this.length=length;this.promise=null;this[length-1]=null}ResourceList.prototype._resultCancelled=function(){var len=this.length;for(var i=0;i<len;++i){var item=this[i];if(item instanceof Promise){item.cancel()}}};Promise.using=function(){var len=arguments.length;if(len<2)return apiRejection("you must pass at least 2 arguments to Promise.using");var fn=arguments[len-1];if(typeof fn!=="function"){return apiRejection("expecting a function but got "+util.classString(fn))}var input;var spreadArgs=true;if(len===2&&Array.isArray(arguments[0])){input=arguments[0];len=input.length;spreadArgs=false}else{input=arguments;len--}var resources=new ResourceList(len);for(var i=0;i<len;++i){var resource=input[i];if(Disposer.isDisposer(resource)){var disposer=resource;resource=resource.promise();resource._setDisposable(disposer)}else{var maybePromise=tryConvertToPromise(resource);if(maybePromise instanceof Promise){resource=maybePromise._then(maybeUnwrapDisposer,null,null,{resources:resources,index:i},undefined)}}resources[i]=resource}var reflectedResources=new Array(resources.length);for(var i=0;i<reflectedResources.length;++i){reflectedResources[i]=Promise.resolve(resources[i]).reflect()}var resultPromise=Promise.all(reflectedResources).then(function(inspections){for(var i=0;i<inspections.length;++i){var inspection=inspections[i];if(inspection.isRejected()){errorObj.e=inspection.error();return errorObj}else if(!inspection.isFulfilled()){resultPromise.cancel();return}inspections[i]=inspection.value()}promise._pushContext();fn=tryCatch(fn);var ret=spreadArgs?fn.apply(undefined,inspections):fn(inspections);var promiseCreated=promise._popContext();debug.checkForgottenReturns(ret,promiseCreated,"Promise.using",promise);return ret});var promise=resultPromise.lastly(function(){var inspection=new Promise.PromiseInspection(resultPromise);return dispose(resources,inspection)});resources.promise=promise;promise._setOnCancel(resources);return promise};Promise.prototype._setDisposable=function(disposer){this._bitField=this._bitField|131072;this._disposer=disposer};Promise.prototype._isDisposable=function(){return(this._bitField&131072)>0};Promise.prototype._getDisposer=function(){return this._disposer};Promise.prototype._unsetDisposable=function(){this._bitField=this._bitField&~131072;this._disposer=undefined};Promise.prototype.disposer=function(fn){if(typeof fn==="function"){return new FunctionDisposer(fn,this,createContext())}throw new TypeError}}},{"./errors":12,"./util":36}],36:[function(_dereq_,module,exports){"use strict";var es5=_dereq_("./es5");var canEvaluate=typeof navigator=="undefined";var errorObj={e:{}};var tryCatchTarget;function tryCatcher(){try{var target=tryCatchTarget;tryCatchTarget=null;return target.apply(this,arguments)}catch(e){errorObj.e=e;return errorObj}}function tryCatch(fn){tryCatchTarget=fn;return tryCatcher}var inherits=function(Child,Parent){var hasProp={}.hasOwnProperty;function T(){this.constructor=Child;this.constructor$=Parent;for(var propertyName in Parent.prototype){if(hasProp.call(Parent.prototype,propertyName)&&propertyName.charAt(propertyName.length-1)!=="$"){this[propertyName+"$"]=Parent.prototype[propertyName]}}}T.prototype=Parent.prototype;Child.prototype=new T;return Child.prototype};function isPrimitive(val){return val==null||val===true||val===false||typeof val==="string"||typeof val==="number"}function isObject(value){return typeof value==="function"||typeof value==="object"&&value!==null}function maybeWrapAsError(maybeError){if(!isPrimitive(maybeError))return maybeError;return new Error(safeToString(maybeError))}function withAppended(target,appendee){var len=target.length;var ret=new Array(len+1);var i;for(i=0;i<len;++i){ret[i]=target[i]}ret[i]=appendee;return ret}function getDataPropertyOrDefault(obj,key,defaultValue){if(es5.isES5){var desc=Object.getOwnPropertyDescriptor(obj,key);if(desc!=null){return desc.get==null&&desc.set==null?desc.value:defaultValue}}else{return{}.hasOwnProperty.call(obj,key)?obj[key]:undefined}}function notEnumerableProp(obj,name,value){if(isPrimitive(obj))return obj;var descriptor={value:value,configurable:true,enumerable:false,writable:true};es5.defineProperty(obj,name,descriptor);return obj}function thrower(r){throw r}var inheritedDataKeys=function(){var excludedPrototypes=[Array.prototype,Object.prototype,Function.prototype];var isExcludedProto=function(val){for(var i=0;i<excludedPrototypes.length;++i){if(excludedPrototypes[i]===val){return true}}return false};if(es5.isES5){var getKeys=Object.getOwnPropertyNames;return function(obj){var ret=[];var visitedKeys=Object.create(null);while(obj!=null&&!isExcludedProto(obj)){var keys;try{keys=getKeys(obj)}catch(e){return ret}for(var i=0;i<keys.length;++i){var key=keys[i];if(visitedKeys[key])continue;visitedKeys[key]=true;var desc=Object.getOwnPropertyDescriptor(obj,key);if(desc!=null&&desc.get==null&&desc.set==null){ret.push(key)}}obj=es5.getPrototypeOf(obj)}return ret}}else{var hasProp={}.hasOwnProperty;return function(obj){if(isExcludedProto(obj))return[];var ret=[];enumeration:for(var key in obj){if(hasProp.call(obj,key)){ret.push(key)}else{for(var i=0;i<excludedPrototypes.length;++i){if(hasProp.call(excludedPrototypes[i],key)){continue enumeration}}ret.push(key)}}return ret}}}();var thisAssignmentPattern=/this\s*\.\s*\S+\s*=/;function isClass(fn){try{if(typeof fn==="function"){var keys=es5.names(fn.prototype);var hasMethods=es5.isES5&&keys.length>1;var hasMethodsOtherThanConstructor=keys.length>0&&!(keys.length===1&&keys[0]==="constructor");var hasThisAssignmentAndStaticMethods=thisAssignmentPattern.test(fn+"")&&es5.names(fn).length>0;if(hasMethods||hasMethodsOtherThanConstructor||hasThisAssignmentAndStaticMethods){return true}}return false}catch(e){return false}}function toFastProperties(obj){function FakeConstructor(){}FakeConstructor.prototype=obj;var l=8;while(l--)new FakeConstructor;return obj;eval(obj)}var rident=/^[a-z$_][a-z$_0-9]*$/i;function isIdentifier(str){return rident.test(str)}function filledRange(count,prefix,suffix){var ret=new Array(count);for(var i=0;i<count;++i){ret[i]=prefix+i+suffix}return ret}function safeToString(obj){try{return obj+""}catch(e){return"[no string representation]"}}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",true)}catch(ignore){}}function originatesFromRejection(e){if(e==null)return false;return e instanceof Error["__BluebirdErrorTypes__"].OperationalError||e["isOperational"]===true}function canAttachTrace(obj){return obj instanceof Error&&es5.propertyIsWritable(obj,"stack")}var ensureErrorObject=function(){if(!("stack"in new Error)){return function(value){if(canAttachTrace(value))return value;try{throw new Error(safeToString(value))}catch(err){return err}}}else{return function(value){if(canAttachTrace(value))return value;return new Error(safeToString(value))}}}();function classString(obj){return{}.toString.call(obj)}function copyDescriptors(from,to,filter){var keys=es5.names(from);for(var i=0;i<keys.length;++i){var key=keys[i];if(filter(key)){try{es5.defineProperty(to,key,es5.getDescriptor(from,key))}catch(ignore){}}}}var asArray=function(v){if(es5.isArray(v)){return v}return null};if(typeof Symbol!=="undefined"&&Symbol.iterator){var ArrayFrom=typeof Array.from==="function"?function(v){return Array.from(v)}:function(v){var ret=[];var it=v[Symbol.iterator]();var itResult;while(!(itResult=it.next()).done){ret.push(itResult.value)}return ret};asArray=function(v){if(es5.isArray(v)){return v}else if(v!=null&&typeof v[Symbol.iterator]==="function"){return ArrayFrom(v)}return null}}var isNode=typeof process!=="undefined"&&classString(process).toLowerCase()==="[object process]";function env(key,def){return isNode?process.env[key]:def}var ret={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,asArray:asArray,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch:tryCatch,inherits:inherits,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:ensureErrorObject,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,hasDevTools:typeof chrome!=="undefined"&&chrome&&typeof chrome.loadTimes==="function",isNode:isNode,env:env};ret.isRecentNode=ret.isNode&&function(){var version=process.versions.node.split(".").map(Number);return version[0]===0&&version[1]>10||version[0]>0}();if(ret.isNode)ret.toFastProperties(process);try{throw new Error}catch(e){ret.lastLineError=e}module.exports=ret},{"./es5":13}]},{},[4])(4)});if(typeof window!=="undefined"&&window!==null){window.P=window.Promise}else if(typeof self!=="undefined"&&self!==null){self.P=self.Promise}var LZString=function(){var f=String.fromCharCode;var keyStrBase64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var keyStrUriSafe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$";var baseReverseDic={};function getBaseValue(alphabet,character){if(!baseReverseDic[alphabet]){baseReverseDic[alphabet]={};for(var i=0;i<alphabet.length;i++){baseReverseDic[alphabet][alphabet.charAt(i)]=i}}return baseReverseDic[alphabet][character]}var LZString={compressToBase64:function(input){if(input==null)return"";var res=LZString._compress(input,6,function(a){return keyStrBase64.charAt(a)});switch(res.length%4){default:case 0:return res;case 1:return res+"===";case 2:return res+"==";case 3:return res+"="}},decompressFromBase64:function(input){if(input==null)return"";if(input=="")return null;return LZString._decompress(input.length,32,function(index){return getBaseValue(keyStrBase64,input.charAt(index))})},compressToUTF16:function(input){if(input==null)return"";return LZString._compress(input,15,function(a){return f(a+32)})+" "},decompressFromUTF16:function(compressed){if(compressed==null)return"";if(compressed=="")return null;return LZString._decompress(compressed.length,16384,function(index){return compressed.charCodeAt(index)-32})},compressToUint8Array:function(uncompressed){var compressed=LZString.compress(uncompressed);var buf=new Uint8Array(compressed.length*2);for(var i=0,TotalLen=compressed.length;i<TotalLen;i++){var current_value=compressed.charCodeAt(i);buf[i*2]=current_value>>>8;buf[i*2+1]=current_value%256}return buf},decompressFromUint8Array:function(compressed){if(compressed===null||compressed===undefined){return LZString.decompress(compressed)}else{var buf=new Array(compressed.length/2);for(var i=0,TotalLen=buf.length;i<TotalLen;i++){buf[i]=compressed[i*2]*256+compressed[i*2+1]}var result=[];buf.forEach(function(c){result.push(f(c))});return LZString.decompress(result.join(""))}},compressToEncodedURIComponent:function(input){if(input==null)return"";return LZString._compress(input,6,function(a){return keyStrUriSafe.charAt(a)})},decompressFromEncodedURIComponent:function(input){if(input==null)return"";if(input=="")return null;input=input.replace(/ /g,"+");return LZString._decompress(input.length,32,function(index){return getBaseValue(keyStrUriSafe,input.charAt(index))})},compress:function(uncompressed){return LZString._compress(uncompressed,16,function(a){return f(a)})},_compress:function(uncompressed,bitsPerChar,getCharFromInt){if(uncompressed==null)return"";var i,value,context_dictionary={},context_dictionaryToCreate={},context_c="",context_wc="",context_w="",context_enlargeIn=2,context_dictSize=3,context_numBits=2,context_data=[],context_data_val=0,context_data_position=0,ii;for(ii=0;ii<uncompressed.length;ii+=1){context_c=uncompressed.charAt(ii);if(!Object.prototype.hasOwnProperty.call(context_dictionary,context_c)){context_dictionary[context_c]=context_dictSize++;context_dictionaryToCreate[context_c]=true}context_wc=context_w+context_c;if(Object.prototype.hasOwnProperty.call(context_dictionary,context_wc)){context_w=context_wc}else{if(Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)){if(context_w.charCodeAt(0)<256){for(i=0;i<context_numBits;i++){context_data_val=context_data_val<<1;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else{context_data_position++}}value=context_w.charCodeAt(0);for(i=0;i<8;i++){context_data_val=context_data_val<<1|value&1;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else{context_data_position++}value=value>>1}}else{value=1;for(i=0;i<context_numBits;i++){context_data_val=context_data_val<<1|value;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else{context_data_position++}value=0}value=context_w.charCodeAt(0);for(i=0;i<16;i++){context_data_val=context_data_val<<1|value&1;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else{context_data_position++}value=value>>1}}context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++}delete context_dictionaryToCreate[context_w]}else{value=context_dictionary[context_w];for(i=0;i<context_numBits;i++){context_data_val=context_data_val<<1|value&1;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else{context_data_position++}value=value>>1}}context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++}context_dictionary[context_wc]=context_dictSize++;context_w=String(context_c)}}if(context_w!==""){if(Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)){if(context_w.charCodeAt(0)<256){for(i=0;i<context_numBits;i++){context_data_val=context_data_val<<1;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else{context_data_position++}}value=context_w.charCodeAt(0);for(i=0;i<8;i++){context_data_val=context_data_val<<1|value&1;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else{context_data_position++}value=value>>1}}else{value=1;for(i=0;i<context_numBits;i++){context_data_val=context_data_val<<1|value;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else{context_data_position++}value=0}value=context_w.charCodeAt(0);for(i=0;i<16;i++){context_data_val=context_data_val<<1|value&1;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else{context_data_position++}value=value>>1}}context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++}delete context_dictionaryToCreate[context_w]}else{value=context_dictionary[context_w];for(i=0;i<context_numBits;i++){context_data_val=context_data_val<<1|value&1;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else{context_data_position++}value=value>>1}}context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++}}value=2;for(i=0;i<context_numBits;i++){context_data_val=context_data_val<<1|value&1;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0}else{context_data_position++}value=value>>1}while(true){context_data_val=context_data_val<<1;if(context_data_position==bitsPerChar-1){context_data.push(getCharFromInt(context_data_val));break}else context_data_position++}return context_data.join("")},decompress:function(compressed){if(compressed==null)return"";if(compressed=="")return null;return LZString._decompress(compressed.length,32768,function(index){return compressed.charCodeAt(index)})},_decompress:function(length,resetValue,getNextValue){var dictionary=[],next,enlargeIn=4,dictSize=4,numBits=3,entry="",result=[],i,w,bits,resb,maxpower,power,c,data={val:getNextValue(0),position:resetValue,index:1};for(i=0;i<3;i+=1){dictionary[i]=i}bits=0;maxpower=Math.pow(2,2);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=resetValue;data.val=getNextValue(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}switch(next=bits){case 0:bits=0;maxpower=Math.pow(2,8);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=resetValue;data.val=getNextValue(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}c=f(bits);break;case 1:bits=0;maxpower=Math.pow(2,16);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=resetValue;data.val=getNextValue(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}c=f(bits);break;case 2:return""}dictionary[3]=c;w=c;result.push(c);while(true){if(data.index>length){return""}bits=0;maxpower=Math.pow(2,numBits);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=resetValue;data.val=getNextValue(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}switch(c=bits){case 0:bits=0;maxpower=Math.pow(2,8);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=resetValue;data.val=getNextValue(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}dictionary[dictSize++]=f(bits);c=dictSize-1;enlargeIn--;break;case 1:bits=0;maxpower=Math.pow(2,16);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=resetValue;data.val=getNextValue(data.index++)}bits|=(resb>0?1:0)*power;power<<=1}dictionary[dictSize++]=f(bits);c=dictSize-1;enlargeIn--;break;case 2:return result.join("")}if(enlargeIn==0){enlargeIn=Math.pow(2,numBits);numBits++}if(dictionary[c]){entry=dictionary[c]}else{if(c===dictSize){entry=w+w.charAt(0)}else{return null}}result.push(entry);dictionary[dictSize++]=w+entry.charAt(0);enlargeIn--;w=entry;if(enlargeIn==0){enlargeIn=Math.pow(2,numBits);numBits++}}}};return LZString}();if(typeof define==="function"&&define.amd){define(function(){return LZString})}else if(typeof module!=="undefined"&&module!=null){module.exports=LZString}(function($){$.Jcrop=function(obj,opt){var options=$.extend({},$.Jcrop.defaults),docOffset,_ua=navigator.userAgent.toLowerCase(),is_msie=/msie/.test(_ua),ie6mode=/msie [1-6]\./.test(_ua);function px(n){return Math.round(n)+"px"}function cssClass(cl){return options.baseClass+"-"+cl}function supportsColorFade(){return $.fx.step.hasOwnProperty("backgroundColor")}function getPos(obj){var pos=$(obj).offset();return[pos.left,pos.top]}function mouseAbs(e){return[e.pageX-docOffset[0],e.pageY-docOffset[1]]}function setOptions(opt){if(typeof opt!=="object")opt={};options=$.extend(options,opt);$.each(["onChange","onSelect","onRelease","onDblClick"],function(i,e){if(typeof options[e]!=="function")options[e]=function(){}})}function startDragMode(mode,pos,touch){docOffset=getPos($img);Tracker.setCursor(mode==="move"?mode:mode+"-resize");if(mode==="move"){return Tracker.activateHandlers(createMover(pos),doneSelect,touch)}var fc=Coords.getFixed();var opp=oppLockCorner(mode);var opc=Coords.getCorner(oppLockCorner(opp));Coords.setPressed(Coords.getCorner(opp));Coords.setCurrent(opc);Tracker.activateHandlers(dragmodeHandler(mode,fc),doneSelect,touch)}function dragmodeHandler(mode,f){return function(pos){if(!options.aspectRatio){switch(mode){case"e":pos[1]=f.y2;break;case"w":pos[1]=f.y2;break;case"n":pos[0]=f.x2;break;case"s":pos[0]=f.x2;break}}else{switch(mode){case"e":pos[1]=f.y+1;break;case"w":pos[1]=f.y+1;break;case"n":pos[0]=f.x+1;break;case"s":pos[0]=f.x+1;break}}Coords.setCurrent(pos);Selection.update()}}function createMover(pos){var lloc=pos;KeyManager.watchKeys();return function(pos){Coords.moveOffset([pos[0]-lloc[0],pos[1]-lloc[1]]);lloc=pos;Selection.update()}}function oppLockCorner(ord){switch(ord){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function createDragger(ord){return function(e){if(options.disabled){return false}if(ord==="move"&&!options.allowMove){return false}docOffset=getPos($img);btndown=true;startDragMode(ord,mouseAbs(e));e.stopPropagation();e.preventDefault();return false}}function presize($obj,w,h){var nw=$obj.width(),nh=$obj.height();if(nw>w&&w>0){nw=w;nh=w/$obj.width()*$obj.height()}if(nh>h&&h>0){nh=h;nw=h/$obj.height()*$obj.width()}xscale=$obj.width()/nw;yscale=$obj.height()/nh;$obj.width(nw).height(nh)}function unscale(c){return{x:c.x*xscale,y:c.y*yscale,x2:c.x2*xscale,y2:c.y2*yscale,w:c.w*xscale,h:c.h*yscale}}function doneSelect(pos){var c=Coords.getFixed();if(c.w>options.minSelect[0]&&c.h>options.minSelect[1]){Selection.enableHandles();Selection.done()}else{Selection.release()}Tracker.setCursor(options.allowSelect?"crosshair":"default")}function newSelection(e){if(options.disabled){return false}if(!options.allowSelect){return false}btndown=true;docOffset=getPos($img);Selection.disableHandles();Tracker.setCursor("crosshair");var pos=mouseAbs(e);Coords.setPressed(pos);Selection.update();Tracker.activateHandlers(selectDrag,doneSelect,e.type.substring(0,5)==="touch");KeyManager.watchKeys();e.stopPropagation();e.preventDefault();return false}function selectDrag(pos){Coords.setCurrent(pos);Selection.update()}function newTracker(){var trk=$("<div></div>").addClass(cssClass("tracker"));if(is_msie){trk.css({opacity:0,backgroundColor:"white"})}return trk}if(typeof obj!=="object"){obj=$(obj)[0]}if(typeof opt!=="object"){opt={}}setOptions(opt);var img_css={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0};var $origimg=$(obj),img_mode=true;if(obj.tagName=="IMG"){if($origimg[0].width!=0&&$origimg[0].height!=0){$origimg.width($origimg[0].width);$origimg.height($origimg[0].height)}else{var tempImage=new Image;tempImage.src=$origimg[0].src;$origimg.width(tempImage.width);$origimg.height(tempImage.height)}var $img=$origimg.clone().removeAttr("id").css(img_css).show();$img.width($origimg.width());$img.height($origimg.height());$origimg.after($img).hide()}else{$img=$origimg.css(img_css).show();img_mode=false;if(options.shade===null){options.shade=true}}presize($img,options.boxWidth,options.boxHeight);var boundx=$img.width(),boundy=$img.height(),$div=$("<div />").width(boundx).height(boundy).addClass(cssClass("holder")).css({position:"relative",backgroundColor:options.bgColor}).insertAfter($origimg).append($img);if(options.addClass){$div.addClass(options.addClass)}var $img2=$("<div />"),$img_holder=$("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),$hdl_holder=$("<div />").width("100%").height("100%").css("zIndex",320),$sel=$("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var c=Coords.getFixed();options.onDblClick.call(api,c)}).insertBefore($img).append($img_holder,$hdl_holder);if(img_mode){$img2=$("<img />").attr("src",$img.attr("src")).css(img_css).width(boundx).height(boundy),$img_holder.append($img2)}if(ie6mode){$sel.css({overflowY:"hidden"})}var bound=options.boundary;var $trk=newTracker().width(boundx+bound*2).height(boundy+bound*2).css({position:"absolute",top:px(-bound),left:px(-bound),zIndex:290}).mousedown(newSelection);var bgcolor=options.bgColor,bgopacity=options.bgOpacity,xlimit,ylimit,xmin,ymin,xscale,yscale,enabled=true,btndown,animating,shift_down;docOffset=getPos($img);var Touch=function(){function hasTouchSupport(){var support={},events=["touchstart","touchmove","touchend"],el=document.createElement("div"),i;try{for(i=0;i<events.length;i++){var eventName=events[i];eventName="on"+eventName;var isSupported=eventName in el;if(!isSupported){el.setAttribute(eventName,"return;");isSupported=typeof el[eventName]=="function"}support[events[i]]=isSupported}return support.touchstart&&support.touchend&&support.touchmove}catch(err){return false}}function detectSupport(){if(options.touchSupport===true||options.touchSupport===false)return options.touchSupport;else return hasTouchSupport()}return{createDragger:function(ord){return function(e){if(options.disabled){return false}if(ord==="move"&&!options.allowMove){return false}docOffset=getPos($img);btndown=true;startDragMode(ord,mouseAbs(Touch.cfilter(e)),true);e.stopPropagation();e.preventDefault();return false}},newSelection:function(e){return newSelection(Touch.cfilter(e))},cfilter:function(e){e.pageX=e.originalEvent.changedTouches[0].pageX;e.pageY=e.originalEvent.changedTouches[0].pageY;return e},isSupported:hasTouchSupport,support:detectSupport()}}();var Coords=function(){var x1=0,y1=0,x2=0,y2=0,ox,oy;function setPressed(pos){pos=rebound(pos);x2=x1=pos[0];y2=y1=pos[1]}function setCurrent(pos){pos=rebound(pos);ox=pos[0]-x2;oy=pos[1]-y2;x2=pos[0];y2=pos[1]}function getOffset(){return[ox,oy]}function moveOffset(offset){var ox=offset[0],oy=offset[1];if(0>x1+ox){ox-=ox+x1}if(0>y1+oy){oy-=oy+y1}if(boundy<y2+oy){oy+=boundy-(y2+oy)}if(boundx<x2+ox){ox+=boundx-(x2+ox)}x1+=ox;x2+=ox;y1+=oy;y2+=oy}function getCorner(ord){var c=getFixed();switch(ord){case"ne":return[c.x2,c.y];case"nw":return[c.x,c.y];case"se":return[c.x2,c.y2];case"sw":return[c.x,c.y2]}}function getFixed(){if(!options.aspectRatio){return getRect()}var aspect=options.aspectRatio,min_x=options.minSize[0]/xscale,max_x=options.maxSize[0]/xscale,max_y=options.maxSize[1]/yscale,rw=x2-x1,rh=y2-y1,rwa=Math.abs(rw),rha=Math.abs(rh),real_ratio=rwa/rha,xx,yy,w,h;if(max_x===0){max_x=boundx*10}if(max_y===0){max_y=boundy*10}if(real_ratio<aspect){yy=y2;w=rha*aspect;xx=rw<0?x1-w:w+x1;if(xx<0){xx=0;h=Math.abs((xx-x1)/aspect);yy=rh<0?y1-h:h+y1}else if(xx>boundx){xx=boundx;h=Math.abs((xx-x1)/aspect);yy=rh<0?y1-h:h+y1}}else{xx=x2;h=rwa/aspect;yy=rh<0?y1-h:y1+h;if(yy<0){yy=0;w=Math.abs((yy-y1)*aspect);xx=rw<0?x1-w:w+x1}else if(yy>boundy){yy=boundy;w=Math.abs(yy-y1)*aspect;xx=rw<0?x1-w:w+x1}}if(xx>x1){if(xx-x1<min_x){xx=x1+min_x}else if(xx-x1>max_x){xx=x1+max_x}if(yy>y1){yy=y1+(xx-x1)/aspect}else{yy=y1-(xx-x1)/aspect}}else if(xx<x1){if(x1-xx<min_x){xx=x1-min_x}else if(x1-xx>max_x){xx=x1-max_x}if(yy>y1){yy=y1+(x1-xx)/aspect}else{yy=y1-(x1-xx)/aspect}}if(xx<0){x1-=xx;xx=0}else if(xx>boundx){x1-=xx-boundx;xx=boundx}if(yy<0){y1-=yy;yy=0}else if(yy>boundy){y1-=yy-boundy;yy=boundy}return makeObj(flipCoords(x1,y1,xx,yy))}function rebound(p){if(p[0]<0)p[0]=0;if(p[1]<0)p[1]=0;if(p[0]>boundx)p[0]=boundx;if(p[1]>boundy)p[1]=boundy;return[Math.round(p[0]),Math.round(p[1])]}function flipCoords(x1,y1,x2,y2){var xa=x1,xb=x2,ya=y1,yb=y2;if(x2<x1){xa=x2;xb=x1}if(y2<y1){ya=y2;yb=y1}return[xa,ya,xb,yb]}function getRect(){var xsize=x2-x1,ysize=y2-y1,delta;if(xlimit&&Math.abs(xsize)>xlimit){x2=xsize>0?x1+xlimit:x1-xlimit}if(ylimit&&Math.abs(ysize)>ylimit){y2=ysize>0?y1+ylimit:y1-ylimit}if(ymin/yscale&&Math.abs(ysize)<ymin/yscale){y2=ysize>0?y1+ymin/yscale:y1-ymin/yscale}if(xmin/xscale&&Math.abs(xsize)<xmin/xscale){x2=xsize>0?x1+xmin/xscale:x1-xmin/xscale}if(x1<0){x2-=x1;x1-=x1}if(y1<0){y2-=y1;y1-=y1}if(x2<0){x1-=x2;x2-=x2}if(y2<0){y1-=y2;y2-=y2}if(x2>boundx){delta=x2-boundx;x1-=delta;x2-=delta}if(y2>boundy){delta=y2-boundy;y1-=delta;y2-=delta}if(x1>boundx){delta=x1-boundy;y2-=delta;y1-=delta}if(y1>boundy){delta=y1-boundy;y2-=delta;y1-=delta}return makeObj(flipCoords(x1,y1,x2,y2))}function makeObj(a){return{x:a[0],y:a[1],x2:a[2],y2:a[3],w:a[2]-a[0],h:a[3]-a[1]}}return{flipCoords:flipCoords,setPressed:setPressed,setCurrent:setCurrent,getOffset:getOffset,moveOffset:moveOffset,getCorner:getCorner,getFixed:getFixed}}();var Shade=function(){var enabled=false,holder=$("<div />").css({position:"absolute",zIndex:240,opacity:0}),shades={top:createShade(),left:createShade().height(boundy),right:createShade().height(boundy),bottom:createShade()};function resizeShades(w,h){shades.left.css({height:px(h)});shades.right.css({height:px(h)})}function updateAuto(){return updateShade(Coords.getFixed())}function updateShade(c){shades.top.css({left:px(c.x),width:px(c.w),height:px(c.y)});shades.bottom.css({top:px(c.y2),left:px(c.x),width:px(c.w),height:px(boundy-c.y2)});shades.right.css({left:px(c.x2),width:px(boundx-c.x2)});shades.left.css({width:px(c.x)})}function createShade(){return $("<div />").css({position:"absolute",backgroundColor:options.shadeColor||options.bgColor}).appendTo(holder)}function enableShade(){if(!enabled){enabled=true;holder.insertBefore($img);updateAuto();Selection.setBgOpacity(1,0,1);$img2.hide();setBgColor(options.shadeColor||options.bgColor,1);if(Selection.isAwake()){setOpacity(options.bgOpacity,1)}else setOpacity(1,1)}}function setBgColor(color,now){colorChangeMacro(getShades(),color,now)}function disableShade(){if(enabled){holder.remove();$img2.show();enabled=false;if(Selection.isAwake()){Selection.setBgOpacity(options.bgOpacity,1,1)}else{Selection.setBgOpacity(1,1,1);Selection.disableHandles()}colorChangeMacro($div,0,1)}}function setOpacity(opacity,now){if(enabled){if(options.bgFade&&!now){holder.animate({opacity:1-opacity},{queue:false,duration:options.fadeTime})}else holder.css({opacity:1-opacity})}}function refreshAll(){options.shade?enableShade():disableShade();if(Selection.isAwake())setOpacity(options.bgOpacity)}function getShades(){return holder.children()}return{update:updateAuto,updateRaw:updateShade,getShades:getShades,setBgColor:setBgColor,enable:enableShade,disable:disableShade,resize:resizeShades,refresh:refreshAll,opacity:setOpacity}}();var Selection=function(){var awake,hdep=370,borders={},handle={},dragbar={},seehandles=false;function insertBorder(type){var jq=$("<div />").css({position:"absolute",opacity:options.borderOpacity}).addClass(cssClass(type));$img_holder.append(jq);return jq}function dragDiv(ord,zi){var jq=$("<div />").mousedown(createDragger(ord)).css({cursor:ord+"-resize",position:"absolute",zIndex:zi}).addClass("ord-"+ord);if(Touch.support){jq.bind("touchstart.jcrop",Touch.createDragger(ord))}$hdl_holder.append(jq);return jq}function insertHandle(ord){var hs=options.handleSize,div=dragDiv(ord,hdep++).css({opacity:options.handleOpacity}).addClass(cssClass("handle"));if(hs){div.width(hs).height(hs)}return div}function insertDragbar(ord){return dragDiv(ord,hdep++).addClass("jcrop-dragbar")}function createDragbars(li){var i;for(i=0;i<li.length;i++){dragbar[li[i]]=insertDragbar(li[i])}}function createBorders(li){var cl,i;for(i=0;i<li.length;i++){switch(li[i]){case"n":cl="hline";break;case"s":cl="hline bottom";break;case"e":cl="vline right";
break;case"w":cl="vline";break}borders[li[i]]=insertBorder(cl)}}function createHandles(li){var i;for(i=0;i<li.length;i++){handle[li[i]]=insertHandle(li[i])}}function moveto(x,y){if(!options.shade){$img2.css({top:px(-y),left:px(-x)})}$sel.css({top:px(y),left:px(x)})}function resize(w,h){$sel.width(Math.round(w)).height(Math.round(h))}function refresh(){var c=Coords.getFixed();Coords.setPressed([c.x,c.y]);Coords.setCurrent([c.x2,c.y2]);updateVisible()}function updateVisible(select){if(awake){return update(select)}}function update(select){var c=Coords.getFixed();resize(c.w,c.h);moveto(c.x,c.y);if(options.shade)Shade.updateRaw(c);awake||show();if(select){options.onSelect.call(api,unscale(c))}else{options.onChange.call(api,unscale(c))}}function setBgOpacity(opacity,force,now){if(!awake&&!force)return;if(options.bgFade&&!now){$img.animate({opacity:opacity},{queue:false,duration:options.fadeTime})}else{$img.css("opacity",opacity)}}function show(){$sel.show();if(options.shade)Shade.opacity(bgopacity);else setBgOpacity(bgopacity,true);awake=true}function release(){disableHandles();$sel.hide();if(options.shade)Shade.opacity(1);else setBgOpacity(1);awake=false;options.onRelease.call(api)}function showHandles(){if(seehandles){$hdl_holder.show()}}function enableHandles(){seehandles=true;if(options.allowResize){$hdl_holder.show();return true}}function disableHandles(){seehandles=false;$hdl_holder.hide()}function animMode(v){if(v){animating=true;disableHandles()}else{animating=false;enableHandles()}}function done(){animMode(false);refresh()}if(options.dragEdges&&$.isArray(options.createDragbars))createDragbars(options.createDragbars);if($.isArray(options.createHandles))createHandles(options.createHandles);if(options.drawBorders&&$.isArray(options.createBorders))createBorders(options.createBorders);$(document).bind("touchstart.jcrop-ios",function(e){if($(e.currentTarget).hasClass("jcrop-tracker"))e.stopPropagation()});var $track=newTracker().mousedown(createDragger("move")).css({cursor:"move",position:"absolute",zIndex:360});if(Touch.support){$track.bind("touchstart.jcrop",Touch.createDragger("move"))}$img_holder.append($track);disableHandles();return{updateVisible:updateVisible,update:update,release:release,refresh:refresh,isAwake:function(){return awake},setCursor:function(cursor){$track.css("cursor",cursor)},enableHandles:enableHandles,enableOnly:function(){seehandles=true},showHandles:showHandles,disableHandles:disableHandles,animMode:animMode,setBgOpacity:setBgOpacity,done:done}}();var Tracker=function(){var onMove=function(){},onDone=function(){},trackDoc=options.trackDocument;function toFront(touch){$trk.css({zIndex:450});if(touch)$(document).bind("touchmove.jcrop",trackTouchMove).bind("touchend.jcrop",trackTouchEnd);else if(trackDoc)$(document).bind("mousemove.jcrop",trackMove).bind("mouseup.jcrop",trackUp)}function toBack(){$trk.css({zIndex:290});$(document).unbind(".jcrop")}function trackMove(e){onMove(mouseAbs(e));return false}function trackUp(e){e.preventDefault();e.stopPropagation();if(btndown){btndown=false;onDone(mouseAbs(e));if(Selection.isAwake()){options.onSelect.call(api,unscale(Coords.getFixed()))}toBack();onMove=function(){};onDone=function(){}}return false}function activateHandlers(move,done,touch){btndown=true;onMove=move;onDone=done;toFront(touch);return false}function trackTouchMove(e){onMove(mouseAbs(Touch.cfilter(e)));return false}function trackTouchEnd(e){return trackUp(Touch.cfilter(e))}function setCursor(t){$trk.css("cursor",t)}if(!trackDoc){$trk.mousemove(trackMove).mouseup(trackUp).mouseout(trackUp)}$img.before($trk);return{activateHandlers:activateHandlers,setCursor:setCursor}}();var KeyManager=function(){var $keymgr=$('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),$keywrap=$("<div />").css({position:"absolute",overflow:"hidden"}).append($keymgr);function watchKeys(){if(options.keySupport){$keymgr.show();$keymgr.focus()}}function onBlur(e){$keymgr.hide()}function doNudge(e,x,y){if(options.allowMove){Coords.moveOffset([x,y]);Selection.updateVisible(true)}e.preventDefault();e.stopPropagation()}function parseKey(e){if(e.ctrlKey||e.metaKey){return true}shift_down=e.shiftKey?true:false;var nudge=shift_down?10:1;switch(e.keyCode){case 37:doNudge(e,-nudge,0);break;case 39:doNudge(e,nudge,0);break;case 38:doNudge(e,0,-nudge);break;case 40:doNudge(e,0,nudge);break;case 27:if(options.allowSelect)Selection.release();break;case 9:return true}return false}if(options.keySupport){$keymgr.keydown(parseKey).blur(onBlur);if(ie6mode||!options.fixedSupport){$keymgr.css({position:"absolute",left:"-20px"});$keywrap.append($keymgr).insertBefore($img)}else{$keymgr.insertBefore($img)}}return{watchKeys:watchKeys}}();function setClass(cname){$div.removeClass().addClass(cssClass("holder")).addClass(cname)}function animateTo(a,callback){var x1=a[0]/xscale,y1=a[1]/yscale,x2=a[2]/xscale,y2=a[3]/yscale;if(animating){return}var animto=Coords.flipCoords(x1,y1,x2,y2),c=Coords.getFixed(),initcr=[c.x,c.y,c.x2,c.y2],animat=initcr,interv=options.animationDelay,ix1=animto[0]-initcr[0],iy1=animto[1]-initcr[1],ix2=animto[2]-initcr[2],iy2=animto[3]-initcr[3],pcent=0,velocity=options.swingSpeed;x1=animat[0];y1=animat[1];x2=animat[2];y2=animat[3];Selection.animMode(true);var anim_timer;function queueAnimator(){window.setTimeout(animator,interv)}var animator=function(){return function(){pcent+=(100-pcent)/velocity;animat[0]=Math.round(x1+pcent/100*ix1);animat[1]=Math.round(y1+pcent/100*iy1);animat[2]=Math.round(x2+pcent/100*ix2);animat[3]=Math.round(y2+pcent/100*iy2);if(pcent>=99.8){pcent=100}if(pcent<100){setSelectRaw(animat);queueAnimator()}else{Selection.done();Selection.animMode(false);if(typeof callback==="function"){callback.call(api)}}}}();queueAnimator()}function setSelect(rect){setSelectRaw([rect[0]/xscale,rect[1]/yscale,rect[2]/xscale,rect[3]/yscale]);options.onSelect.call(api,unscale(Coords.getFixed()));Selection.enableHandles()}function setSelectRaw(l){Coords.setPressed([l[0],l[1]]);Coords.setCurrent([l[2],l[3]]);Selection.update()}function tellSelect(){return unscale(Coords.getFixed())}function tellScaled(){return Coords.getFixed()}function setOptionsNew(opt){setOptions(opt);interfaceUpdate()}function disableCrop(){options.disabled=true;Selection.disableHandles();Selection.setCursor("default");Tracker.setCursor("default")}function enableCrop(){options.disabled=false;interfaceUpdate()}function cancelCrop(){Selection.done();Tracker.activateHandlers(null,null)}function destroy(){$div.remove();$origimg.show();$origimg.css("visibility","visible");$(obj).removeData("Jcrop")}function setImage(src,callback){Selection.release();disableCrop();var img=new Image;img.onload=function(){var iw=img.width;var ih=img.height;var bw=options.boxWidth;var bh=options.boxHeight;$img.width(iw).height(ih);$img.attr("src",src);$img2.attr("src",src);presize($img,bw,bh);boundx=$img.width();boundy=$img.height();$img2.width(boundx).height(boundy);$trk.width(boundx+bound*2).height(boundy+bound*2);$div.width(boundx).height(boundy);Shade.resize(boundx,boundy);enableCrop();if(typeof callback==="function"){callback.call(api)}};img.src=src}function colorChangeMacro($obj,color,now){var mycolor=color||options.bgColor;if(options.bgFade&&supportsColorFade()&&options.fadeTime&&!now){$obj.animate({backgroundColor:mycolor},{queue:false,duration:options.fadeTime})}else{$obj.css("backgroundColor",mycolor)}}function interfaceUpdate(alt){if(options.allowResize){if(alt){Selection.enableOnly()}else{Selection.enableHandles()}}else{Selection.disableHandles()}Tracker.setCursor(options.allowSelect?"crosshair":"default");Selection.setCursor(options.allowMove?"move":"default");if(options.hasOwnProperty("trueSize")){xscale=options.trueSize[0]/boundx;yscale=options.trueSize[1]/boundy}if(options.hasOwnProperty("setSelect")){setSelect(options.setSelect);Selection.done();delete options.setSelect}Shade.refresh();if(options.bgColor!=bgcolor){colorChangeMacro(options.shade?Shade.getShades():$div,options.shade?options.shadeColor||options.bgColor:options.bgColor);bgcolor=options.bgColor}if(bgopacity!=options.bgOpacity){bgopacity=options.bgOpacity;if(options.shade)Shade.refresh();else Selection.setBgOpacity(bgopacity)}xlimit=options.maxSize[0]||0;ylimit=options.maxSize[1]||0;xmin=options.minSize[0]||0;ymin=options.minSize[1]||0;if(options.hasOwnProperty("outerImage")){$img.attr("src",options.outerImage);delete options.outerImage}Selection.refresh()}if(Touch.support)$trk.bind("touchstart.jcrop",Touch.newSelection);$hdl_holder.hide();interfaceUpdate(true);var api={setImage:setImage,animateTo:animateTo,setSelect:setSelect,setOptions:setOptionsNew,tellSelect:tellSelect,tellScaled:tellScaled,setClass:setClass,disable:disableCrop,enable:enableCrop,cancel:cancelCrop,release:Selection.release,destroy:destroy,focus:KeyManager.watchKeys,getBounds:function(){return[boundx*xscale,boundy*yscale]},getWidgetSize:function(){return[boundx,boundy]},getScaleFactor:function(){return[xscale,yscale]},getOptions:function(){return options},ui:{holder:$div,selection:$sel}};if(is_msie)$div.bind("selectstart",function(){return false});$origimg.data("Jcrop",api);return api};$.fn.Jcrop=function(options,callback){var api;this.each(function(){if($(this).data("Jcrop")){if(options==="api")return $(this).data("Jcrop");else $(this).data("Jcrop").setOptions(options)}else{if(this.tagName=="IMG")$.Jcrop.Loader(this,function(){$(this).css({display:"block",visibility:"hidden"});api=$.Jcrop(this,options);if($.isFunction(callback))callback.call(api)});else{$(this).css({display:"block",visibility:"hidden"});api=$.Jcrop(this,options);if($.isFunction(callback))callback.call(api)}}});return this};$.Jcrop.Loader=function(imgobj,success,error){var $img=$(imgobj),img=$img[0];function completeCheck(){if(img.complete){$img.unbind(".jcloader");if($.isFunction(success))success.call(img)}else window.setTimeout(completeCheck,50)}$img.bind("load.jcloader",completeCheck).bind("error.jcloader",function(e){$img.unbind(".jcloader");if($.isFunction(error))error.call(img)});if(img.complete&&$.isFunction(success)){$img.unbind(".jcloader");success.call(img)}};$.Jcrop.defaults={allowSelect:true,allowMove:true,allowResize:true,trackDocument:true,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:false,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:true,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:true,dragEdges:true,fixedSupport:true,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}})(jQuery);(function(factory,root){if(typeof define=="function"&&define.amd){define(factory)}else if(typeof module!="undefined"&&typeof exports=="object"){module.exports=factory()}else{root.rangy=factory()}})(function(){var OBJECT="object",FUNCTION="function",UNDEFINED="undefined";var domRangeProperties=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"];var domRangeMethods=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"];var textRangeProperties=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"];var textRangeMethods=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function isHostMethod(o,p){var t=typeof o[p];return t==FUNCTION||!!(t==OBJECT&&o[p])||t=="unknown"}function isHostObject(o,p){return!!(typeof o[p]==OBJECT&&o[p])}function isHostProperty(o,p){return typeof o[p]!=UNDEFINED}function createMultiplePropertyTest(testFunc){return function(o,props){var i=props.length;while(i--){if(!testFunc(o,props[i])){return false}}return true}}var areHostMethods=createMultiplePropertyTest(isHostMethod);var areHostObjects=createMultiplePropertyTest(isHostObject);var areHostProperties=createMultiplePropertyTest(isHostProperty);function isTextRange(range){return range&&areHostMethods(range,textRangeMethods)&&areHostProperties(range,textRangeProperties)}function getBody(doc){return isHostObject(doc,"body")?doc.body:doc.getElementsByTagName("body")[0]}var forEach=[].forEach?function(arr,func){arr.forEach(func)}:function(arr,func){for(var i=0,len=arr.length;i<len;++i){func(arr[i],i)}};var modules={};var isBrowser=typeof window!=UNDEFINED&&typeof document!=UNDEFINED;var util={isHostMethod:isHostMethod,isHostObject:isHostObject,isHostProperty:isHostProperty,areHostMethods:areHostMethods,areHostObjects:areHostObjects,areHostProperties:areHostProperties,isTextRange:isTextRange,getBody:getBody,forEach:forEach};var api={version:"1.3.0",initialized:false,isBrowser:isBrowser,supported:true,util:util,features:{},modules:modules,config:{alertOnFail:false,alertOnWarn:false,preferTextRange:false,autoInitialize:typeof rangyAutoInitialize==UNDEFINED?true:rangyAutoInitialize}};function consoleLog(msg){if(typeof console!=UNDEFINED&&isHostMethod(console,"log")){console.log(msg)}}function alertOrLog(msg,shouldAlert){if(isBrowser&&shouldAlert){alert(msg)}else{consoleLog(msg)}}function fail(reason){api.initialized=true;api.supported=false;alertOrLog("Rangy is not supported in this environment. Reason: "+reason,api.config.alertOnFail)}api.fail=fail;function warn(msg){alertOrLog("Rangy warning: "+msg,api.config.alertOnWarn)}api.warn=warn;var extend;if({}.hasOwnProperty){util.extend=extend=function(obj,props,deep){var o,p;for(var i in props){if(props.hasOwnProperty(i)){o=obj[i];p=props[i];if(deep&&o!==null&&typeof o=="object"&&p!==null&&typeof p=="object"){extend(o,p,true)}obj[i]=p}}if(props.hasOwnProperty("toString")){obj.toString=props.toString}return obj};util.createOptions=function(optionsParam,defaults){var options={};extend(options,defaults);if(optionsParam){extend(options,optionsParam)}return options}}else{fail("hasOwnProperty not supported")}if(!isBrowser){fail("Rangy can only run in a browser")}(function(){var toArray;if(isBrowser){var el=document.createElement("div");el.appendChild(document.createElement("span"));var slice=[].slice;try{if(slice.call(el.childNodes,0)[0].nodeType==1){toArray=function(arrayLike){return slice.call(arrayLike,0)}}}catch(e){}}if(!toArray){toArray=function(arrayLike){var arr=[];for(var i=0,len=arrayLike.length;i<len;++i){arr[i]=arrayLike[i]}return arr}}util.toArray=toArray})();var addListener;if(isBrowser){if(isHostMethod(document,"addEventListener")){addListener=function(obj,eventType,listener){obj.addEventListener(eventType,listener,false)}}else if(isHostMethod(document,"attachEvent")){addListener=function(obj,eventType,listener){obj.attachEvent("on"+eventType,listener)}}else{fail("Document does not have required addEventListener or attachEvent method")}util.addListener=addListener}var initListeners=[];function getErrorDesc(ex){return ex.message||ex.description||String(ex)}function init(){if(!isBrowser||api.initialized){return}var testRange;var implementsDomRange=false,implementsTextRange=false;if(isHostMethod(document,"createRange")){testRange=document.createRange();if(areHostMethods(testRange,domRangeMethods)&&areHostProperties(testRange,domRangeProperties)){implementsDomRange=true}}var body=getBody(document);if(!body||body.nodeName.toLowerCase()!="body"){fail("No body element found");return}if(body&&isHostMethod(body,"createTextRange")){testRange=body.createTextRange();if(isTextRange(testRange)){implementsTextRange=true}}if(!implementsDomRange&&!implementsTextRange){fail("Neither Range nor TextRange are available");return}api.initialized=true;api.features={implementsDomRange:implementsDomRange,implementsTextRange:implementsTextRange};var module,errorMessage;for(var moduleName in modules){if((module=modules[moduleName])instanceof Module){module.init(module,api)}}for(var i=0,len=initListeners.length;i<len;++i){try{initListeners[i](api)}catch(ex){errorMessage="Rangy init listener threw an exception. Continuing. Detail: "+getErrorDesc(ex);consoleLog(errorMessage)}}}function deprecationNotice(deprecated,replacement,module){if(module){deprecated+=" in module "+module.name}api.warn("DEPRECATED: "+deprecated+" is deprecated. Please use "+replacement+" instead.")}function createAliasForDeprecatedMethod(owner,deprecated,replacement,module){owner[deprecated]=function(){deprecationNotice(deprecated,replacement,module);return owner[replacement].apply(owner,util.toArray(arguments))}}util.deprecationNotice=deprecationNotice;util.createAliasForDeprecatedMethod=createAliasForDeprecatedMethod;api.init=init;api.addInitListener=function(listener){if(api.initialized){listener(api)}else{initListeners.push(listener)}};var shimListeners=[];api.addShimListener=function(listener){shimListeners.push(listener)};function shim(win){win=win||window;init();for(var i=0,len=shimListeners.length;i<len;++i){shimListeners[i](win)}}if(isBrowser){api.shim=api.createMissingNativeApi=shim;createAliasForDeprecatedMethod(api,"createMissingNativeApi","shim")}function Module(name,dependencies,initializer){this.name=name;this.dependencies=dependencies;this.initialized=false;this.supported=false;this.initializer=initializer}Module.prototype={init:function(){var requiredModuleNames=this.dependencies||[];for(var i=0,len=requiredModuleNames.length,requiredModule,moduleName;i<len;++i){moduleName=requiredModuleNames[i];requiredModule=modules[moduleName];if(!requiredModule||!(requiredModule instanceof Module)){throw new Error("required module '"+moduleName+"' not found")}requiredModule.init();if(!requiredModule.supported){throw new Error("required module '"+moduleName+"' not supported")}}this.initializer(this)},fail:function(reason){this.initialized=true;this.supported=false;throw new Error(reason)},warn:function(msg){api.warn("Module "+this.name+": "+msg)},deprecationNotice:function(deprecated,replacement){api.warn("DEPRECATED: "+deprecated+" in module "+this.name+" is deprecated. Please use "+replacement+" instead")},createError:function(msg){return new Error("Error in Rangy "+this.name+" module: "+msg)}};function createModule(name,dependencies,initFunc){var newModule=new Module(name,dependencies,function(module){if(!module.initialized){module.initialized=true;try{initFunc(api,module);module.supported=true}catch(ex){var errorMessage="Module '"+name+"' failed to load: "+getErrorDesc(ex);consoleLog(errorMessage);if(ex.stack){consoleLog(ex.stack)}}}});modules[name]=newModule;return newModule}api.createModule=function(name){var initFunc,dependencies;if(arguments.length==2){initFunc=arguments[1];dependencies=[]}else{initFunc=arguments[2];dependencies=arguments[1]}var module=createModule(name,dependencies,initFunc);if(api.initialized&&api.supported){module.init()}};api.createCoreModule=function(name,dependencies,initFunc){createModule(name,dependencies,initFunc)};function RangePrototype(){}api.RangePrototype=RangePrototype;api.rangePrototype=new RangePrototype;function SelectionPrototype(){}api.selectionPrototype=new SelectionPrototype;api.createCoreModule("DomUtil",[],function(api,module){var UNDEF="undefined";var util=api.util;var getBody=util.getBody;if(!util.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])){module.fail("document missing a Node creation method")}if(!util.isHostMethod(document,"getElementsByTagName")){module.fail("document missing getElementsByTagName method")}var el=document.createElement("div");if(!util.areHostMethods(el,["insertBefore","appendChild","cloneNode"]||!util.areHostObjects(el,["previousSibling","nextSibling","childNodes","parentNode"]))){module.fail("Incomplete Element implementation")}if(!util.isHostProperty(el,"innerHTML")){module.fail("Element is missing innerHTML property")}var textNode=document.createTextNode("test");if(!util.areHostMethods(textNode,["splitText","deleteData","insertData","appendData","cloneNode"]||!util.areHostObjects(el,["previousSibling","nextSibling","childNodes","parentNode"])||!util.areHostProperties(textNode,["data"]))){module.fail("Incomplete Text Node implementation")}var arrayContains=function(arr,val){var i=arr.length;while(i--){if(arr[i]===val){return true}}return false};function isHtmlNamespace(node){var ns;return typeof node.namespaceURI==UNDEF||((ns=node.namespaceURI)===null||ns=="http://www.w3.org/1999/xhtml")}function parentElement(node){var parent=node.parentNode;return parent.nodeType==1?parent:null}function getNodeIndex(node){var i=0;while(node=node.previousSibling){++i}return i}function getNodeLength(node){switch(node.nodeType){case 7:case 10:return 0;case 3:case 8:return node.length;default:return node.childNodes.length}}function getCommonAncestor(node1,node2){var ancestors=[],n;for(n=node1;n;n=n.parentNode){ancestors.push(n)}for(n=node2;n;n=n.parentNode){if(arrayContains(ancestors,n)){return n}}return null}function isAncestorOf(ancestor,descendant,selfIsAncestor){var n=selfIsAncestor?descendant:descendant.parentNode;while(n){if(n===ancestor){return true}else{n=n.parentNode}}return false}function isOrIsAncestorOf(ancestor,descendant){return isAncestorOf(ancestor,descendant,true)}function getClosestAncestorIn(node,ancestor,selfIsAncestor){var p,n=selfIsAncestor?node:node.parentNode;while(n){p=n.parentNode;if(p===ancestor){return n}n=p}return null}function isCharacterDataNode(node){var t=node.nodeType;return t==3||t==4||t==8}function isTextOrCommentNode(node){if(!node){return false}var t=node.nodeType;return t==3||t==8}function insertAfter(node,precedingNode){var nextNode=precedingNode.nextSibling,parent=precedingNode.parentNode;if(nextNode){parent.insertBefore(node,nextNode)}else{parent.appendChild(node)}return node}function splitDataNode(node,index,positionsToPreserve){var newNode=node.cloneNode(false);newNode.deleteData(0,index);node.deleteData(index,node.length-index);insertAfter(newNode,node);if(positionsToPreserve){for(var i=0,position;position=positionsToPreserve[i++];){if(position.node==node&&position.offset>index){position.node=newNode;position.offset-=index}else if(position.node==node.parentNode&&position.offset>getNodeIndex(node)){++position.offset}}}return newNode}function getDocument(node){if(node.nodeType==9){return node}else if(typeof node.ownerDocument!=UNDEF){return node.ownerDocument}else if(typeof node.document!=UNDEF){return node.document}else if(node.parentNode){return getDocument(node.parentNode)}else{throw module.createError("getDocument: no document found for node")}}function getWindow(node){var doc=getDocument(node);if(typeof doc.defaultView!=UNDEF){return doc.defaultView}else if(typeof doc.parentWindow!=UNDEF){return doc.parentWindow}else{throw module.createError("Cannot get a window object for node")}}function getIframeDocument(iframeEl){if(typeof iframeEl.contentDocument!=UNDEF){return iframeEl.contentDocument}else if(typeof iframeEl.contentWindow!=UNDEF){return iframeEl.contentWindow.document}else{throw module.createError("getIframeDocument: No Document object found for iframe element")}}function getIframeWindow(iframeEl){if(typeof iframeEl.contentWindow!=UNDEF){return iframeEl.contentWindow}else if(typeof iframeEl.contentDocument!=UNDEF){return iframeEl.contentDocument.defaultView}else{throw module.createError("getIframeWindow: No Window object found for iframe element")}}function isWindow(obj){return obj&&util.isHostMethod(obj,"setTimeout")&&util.isHostObject(obj,"document")}function getContentDocument(obj,module,methodName){var doc;if(!obj){doc=document}else if(util.isHostProperty(obj,"nodeType")){doc=obj.nodeType==1&&obj.tagName.toLowerCase()=="iframe"?getIframeDocument(obj):getDocument(obj)}else if(isWindow(obj)){doc=obj.document}if(!doc){throw module.createError(methodName+"(): Parameter must be a Window object or DOM node")}return doc}function getRootContainer(node){var parent;while(parent=node.parentNode){node=parent}return node}function comparePoints(nodeA,offsetA,nodeB,offsetB){var nodeC,root,childA,childB,n;if(nodeA==nodeB){return offsetA===offsetB?0:offsetA<offsetB?-1:1}else if(nodeC=getClosestAncestorIn(nodeB,nodeA,true)){return offsetA<=getNodeIndex(nodeC)?-1:1}else if(nodeC=getClosestAncestorIn(nodeA,nodeB,true)){return getNodeIndex(nodeC)<offsetB?-1:1}else{root=getCommonAncestor(nodeA,nodeB);if(!root){throw new Error("comparePoints error: nodes have no common ancestor")}childA=nodeA===root?root:getClosestAncestorIn(nodeA,root,true);childB=nodeB===root?root:getClosestAncestorIn(nodeB,root,true);if(childA===childB){throw module.createError("comparePoints got to case 4 and childA and childB are the same!")}else{n=root.firstChild;while(n){if(n===childA){return-1}else if(n===childB){return 1}n=n.nextSibling}}}}var crashyTextNodes=false;function isBrokenNode(node){var n;try{n=node.parentNode;return false}catch(e){return true}}(function(){var el=document.createElement("b");el.innerHTML="1";var textNode=el.firstChild;el.innerHTML="<br />";crashyTextNodes=isBrokenNode(textNode);api.features.crashyTextNodes=crashyTextNodes})();function inspectNode(node){if(!node){return"[No node]"}if(crashyTextNodes&&isBrokenNode(node)){return"[Broken node]"}if(isCharacterDataNode(node)){return'"'+node.data+'"'}if(node.nodeType==1){var idAttr=node.id?' id="'+node.id+'"':"";return"<"+node.nodeName+idAttr+">[index:"+getNodeIndex(node)+",length:"+node.childNodes.length+"]["+(node.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return node.nodeName}function fragmentFromNodeChildren(node){var fragment=getDocument(node).createDocumentFragment(),child;while(child=node.firstChild){fragment.appendChild(child)}return fragment}var getComputedStyleProperty;if(typeof window.getComputedStyle!=UNDEF){getComputedStyleProperty=function(el,propName){return getWindow(el).getComputedStyle(el,null)[propName]}}else if(typeof document.documentElement.currentStyle!=UNDEF){getComputedStyleProperty=function(el,propName){return el.currentStyle?el.currentStyle[propName]:""}}else{module.fail("No means of obtaining computed style properties found")}function createTestElement(doc,html,contentEditable){var body=getBody(doc);var el=doc.createElement("div");el.contentEditable=""+!!contentEditable;if(html){el.innerHTML=html}var bodyFirstChild=body.firstChild;if(bodyFirstChild){body.insertBefore(el,bodyFirstChild)}else{body.appendChild(el)}return el}function removeNode(node){return node.parentNode.removeChild(node)}function NodeIterator(root){this.root=root;this._next=root}NodeIterator.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var n=this._current=this._next;var child,next;if(this._current){child=n.firstChild;if(child){this._next=child}else{next=null;while(n!==this.root&&!(next=n.nextSibling)){n=n.parentNode}this._next=next}}return this._current},detach:function(){this._current=this._next=this.root=null}};function createIterator(root){return new NodeIterator(root)}function DomPosition(node,offset){this.node=node;this.offset=offset}DomPosition.prototype={equals:function(pos){return!!pos&&this.node===pos.node&&this.offset==pos.offset},inspect:function(){return"[DomPosition("+inspectNode(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}};function DOMException(codeName){this.code=this[codeName];this.codeName=codeName;this.message="DOMException: "+this.codeName}DOMException.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24};DOMException.prototype.toString=function(){return this.message};api.dom={arrayContains:arrayContains,isHtmlNamespace:isHtmlNamespace,parentElement:parentElement,getNodeIndex:getNodeIndex,getNodeLength:getNodeLength,getCommonAncestor:getCommonAncestor,isAncestorOf:isAncestorOf,isOrIsAncestorOf:isOrIsAncestorOf,getClosestAncestorIn:getClosestAncestorIn,isCharacterDataNode:isCharacterDataNode,isTextOrCommentNode:isTextOrCommentNode,insertAfter:insertAfter,splitDataNode:splitDataNode,getDocument:getDocument,getWindow:getWindow,getIframeWindow:getIframeWindow,getIframeDocument:getIframeDocument,getBody:getBody,isWindow:isWindow,getContentDocument:getContentDocument,getRootContainer:getRootContainer,comparePoints:comparePoints,isBrokenNode:isBrokenNode,inspectNode:inspectNode,getComputedStyleProperty:getComputedStyleProperty,createTestElement:createTestElement,removeNode:removeNode,fragmentFromNodeChildren:fragmentFromNodeChildren,createIterator:createIterator,DomPosition:DomPosition};api.DOMException=DOMException});api.createCoreModule("DomRange",["DomUtil"],function(api,module){var dom=api.dom;var util=api.util;var DomPosition=dom.DomPosition;var DOMException=api.DOMException;var isCharacterDataNode=dom.isCharacterDataNode;var getNodeIndex=dom.getNodeIndex;var isOrIsAncestorOf=dom.isOrIsAncestorOf;var getDocument=dom.getDocument;var comparePoints=dom.comparePoints;var splitDataNode=dom.splitDataNode;var getClosestAncestorIn=dom.getClosestAncestorIn;var getNodeLength=dom.getNodeLength;var arrayContains=dom.arrayContains;var getRootContainer=dom.getRootContainer;var crashyTextNodes=api.features.crashyTextNodes;var removeNode=dom.removeNode;function isNonTextPartiallySelected(node,range){return node.nodeType!=3&&(isOrIsAncestorOf(node,range.startContainer)||isOrIsAncestorOf(node,range.endContainer))}function getRangeDocument(range){return range.document||getDocument(range.startContainer)}function getRangeRoot(range){return getRootContainer(range.startContainer)}function getBoundaryBeforeNode(node){return new DomPosition(node.parentNode,getNodeIndex(node))}function getBoundaryAfterNode(node){return new DomPosition(node.parentNode,getNodeIndex(node)+1)}function insertNodeAtPosition(node,n,o){var firstNodeInserted=node.nodeType==11?node.firstChild:node;if(isCharacterDataNode(n)){if(o==n.length){dom.insertAfter(node,n)}else{n.parentNode.insertBefore(node,o==0?n:splitDataNode(n,o))}}else if(o>=n.childNodes.length){n.appendChild(node)}else{n.insertBefore(node,n.childNodes[o])}return firstNodeInserted}function rangesIntersect(rangeA,rangeB,touchingIsIntersecting){assertRangeValid(rangeA);assertRangeValid(rangeB);if(getRangeDocument(rangeB)!=getRangeDocument(rangeA)){throw new DOMException("WRONG_DOCUMENT_ERR")}var startComparison=comparePoints(rangeA.startContainer,rangeA.startOffset,rangeB.endContainer,rangeB.endOffset),endComparison=comparePoints(rangeA.endContainer,rangeA.endOffset,rangeB.startContainer,rangeB.startOffset);return touchingIsIntersecting?startComparison<=0&&endComparison>=0:startComparison<0&&endComparison>0}function cloneSubtree(iterator){var partiallySelected;for(var node,frag=getRangeDocument(iterator.range).createDocumentFragment(),subIterator;node=iterator.next();){partiallySelected=iterator.isPartiallySelectedSubtree();node=node.cloneNode(!partiallySelected);if(partiallySelected){subIterator=iterator.getSubtreeIterator();node.appendChild(cloneSubtree(subIterator));subIterator.detach()}if(node.nodeType==10){throw new DOMException("HIERARCHY_REQUEST_ERR")}frag.appendChild(node)}return frag}function iterateSubtree(rangeIterator,func,iteratorState){var it,n;iteratorState=iteratorState||{stop:false};for(var node,subRangeIterator;node=rangeIterator.next();){if(rangeIterator.isPartiallySelectedSubtree()){if(func(node)===false){iteratorState.stop=true;return}else{subRangeIterator=rangeIterator.getSubtreeIterator();iterateSubtree(subRangeIterator,func,iteratorState);subRangeIterator.detach();if(iteratorState.stop){return}}}else{it=dom.createIterator(node);while(n=it.next()){if(func(n)===false){iteratorState.stop=true;return}}}}}function deleteSubtree(iterator){var subIterator;while(iterator.next()){if(iterator.isPartiallySelectedSubtree()){subIterator=iterator.getSubtreeIterator();
deleteSubtree(subIterator);subIterator.detach()}else{iterator.remove()}}}function extractSubtree(iterator){for(var node,frag=getRangeDocument(iterator.range).createDocumentFragment(),subIterator;node=iterator.next();){if(iterator.isPartiallySelectedSubtree()){node=node.cloneNode(false);subIterator=iterator.getSubtreeIterator();node.appendChild(extractSubtree(subIterator));subIterator.detach()}else{iterator.remove()}if(node.nodeType==10){throw new DOMException("HIERARCHY_REQUEST_ERR")}frag.appendChild(node)}return frag}function getNodesInRange(range,nodeTypes,filter){var filterNodeTypes=!!(nodeTypes&&nodeTypes.length),regex;var filterExists=!!filter;if(filterNodeTypes){regex=new RegExp("^("+nodeTypes.join("|")+")$")}var nodes=[];iterateSubtree(new RangeIterator(range,false),function(node){if(filterNodeTypes&&!regex.test(node.nodeType)){return}if(filterExists&&!filter(node)){return}var sc=range.startContainer;if(node==sc&&isCharacterDataNode(sc)&&range.startOffset==sc.length){return}var ec=range.endContainer;if(node==ec&&isCharacterDataNode(ec)&&range.endOffset==0){return}nodes.push(node)});return nodes}function inspect(range){var name=typeof range.getName=="undefined"?"Range":range.getName();return"["+name+"("+dom.inspectNode(range.startContainer)+":"+range.startOffset+", "+dom.inspectNode(range.endContainer)+":"+range.endOffset+")]"}function RangeIterator(range,clonePartiallySelectedTextNodes){this.range=range;this.clonePartiallySelectedTextNodes=clonePartiallySelectedTextNodes;if(!range.collapsed){this.sc=range.startContainer;this.so=range.startOffset;this.ec=range.endContainer;this.eo=range.endOffset;var root=range.commonAncestorContainer;if(this.sc===this.ec&&isCharacterDataNode(this.sc)){this.isSingleCharacterDataNode=true;this._first=this._last=this._next=this.sc}else{this._first=this._next=this.sc===root&&!isCharacterDataNode(this.sc)?this.sc.childNodes[this.so]:getClosestAncestorIn(this.sc,root,true);this._last=this.ec===root&&!isCharacterDataNode(this.ec)?this.ec.childNodes[this.eo-1]:getClosestAncestorIn(this.ec,root,true)}}}RangeIterator.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:false,reset:function(){this._current=null;this._next=this._first},hasNext:function(){return!!this._next},next:function(){var current=this._current=this._next;if(current){this._next=current!==this._last?current.nextSibling:null;if(isCharacterDataNode(current)&&this.clonePartiallySelectedTextNodes){if(current===this.ec){(current=current.cloneNode(true)).deleteData(this.eo,current.length-this.eo)}if(this._current===this.sc){(current=current.cloneNode(true)).deleteData(0,this.so)}}}return current},remove:function(){var current=this._current,start,end;if(isCharacterDataNode(current)&&(current===this.sc||current===this.ec)){start=current===this.sc?this.so:0;end=current===this.ec?this.eo:current.length;if(start!=end){current.deleteData(start,end-start)}}else{if(current.parentNode){removeNode(current)}else{}}},isPartiallySelectedSubtree:function(){var current=this._current;return isNonTextPartiallySelected(current,this.range)},getSubtreeIterator:function(){var subRange;if(this.isSingleCharacterDataNode){subRange=this.range.cloneRange();subRange.collapse(false)}else{subRange=new Range(getRangeDocument(this.range));var current=this._current;var startContainer=current,startOffset=0,endContainer=current,endOffset=getNodeLength(current);if(isOrIsAncestorOf(current,this.sc)){startContainer=this.sc;startOffset=this.so}if(isOrIsAncestorOf(current,this.ec)){endContainer=this.ec;endOffset=this.eo}updateBoundaries(subRange,startContainer,startOffset,endContainer,endOffset)}return new RangeIterator(subRange,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var beforeAfterNodeTypes=[1,3,4,5,7,8,10];var rootContainerNodeTypes=[2,9,11];var readonlyNodeTypes=[5,6,10,12];var insertableNodeTypes=[1,3,4,5,7,8,10,11];var surroundNodeTypes=[1,3,4,5,7,8];function createAncestorFinder(nodeTypes){return function(node,selfIsAncestor){var t,n=selfIsAncestor?node:node.parentNode;while(n){t=n.nodeType;if(arrayContains(nodeTypes,t)){return n}n=n.parentNode}return null}}var getDocumentOrFragmentContainer=createAncestorFinder([9,11]);var getReadonlyAncestor=createAncestorFinder(readonlyNodeTypes);var getDocTypeNotationEntityAncestor=createAncestorFinder([6,10,12]);function assertNoDocTypeNotationEntityAncestor(node,allowSelf){if(getDocTypeNotationEntityAncestor(node,allowSelf)){throw new DOMException("INVALID_NODE_TYPE_ERR")}}function assertValidNodeType(node,invalidTypes){if(!arrayContains(invalidTypes,node.nodeType)){throw new DOMException("INVALID_NODE_TYPE_ERR")}}function assertValidOffset(node,offset){if(offset<0||offset>(isCharacterDataNode(node)?node.length:node.childNodes.length)){throw new DOMException("INDEX_SIZE_ERR")}}function assertSameDocumentOrFragment(node1,node2){if(getDocumentOrFragmentContainer(node1,true)!==getDocumentOrFragmentContainer(node2,true)){throw new DOMException("WRONG_DOCUMENT_ERR")}}function assertNodeNotReadOnly(node){if(getReadonlyAncestor(node,true)){throw new DOMException("NO_MODIFICATION_ALLOWED_ERR")}}function assertNode(node,codeName){if(!node){throw new DOMException(codeName)}}function isValidOffset(node,offset){return offset<=(isCharacterDataNode(node)?node.length:node.childNodes.length)}function isRangeValid(range){return!!range.startContainer&&!!range.endContainer&&!(crashyTextNodes&&(dom.isBrokenNode(range.startContainer)||dom.isBrokenNode(range.endContainer)))&&getRootContainer(range.startContainer)==getRootContainer(range.endContainer)&&isValidOffset(range.startContainer,range.startOffset)&&isValidOffset(range.endContainer,range.endOffset)}function assertRangeValid(range){if(!isRangeValid(range)){throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+range.inspect()+")")}}var styleEl=document.createElement("style");var htmlParsingConforms=false;try{styleEl.innerHTML="<b>x</b>";htmlParsingConforms=styleEl.firstChild.nodeType==3}catch(e){}api.features.htmlParsingConforms=htmlParsingConforms;var createContextualFragment=htmlParsingConforms?function(fragmentStr){var node=this.startContainer;var doc=getDocument(node);if(!node){throw new DOMException("INVALID_STATE_ERR")}var el=null;if(node.nodeType==1){el=node}else if(isCharacterDataNode(node)){el=dom.parentElement(node)}if(el===null||el.nodeName=="HTML"&&dom.isHtmlNamespace(getDocument(el).documentElement)&&dom.isHtmlNamespace(el)){el=doc.createElement("body")}else{el=el.cloneNode(false)}el.innerHTML=fragmentStr;return dom.fragmentFromNodeChildren(el)}:function(fragmentStr){var doc=getRangeDocument(this);var el=doc.createElement("body");el.innerHTML=fragmentStr;return dom.fragmentFromNodeChildren(el)};function splitRangeBoundaries(range,positionsToPreserve){assertRangeValid(range);var sc=range.startContainer,so=range.startOffset,ec=range.endContainer,eo=range.endOffset;var startEndSame=sc===ec;if(isCharacterDataNode(ec)&&eo>0&&eo<ec.length){splitDataNode(ec,eo,positionsToPreserve)}if(isCharacterDataNode(sc)&&so>0&&so<sc.length){sc=splitDataNode(sc,so,positionsToPreserve);if(startEndSame){eo-=so;ec=sc}else if(ec==sc.parentNode&&eo>=getNodeIndex(sc)){eo++}so=0}range.setStartAndEnd(sc,so,ec,eo)}function rangeToHtml(range){assertRangeValid(range);var container=range.commonAncestorContainer.parentNode.cloneNode(false);container.appendChild(range.cloneContents());return container.innerHTML}var rangeProperties=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"];var s2s=0,s2e=1,e2e=2,e2s=3;var n_b=0,n_a=1,n_b_a=2,n_i=3;util.extend(api.rangePrototype,{compareBoundaryPoints:function(how,range){assertRangeValid(this);assertSameDocumentOrFragment(this.startContainer,range.startContainer);var nodeA,offsetA,nodeB,offsetB;var prefixA=how==e2s||how==s2s?"start":"end";var prefixB=how==s2e||how==s2s?"start":"end";nodeA=this[prefixA+"Container"];offsetA=this[prefixA+"Offset"];nodeB=range[prefixB+"Container"];offsetB=range[prefixB+"Offset"];return comparePoints(nodeA,offsetA,nodeB,offsetB)},insertNode:function(node){assertRangeValid(this);assertValidNodeType(node,insertableNodeTypes);assertNodeNotReadOnly(this.startContainer);if(isOrIsAncestorOf(node,this.startContainer)){throw new DOMException("HIERARCHY_REQUEST_ERR")}var firstNodeInserted=insertNodeAtPosition(node,this.startContainer,this.startOffset);this.setStartBefore(firstNodeInserted)},cloneContents:function(){assertRangeValid(this);var clone,frag;if(this.collapsed){return getRangeDocument(this).createDocumentFragment()}else{if(this.startContainer===this.endContainer&&isCharacterDataNode(this.startContainer)){clone=this.startContainer.cloneNode(true);clone.data=clone.data.slice(this.startOffset,this.endOffset);frag=getRangeDocument(this).createDocumentFragment();frag.appendChild(clone);return frag}else{var iterator=new RangeIterator(this,true);clone=cloneSubtree(iterator);iterator.detach()}return clone}},canSurroundContents:function(){assertRangeValid(this);assertNodeNotReadOnly(this.startContainer);assertNodeNotReadOnly(this.endContainer);var iterator=new RangeIterator(this,true);var boundariesInvalid=iterator._first&&isNonTextPartiallySelected(iterator._first,this)||iterator._last&&isNonTextPartiallySelected(iterator._last,this);iterator.detach();return!boundariesInvalid},surroundContents:function(node){assertValidNodeType(node,surroundNodeTypes);if(!this.canSurroundContents()){throw new DOMException("INVALID_STATE_ERR")}var content=this.extractContents();if(node.hasChildNodes()){while(node.lastChild){node.removeChild(node.lastChild)}}insertNodeAtPosition(node,this.startContainer,this.startOffset);node.appendChild(content);this.selectNode(node)},cloneRange:function(){assertRangeValid(this);var range=new Range(getRangeDocument(this));var i=rangeProperties.length,prop;while(i--){prop=rangeProperties[i];range[prop]=this[prop]}return range},toString:function(){assertRangeValid(this);var sc=this.startContainer;if(sc===this.endContainer&&isCharacterDataNode(sc)){return sc.nodeType==3||sc.nodeType==4?sc.data.slice(this.startOffset,this.endOffset):""}else{var textParts=[],iterator=new RangeIterator(this,true);iterateSubtree(iterator,function(node){if(node.nodeType==3||node.nodeType==4){textParts.push(node.data)}});iterator.detach();return textParts.join("")}},compareNode:function(node){assertRangeValid(this);var parent=node.parentNode;var nodeIndex=getNodeIndex(node);if(!parent){throw new DOMException("NOT_FOUND_ERR")}var startComparison=this.comparePoint(parent,nodeIndex),endComparison=this.comparePoint(parent,nodeIndex+1);if(startComparison<0){return endComparison>0?n_b_a:n_b}else{return endComparison>0?n_a:n_i}},comparePoint:function(node,offset){assertRangeValid(this);assertNode(node,"HIERARCHY_REQUEST_ERR");assertSameDocumentOrFragment(node,this.startContainer);if(comparePoints(node,offset,this.startContainer,this.startOffset)<0){return-1}else if(comparePoints(node,offset,this.endContainer,this.endOffset)>0){return 1}return 0},createContextualFragment:createContextualFragment,toHtml:function(){return rangeToHtml(this)},intersectsNode:function(node,touchingIsIntersecting){assertRangeValid(this);if(getRootContainer(node)!=getRangeRoot(this)){return false}var parent=node.parentNode,offset=getNodeIndex(node);if(!parent){return true}var startComparison=comparePoints(parent,offset,this.endContainer,this.endOffset),endComparison=comparePoints(parent,offset+1,this.startContainer,this.startOffset);return touchingIsIntersecting?startComparison<=0&&endComparison>=0:startComparison<0&&endComparison>0},isPointInRange:function(node,offset){assertRangeValid(this);assertNode(node,"HIERARCHY_REQUEST_ERR");assertSameDocumentOrFragment(node,this.startContainer);return comparePoints(node,offset,this.startContainer,this.startOffset)>=0&&comparePoints(node,offset,this.endContainer,this.endOffset)<=0},intersectsRange:function(range){return rangesIntersect(this,range,false)},intersectsOrTouchesRange:function(range){return rangesIntersect(this,range,true)},intersection:function(range){if(this.intersectsRange(range)){var startComparison=comparePoints(this.startContainer,this.startOffset,range.startContainer,range.startOffset),endComparison=comparePoints(this.endContainer,this.endOffset,range.endContainer,range.endOffset);var intersectionRange=this.cloneRange();if(startComparison==-1){intersectionRange.setStart(range.startContainer,range.startOffset)}if(endComparison==1){intersectionRange.setEnd(range.endContainer,range.endOffset)}return intersectionRange}return null},union:function(range){if(this.intersectsOrTouchesRange(range)){var unionRange=this.cloneRange();if(comparePoints(range.startContainer,range.startOffset,this.startContainer,this.startOffset)==-1){unionRange.setStart(range.startContainer,range.startOffset)}if(comparePoints(range.endContainer,range.endOffset,this.endContainer,this.endOffset)==1){unionRange.setEnd(range.endContainer,range.endOffset)}return unionRange}else{throw new DOMException("Ranges do not intersect")}},containsNode:function(node,allowPartial){if(allowPartial){return this.intersectsNode(node,false)}else{return this.compareNode(node)==n_i}},containsNodeContents:function(node){return this.comparePoint(node,0)>=0&&this.comparePoint(node,getNodeLength(node))<=0},containsRange:function(range){var intersection=this.intersection(range);return intersection!==null&&range.equals(intersection)},containsNodeText:function(node){var nodeRange=this.cloneRange();nodeRange.selectNode(node);var textNodes=nodeRange.getNodes([3]);if(textNodes.length>0){nodeRange.setStart(textNodes[0],0);var lastTextNode=textNodes.pop();nodeRange.setEnd(lastTextNode,lastTextNode.length);return this.containsRange(nodeRange)}else{return this.containsNodeContents(node)}},getNodes:function(nodeTypes,filter){assertRangeValid(this);return getNodesInRange(this,nodeTypes,filter)},getDocument:function(){return getRangeDocument(this)},collapseBefore:function(node){this.setEndBefore(node);this.collapse(false)},collapseAfter:function(node){this.setStartAfter(node);this.collapse(true)},getBookmark:function(containerNode){var doc=getRangeDocument(this);var preSelectionRange=api.createRange(doc);containerNode=containerNode||dom.getBody(doc);preSelectionRange.selectNodeContents(containerNode);var range=this.intersection(preSelectionRange);var start=0,end=0;if(range){preSelectionRange.setEnd(range.startContainer,range.startOffset);start=preSelectionRange.toString().length;end=start+range.toString().length}return{start:start,end:end,containerNode:containerNode}},moveToBookmark:function(bookmark){var containerNode=bookmark.containerNode;var charIndex=0;this.setStart(containerNode,0);this.collapse(true);var nodeStack=[containerNode],node,foundStart=false,stop=false;var nextCharIndex,i,childNodes;while(!stop&&(node=nodeStack.pop())){if(node.nodeType==3){nextCharIndex=charIndex+node.length;if(!foundStart&&bookmark.start>=charIndex&&bookmark.start<=nextCharIndex){this.setStart(node,bookmark.start-charIndex);foundStart=true}if(foundStart&&bookmark.end>=charIndex&&bookmark.end<=nextCharIndex){this.setEnd(node,bookmark.end-charIndex);stop=true}charIndex=nextCharIndex}else{childNodes=node.childNodes;i=childNodes.length;while(i--){nodeStack.push(childNodes[i])}}}},getName:function(){return"DomRange"},equals:function(range){return Range.rangesEqual(this,range)},isValid:function(){return isRangeValid(this)},inspect:function(){return inspect(this)},detach:function(){}});function copyComparisonConstantsToObject(obj){obj.START_TO_START=s2s;obj.START_TO_END=s2e;obj.END_TO_END=e2e;obj.END_TO_START=e2s;obj.NODE_BEFORE=n_b;obj.NODE_AFTER=n_a;obj.NODE_BEFORE_AND_AFTER=n_b_a;obj.NODE_INSIDE=n_i}function copyComparisonConstants(constructor){copyComparisonConstantsToObject(constructor);copyComparisonConstantsToObject(constructor.prototype)}function createRangeContentRemover(remover,boundaryUpdater){return function(){assertRangeValid(this);var sc=this.startContainer,so=this.startOffset,root=this.commonAncestorContainer;var iterator=new RangeIterator(this,true);var node,boundary;if(sc!==root){node=getClosestAncestorIn(sc,root,true);boundary=getBoundaryAfterNode(node);sc=boundary.node;so=boundary.offset}iterateSubtree(iterator,assertNodeNotReadOnly);iterator.reset();var returnValue=remover(iterator);iterator.detach();boundaryUpdater(this,sc,so,sc,so);return returnValue}}function createPrototypeRange(constructor,boundaryUpdater){function createBeforeAfterNodeSetter(isBefore,isStart){return function(node){assertValidNodeType(node,beforeAfterNodeTypes);assertValidNodeType(getRootContainer(node),rootContainerNodeTypes);var boundary=(isBefore?getBoundaryBeforeNode:getBoundaryAfterNode)(node);(isStart?setRangeStart:setRangeEnd)(this,boundary.node,boundary.offset)}}function setRangeStart(range,node,offset){var ec=range.endContainer,eo=range.endOffset;if(node!==range.startContainer||offset!==range.startOffset){if(getRootContainer(node)!=getRootContainer(ec)||comparePoints(node,offset,ec,eo)==1){ec=node;eo=offset}boundaryUpdater(range,node,offset,ec,eo)}}function setRangeEnd(range,node,offset){var sc=range.startContainer,so=range.startOffset;if(node!==range.endContainer||offset!==range.endOffset){if(getRootContainer(node)!=getRootContainer(sc)||comparePoints(node,offset,sc,so)==-1){sc=node;so=offset}boundaryUpdater(range,sc,so,node,offset)}}var F=function(){};F.prototype=api.rangePrototype;constructor.prototype=new F;util.extend(constructor.prototype,{setStart:function(node,offset){assertNoDocTypeNotationEntityAncestor(node,true);assertValidOffset(node,offset);setRangeStart(this,node,offset)},setEnd:function(node,offset){assertNoDocTypeNotationEntityAncestor(node,true);assertValidOffset(node,offset);setRangeEnd(this,node,offset)},setStartAndEnd:function(){var args=arguments;var sc=args[0],so=args[1],ec=sc,eo=so;switch(args.length){case 3:eo=args[2];break;case 4:ec=args[2];eo=args[3];break}boundaryUpdater(this,sc,so,ec,eo)},setBoundary:function(node,offset,isStart){this["set"+(isStart?"Start":"End")](node,offset)},setStartBefore:createBeforeAfterNodeSetter(true,true),setStartAfter:createBeforeAfterNodeSetter(false,true),setEndBefore:createBeforeAfterNodeSetter(true,false),setEndAfter:createBeforeAfterNodeSetter(false,false),collapse:function(isStart){assertRangeValid(this);if(isStart){boundaryUpdater(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset)}else{boundaryUpdater(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)}},selectNodeContents:function(node){assertNoDocTypeNotationEntityAncestor(node,true);boundaryUpdater(this,node,0,node,getNodeLength(node))},selectNode:function(node){assertNoDocTypeNotationEntityAncestor(node,false);assertValidNodeType(node,beforeAfterNodeTypes);var start=getBoundaryBeforeNode(node),end=getBoundaryAfterNode(node);boundaryUpdater(this,start.node,start.offset,end.node,end.offset)},extractContents:createRangeContentRemover(extractSubtree,boundaryUpdater),deleteContents:createRangeContentRemover(deleteSubtree,boundaryUpdater),canSurroundContents:function(){assertRangeValid(this);assertNodeNotReadOnly(this.startContainer);assertNodeNotReadOnly(this.endContainer);var iterator=new RangeIterator(this,true);var boundariesInvalid=iterator._first&&isNonTextPartiallySelected(iterator._first,this)||iterator._last&&isNonTextPartiallySelected(iterator._last,this);iterator.detach();return!boundariesInvalid},splitBoundaries:function(){splitRangeBoundaries(this)},splitBoundariesPreservingPositions:function(positionsToPreserve){splitRangeBoundaries(this,positionsToPreserve)},normalizeBoundaries:function(){assertRangeValid(this);var sc=this.startContainer,so=this.startOffset,ec=this.endContainer,eo=this.endOffset;var mergeForward=function(node){var sibling=node.nextSibling;if(sibling&&sibling.nodeType==node.nodeType){ec=node;eo=node.length;node.appendData(sibling.data);removeNode(sibling)}};var mergeBackward=function(node){var sibling=node.previousSibling;if(sibling&&sibling.nodeType==node.nodeType){sc=node;var nodeLength=node.length;so=sibling.length;node.insertData(0,sibling.data);removeNode(sibling);if(sc==ec){eo+=so;ec=sc}else if(ec==node.parentNode){var nodeIndex=getNodeIndex(node);if(eo==nodeIndex){ec=node;eo=nodeLength}else if(eo>nodeIndex){eo--}}}};var normalizeStart=true;var sibling;if(isCharacterDataNode(ec)){if(eo==ec.length){mergeForward(ec)}else if(eo==0){sibling=ec.previousSibling;if(sibling&&sibling.nodeType==ec.nodeType){eo=sibling.length;if(sc==ec){normalizeStart=false}sibling.appendData(ec.data);removeNode(ec);ec=sibling}}}else{if(eo>0){var endNode=ec.childNodes[eo-1];if(endNode&&isCharacterDataNode(endNode)){mergeForward(endNode)}}normalizeStart=!this.collapsed}if(normalizeStart){if(isCharacterDataNode(sc)){if(so==0){mergeBackward(sc)}else if(so==sc.length){sibling=sc.nextSibling;if(sibling&&sibling.nodeType==sc.nodeType){if(ec==sibling){ec=sc;eo+=sc.length}sc.appendData(sibling.data);removeNode(sibling)}}}else{if(so<sc.childNodes.length){var startNode=sc.childNodes[so];if(startNode&&isCharacterDataNode(startNode)){mergeBackward(startNode)}}}}else{sc=ec;so=eo}boundaryUpdater(this,sc,so,ec,eo)},collapseToPoint:function(node,offset){assertNoDocTypeNotationEntityAncestor(node,true);assertValidOffset(node,offset);this.setStartAndEnd(node,offset)}});copyComparisonConstants(constructor)}function updateCollapsedAndCommonAncestor(range){range.collapsed=range.startContainer===range.endContainer&&range.startOffset===range.endOffset;range.commonAncestorContainer=range.collapsed?range.startContainer:dom.getCommonAncestor(range.startContainer,range.endContainer)}function updateBoundaries(range,startContainer,startOffset,endContainer,endOffset){range.startContainer=startContainer;range.startOffset=startOffset;range.endContainer=endContainer;range.endOffset=endOffset;range.document=dom.getDocument(startContainer);updateCollapsedAndCommonAncestor(range)}function Range(doc){this.startContainer=doc;this.startOffset=0;this.endContainer=doc;this.endOffset=0;this.document=doc;updateCollapsedAndCommonAncestor(this)}createPrototypeRange(Range,updateBoundaries);util.extend(Range,{rangeProperties:rangeProperties,RangeIterator:RangeIterator,copyComparisonConstants:copyComparisonConstants,createPrototypeRange:createPrototypeRange,inspect:inspect,toHtml:rangeToHtml,getRangeDocument:getRangeDocument,rangesEqual:function(r1,r2){return r1.startContainer===r2.startContainer&&r1.startOffset===r2.startOffset&&r1.endContainer===r2.endContainer&&r1.endOffset===r2.endOffset}});api.DomRange=Range});api.createCoreModule("WrappedRange",["DomRange"],function(api,module){var WrappedRange,WrappedTextRange;var dom=api.dom;var util=api.util;var DomPosition=dom.DomPosition;var DomRange=api.DomRange;var getBody=dom.getBody;var getContentDocument=dom.getContentDocument;var isCharacterDataNode=dom.isCharacterDataNode;if(api.features.implementsDomRange){(function(){var rangeProto;var rangeProperties=DomRange.rangeProperties;function updateRangeProperties(range){var i=rangeProperties.length,prop;while(i--){prop=rangeProperties[i];range[prop]=range.nativeRange[prop]}range.collapsed=range.startContainer===range.endContainer&&range.startOffset===range.endOffset}function updateNativeRange(range,startContainer,startOffset,endContainer,endOffset){var startMoved=range.startContainer!==startContainer||range.startOffset!=startOffset;var endMoved=range.endContainer!==endContainer||range.endOffset!=endOffset;var nativeRangeDifferent=!range.equals(range.nativeRange);if(startMoved||endMoved||nativeRangeDifferent){range.setEnd(endContainer,endOffset);range.setStart(startContainer,startOffset)}}var createBeforeAfterNodeSetter;WrappedRange=function(range){if(!range){throw module.createError("WrappedRange: Range must be specified")}this.nativeRange=range;updateRangeProperties(this)};DomRange.createPrototypeRange(WrappedRange,updateNativeRange);rangeProto=WrappedRange.prototype;rangeProto.selectNode=function(node){this.nativeRange.selectNode(node);updateRangeProperties(this)};rangeProto.cloneContents=function(){return this.nativeRange.cloneContents()};rangeProto.surroundContents=function(node){this.nativeRange.surroundContents(node);updateRangeProperties(this)};rangeProto.collapse=function(isStart){this.nativeRange.collapse(isStart);updateRangeProperties(this)};rangeProto.cloneRange=function(){return new WrappedRange(this.nativeRange.cloneRange())};rangeProto.refresh=function(){updateRangeProperties(this)};rangeProto.toString=function(){return this.nativeRange.toString()};var testTextNode=document.createTextNode("test");getBody(document).appendChild(testTextNode);var range=document.createRange();range.setStart(testTextNode,0);range.setEnd(testTextNode,0);try{range.setStart(testTextNode,1);rangeProto.setStart=function(node,offset){this.nativeRange.setStart(node,offset);updateRangeProperties(this)};rangeProto.setEnd=function(node,offset){this.nativeRange.setEnd(node,offset);updateRangeProperties(this)};createBeforeAfterNodeSetter=function(name){return function(node){this.nativeRange[name](node);updateRangeProperties(this)}}}catch(ex){rangeProto.setStart=function(node,offset){try{this.nativeRange.setStart(node,offset)}catch(ex){this.nativeRange.setEnd(node,offset);this.nativeRange.setStart(node,offset)}updateRangeProperties(this)};rangeProto.setEnd=function(node,offset){try{this.nativeRange.setEnd(node,offset)}catch(ex){this.nativeRange.setStart(node,offset);this.nativeRange.setEnd(node,offset)}updateRangeProperties(this)};createBeforeAfterNodeSetter=function(name,oppositeName){return function(node){try{this.nativeRange[name](node)}catch(ex){this.nativeRange[oppositeName](node);this.nativeRange[name](node)}updateRangeProperties(this)}}}rangeProto.setStartBefore=createBeforeAfterNodeSetter("setStartBefore","setEndBefore");rangeProto.setStartAfter=createBeforeAfterNodeSetter("setStartAfter","setEndAfter");rangeProto.setEndBefore=createBeforeAfterNodeSetter("setEndBefore","setStartBefore");rangeProto.setEndAfter=createBeforeAfterNodeSetter("setEndAfter","setStartAfter");rangeProto.selectNodeContents=function(node){this.setStartAndEnd(node,0,dom.getNodeLength(node))};range.selectNodeContents(testTextNode);range.setEnd(testTextNode,3);var range2=document.createRange();range2.selectNodeContents(testTextNode);range2.setEnd(testTextNode,4);range2.setStart(testTextNode,2);if(range.compareBoundaryPoints(range.START_TO_END,range2)==-1&&range.compareBoundaryPoints(range.END_TO_START,range2)==1){rangeProto.compareBoundaryPoints=function(type,range){range=range.nativeRange||range;if(type==range.START_TO_END){type=range.END_TO_START}else if(type==range.END_TO_START){type=range.START_TO_END}return this.nativeRange.compareBoundaryPoints(type,range)}}else{rangeProto.compareBoundaryPoints=function(type,range){return this.nativeRange.compareBoundaryPoints(type,range.nativeRange||range)}}var el=document.createElement("div");el.innerHTML="123";var textNode=el.firstChild;var body=getBody(document);body.appendChild(el);range.setStart(textNode,1);range.setEnd(textNode,2);range.deleteContents();if(textNode.data=="13"){rangeProto.deleteContents=function(){this.nativeRange.deleteContents();updateRangeProperties(this)};rangeProto.extractContents=function(){var frag=this.nativeRange.extractContents();updateRangeProperties(this);return frag}}else{}body.removeChild(el);body=null;if(util.isHostMethod(range,"createContextualFragment")){rangeProto.createContextualFragment=function(fragmentStr){return this.nativeRange.createContextualFragment(fragmentStr)}}getBody(document).removeChild(testTextNode);rangeProto.getName=function(){return"WrappedRange"};api.WrappedRange=WrappedRange;api.createNativeRange=function(doc){doc=getContentDocument(doc,module,"createNativeRange");return doc.createRange()}})()}if(api.features.implementsTextRange){var getTextRangeContainerElement=function(textRange){var parentEl=textRange.parentElement();var range=textRange.duplicate();range.collapse(true);var startEl=range.parentElement();range=textRange.duplicate();range.collapse(false);var endEl=range.parentElement();var startEndContainer=startEl==endEl?startEl:dom.getCommonAncestor(startEl,endEl);return startEndContainer==parentEl?startEndContainer:dom.getCommonAncestor(parentEl,startEndContainer)};var textRangeIsCollapsed=function(textRange){return textRange.compareEndPoints("StartToEnd",textRange)==0};var getTextRangeBoundaryPosition=function(textRange,wholeRangeContainerElement,isStart,isCollapsed,startInfo){var workingRange=textRange.duplicate();workingRange.collapse(isStart);var containerElement=workingRange.parentElement();if(!dom.isOrIsAncestorOf(wholeRangeContainerElement,containerElement)){containerElement=wholeRangeContainerElement}if(!containerElement.canHaveHTML){var pos=new DomPosition(containerElement.parentNode,dom.getNodeIndex(containerElement));return{boundaryPosition:pos,nodeInfo:{nodeIndex:pos.offset,containerElement:pos.node}}}var workingNode=dom.getDocument(containerElement).createElement("span");if(workingNode.parentNode){dom.removeNode(workingNode)}var comparison,workingComparisonType=isStart?"StartToStart":"StartToEnd";var previousNode,nextNode,boundaryPosition,boundaryNode;var start=startInfo&&startInfo.containerElement==containerElement?startInfo.nodeIndex:0;var childNodeCount=containerElement.childNodes.length;var end=childNodeCount;var nodeIndex=end;while(true){if(nodeIndex==childNodeCount){containerElement.appendChild(workingNode)}else{containerElement.insertBefore(workingNode,containerElement.childNodes[nodeIndex])}workingRange.moveToElementText(workingNode);comparison=workingRange.compareEndPoints(workingComparisonType,textRange);if(comparison==0||start==end){break}else if(comparison==-1){if(end==start+1){break}else{start=nodeIndex}}else{end=end==start+1?start:nodeIndex}nodeIndex=Math.floor((start+end)/2);containerElement.removeChild(workingNode)}boundaryNode=workingNode.nextSibling;if(comparison==-1&&boundaryNode&&isCharacterDataNode(boundaryNode)){workingRange.setEndPoint(isStart?"EndToStart":"EndToEnd",textRange);var offset;if(/[\r\n]/.test(boundaryNode.data)){var tempRange=workingRange.duplicate();var rangeLength=tempRange.text.replace(/\r\n/g,"\r").length;offset=tempRange.moveStart("character",rangeLength);while((comparison=tempRange.compareEndPoints("StartToEnd",tempRange))==-1){offset++;tempRange.moveStart("character",1)}}else{offset=workingRange.text.length}boundaryPosition=new DomPosition(boundaryNode,offset)}else{previousNode=(isCollapsed||!isStart)&&workingNode.previousSibling;nextNode=(isCollapsed||isStart)&&workingNode.nextSibling;if(nextNode&&isCharacterDataNode(nextNode)){boundaryPosition=new DomPosition(nextNode,0)}else if(previousNode&&isCharacterDataNode(previousNode)){boundaryPosition=new DomPosition(previousNode,previousNode.data.length)}else{boundaryPosition=new DomPosition(containerElement,dom.getNodeIndex(workingNode))}}dom.removeNode(workingNode);return{boundaryPosition:boundaryPosition,nodeInfo:{nodeIndex:nodeIndex,containerElement:containerElement}}};var createBoundaryTextRange=function(boundaryPosition,isStart){var boundaryNode,boundaryParent,boundaryOffset=boundaryPosition.offset;var doc=dom.getDocument(boundaryPosition.node);var workingNode,childNodes,workingRange=getBody(doc).createTextRange();var nodeIsDataNode=isCharacterDataNode(boundaryPosition.node);if(nodeIsDataNode){boundaryNode=boundaryPosition.node;boundaryParent=boundaryNode.parentNode}else{childNodes=boundaryPosition.node.childNodes;boundaryNode=boundaryOffset<childNodes.length?childNodes[boundaryOffset]:null;boundaryParent=boundaryPosition.node}workingNode=doc.createElement("span");workingNode.innerHTML="&#feff;";if(boundaryNode){boundaryParent.insertBefore(workingNode,boundaryNode)}else{boundaryParent.appendChild(workingNode)}workingRange.moveToElementText(workingNode);workingRange.collapse(!isStart);
boundaryParent.removeChild(workingNode);if(nodeIsDataNode){workingRange[isStart?"moveStart":"moveEnd"]("character",boundaryOffset)}return workingRange};WrappedTextRange=function(textRange){this.textRange=textRange;this.refresh()};WrappedTextRange.prototype=new DomRange(document);WrappedTextRange.prototype.refresh=function(){var start,end,startBoundary;var rangeContainerElement=getTextRangeContainerElement(this.textRange);if(textRangeIsCollapsed(this.textRange)){end=start=getTextRangeBoundaryPosition(this.textRange,rangeContainerElement,true,true).boundaryPosition}else{startBoundary=getTextRangeBoundaryPosition(this.textRange,rangeContainerElement,true,false);start=startBoundary.boundaryPosition;end=getTextRangeBoundaryPosition(this.textRange,rangeContainerElement,false,false,startBoundary.nodeInfo).boundaryPosition}this.setStart(start.node,start.offset);this.setEnd(end.node,end.offset)};WrappedTextRange.prototype.getName=function(){return"WrappedTextRange"};DomRange.copyComparisonConstants(WrappedTextRange);var rangeToTextRange=function(range){if(range.collapsed){return createBoundaryTextRange(new DomPosition(range.startContainer,range.startOffset),true)}else{var startRange=createBoundaryTextRange(new DomPosition(range.startContainer,range.startOffset),true);var endRange=createBoundaryTextRange(new DomPosition(range.endContainer,range.endOffset),false);var textRange=getBody(DomRange.getRangeDocument(range)).createTextRange();textRange.setEndPoint("StartToStart",startRange);textRange.setEndPoint("EndToEnd",endRange);return textRange}};WrappedTextRange.rangeToTextRange=rangeToTextRange;WrappedTextRange.prototype.toTextRange=function(){return rangeToTextRange(this)};api.WrappedTextRange=WrappedTextRange;if(!api.features.implementsDomRange||api.config.preferTextRange){var globalObj=function(f){return f("return this;")()}(Function);if(typeof globalObj.Range=="undefined"){globalObj.Range=WrappedTextRange}api.createNativeRange=function(doc){doc=getContentDocument(doc,module,"createNativeRange");return getBody(doc).createTextRange()};api.WrappedRange=WrappedTextRange}}api.createRange=function(doc){doc=getContentDocument(doc,module,"createRange");return new api.WrappedRange(api.createNativeRange(doc))};api.createRangyRange=function(doc){doc=getContentDocument(doc,module,"createRangyRange");return new DomRange(doc)};util.createAliasForDeprecatedMethod(api,"createIframeRange","createRange");util.createAliasForDeprecatedMethod(api,"createIframeRangyRange","createRangyRange");api.addShimListener(function(win){var doc=win.document;if(typeof doc.createRange=="undefined"){doc.createRange=function(){return api.createRange(doc)}}doc=win=null})});api.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(api,module){api.config.checkSelectionRanges=true;var BOOLEAN="boolean";var NUMBER="number";var dom=api.dom;var util=api.util;var isHostMethod=util.isHostMethod;var DomRange=api.DomRange;var WrappedRange=api.WrappedRange;var DOMException=api.DOMException;var DomPosition=dom.DomPosition;var getNativeSelection;var selectionIsCollapsed;var features=api.features;var CONTROL="Control";var getDocument=dom.getDocument;var getBody=dom.getBody;var rangesEqual=DomRange.rangesEqual;function isDirectionBackward(dir){return typeof dir=="string"?/^backward(s)?$/i.test(dir):!!dir}function getWindow(win,methodName){if(!win){return window}else if(dom.isWindow(win)){return win}else if(win instanceof WrappedSelection){return win.win}else{var doc=dom.getContentDocument(win,module,methodName);return dom.getWindow(doc)}}function getWinSelection(winParam){return getWindow(winParam,"getWinSelection").getSelection()}function getDocSelection(winParam){return getWindow(winParam,"getDocSelection").document.selection}function winSelectionIsBackward(sel){var backward=false;if(sel.anchorNode){backward=dom.comparePoints(sel.anchorNode,sel.anchorOffset,sel.focusNode,sel.focusOffset)==1}return backward}var implementsWinGetSelection=isHostMethod(window,"getSelection"),implementsDocSelection=util.isHostObject(document,"selection");features.implementsWinGetSelection=implementsWinGetSelection;features.implementsDocSelection=implementsDocSelection;var useDocumentSelection=implementsDocSelection&&(!implementsWinGetSelection||api.config.preferTextRange);if(useDocumentSelection){getNativeSelection=getDocSelection;api.isSelectionValid=function(winParam){var doc=getWindow(winParam,"isSelectionValid").document,nativeSel=doc.selection;return nativeSel.type!="None"||getDocument(nativeSel.createRange().parentElement())==doc}}else if(implementsWinGetSelection){getNativeSelection=getWinSelection;api.isSelectionValid=function(){return true}}else{module.fail("Neither document.selection or window.getSelection() detected.");return false}api.getNativeSelection=getNativeSelection;var testSelection=getNativeSelection();if(!testSelection){module.fail("Native selection was null (possibly issue 138?)");return false}var testRange=api.createNativeRange(document);var body=getBody(document);var selectionHasAnchorAndFocus=util.areHostProperties(testSelection,["anchorNode","focusNode","anchorOffset","focusOffset"]);features.selectionHasAnchorAndFocus=selectionHasAnchorAndFocus;var selectionHasExtend=isHostMethod(testSelection,"extend");features.selectionHasExtend=selectionHasExtend;var selectionHasRangeCount=typeof testSelection.rangeCount==NUMBER;features.selectionHasRangeCount=selectionHasRangeCount;var selectionSupportsMultipleRanges=false;var collapsedNonEditableSelectionsSupported=true;var addRangeBackwardToNative=selectionHasExtend?function(nativeSelection,range){var doc=DomRange.getRangeDocument(range);var endRange=api.createRange(doc);endRange.collapseToPoint(range.endContainer,range.endOffset);nativeSelection.addRange(getNativeRange(endRange));nativeSelection.extend(range.startContainer,range.startOffset)}:null;if(util.areHostMethods(testSelection,["addRange","getRangeAt","removeAllRanges"])&&typeof testSelection.rangeCount==NUMBER&&features.implementsDomRange){(function(){var sel=window.getSelection();if(sel){var originalSelectionRangeCount=sel.rangeCount;var selectionHasMultipleRanges=originalSelectionRangeCount>1;var originalSelectionRanges=[];var originalSelectionBackward=winSelectionIsBackward(sel);for(var i=0;i<originalSelectionRangeCount;++i){originalSelectionRanges[i]=sel.getRangeAt(i)}var testEl=dom.createTestElement(document,"",false);var textNode=testEl.appendChild(document.createTextNode("   "));var r1=document.createRange();r1.setStart(textNode,1);r1.collapse(true);sel.removeAllRanges();sel.addRange(r1);collapsedNonEditableSelectionsSupported=sel.rangeCount==1;sel.removeAllRanges();if(!selectionHasMultipleRanges){var chromeMatch=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(chromeMatch&&parseInt(chromeMatch[1])>=36){selectionSupportsMultipleRanges=false}else{var r2=r1.cloneRange();r1.setStart(textNode,0);r2.setEnd(textNode,3);r2.setStart(textNode,2);sel.addRange(r1);sel.addRange(r2);selectionSupportsMultipleRanges=sel.rangeCount==2}}dom.removeNode(testEl);sel.removeAllRanges();for(i=0;i<originalSelectionRangeCount;++i){if(i==0&&originalSelectionBackward){if(addRangeBackwardToNative){addRangeBackwardToNative(sel,originalSelectionRanges[i])}else{api.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend");sel.addRange(originalSelectionRanges[i])}}else{sel.addRange(originalSelectionRanges[i])}}}})()}features.selectionSupportsMultipleRanges=selectionSupportsMultipleRanges;features.collapsedNonEditableSelectionsSupported=collapsedNonEditableSelectionsSupported;var implementsControlRange=false,testControlRange;if(body&&isHostMethod(body,"createControlRange")){testControlRange=body.createControlRange();if(util.areHostProperties(testControlRange,["item","add"])){implementsControlRange=true}}features.implementsControlRange=implementsControlRange;if(selectionHasAnchorAndFocus){selectionIsCollapsed=function(sel){return sel.anchorNode===sel.focusNode&&sel.anchorOffset===sel.focusOffset}}else{selectionIsCollapsed=function(sel){return sel.rangeCount?sel.getRangeAt(sel.rangeCount-1).collapsed:false}}function updateAnchorAndFocusFromRange(sel,range,backward){var anchorPrefix=backward?"end":"start",focusPrefix=backward?"start":"end";sel.anchorNode=range[anchorPrefix+"Container"];sel.anchorOffset=range[anchorPrefix+"Offset"];sel.focusNode=range[focusPrefix+"Container"];sel.focusOffset=range[focusPrefix+"Offset"]}function updateAnchorAndFocusFromNativeSelection(sel){var nativeSel=sel.nativeSelection;sel.anchorNode=nativeSel.anchorNode;sel.anchorOffset=nativeSel.anchorOffset;sel.focusNode=nativeSel.focusNode;sel.focusOffset=nativeSel.focusOffset}function updateEmptySelection(sel){sel.anchorNode=sel.focusNode=null;sel.anchorOffset=sel.focusOffset=0;sel.rangeCount=0;sel.isCollapsed=true;sel._ranges.length=0}function getNativeRange(range){var nativeRange;if(range instanceof DomRange){nativeRange=api.createNativeRange(range.getDocument());nativeRange.setEnd(range.endContainer,range.endOffset);nativeRange.setStart(range.startContainer,range.startOffset)}else if(range instanceof WrappedRange){nativeRange=range.nativeRange}else if(features.implementsDomRange&&range instanceof dom.getWindow(range.startContainer).Range){nativeRange=range}return nativeRange}function rangeContainsSingleElement(rangeNodes){if(!rangeNodes.length||rangeNodes[0].nodeType!=1){return false}for(var i=1,len=rangeNodes.length;i<len;++i){if(!dom.isAncestorOf(rangeNodes[0],rangeNodes[i])){return false}}return true}function getSingleElementFromRange(range){var nodes=range.getNodes();if(!rangeContainsSingleElement(nodes)){throw module.createError("getSingleElementFromRange: range "+range.inspect()+" did not consist of a single element")}return nodes[0]}function isTextRange(range){return!!range&&typeof range.text!="undefined"}function updateFromTextRange(sel,range){var wrappedRange=new WrappedRange(range);sel._ranges=[wrappedRange];updateAnchorAndFocusFromRange(sel,wrappedRange,false);sel.rangeCount=1;sel.isCollapsed=wrappedRange.collapsed}function updateControlSelection(sel){sel._ranges.length=0;if(sel.docSelection.type=="None"){updateEmptySelection(sel)}else{var controlRange=sel.docSelection.createRange();if(isTextRange(controlRange)){updateFromTextRange(sel,controlRange)}else{sel.rangeCount=controlRange.length;var range,doc=getDocument(controlRange.item(0));for(var i=0;i<sel.rangeCount;++i){range=api.createRange(doc);range.selectNode(controlRange.item(i));sel._ranges.push(range)}sel.isCollapsed=sel.rangeCount==1&&sel._ranges[0].collapsed;updateAnchorAndFocusFromRange(sel,sel._ranges[sel.rangeCount-1],false)}}}function addRangeToControlSelection(sel,range){var controlRange=sel.docSelection.createRange();var rangeElement=getSingleElementFromRange(range);var doc=getDocument(controlRange.item(0));var newControlRange=getBody(doc).createControlRange();for(var i=0,len=controlRange.length;i<len;++i){newControlRange.add(controlRange.item(i))}try{newControlRange.add(rangeElement)}catch(ex){throw module.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}newControlRange.select();updateControlSelection(sel)}var getSelectionRangeAt;if(isHostMethod(testSelection,"getRangeAt")){getSelectionRangeAt=function(sel,index){try{return sel.getRangeAt(index)}catch(ex){return null}}}else if(selectionHasAnchorAndFocus){getSelectionRangeAt=function(sel){var doc=getDocument(sel.anchorNode);var range=api.createRange(doc);range.setStartAndEnd(sel.anchorNode,sel.anchorOffset,sel.focusNode,sel.focusOffset);if(range.collapsed!==this.isCollapsed){range.setStartAndEnd(sel.focusNode,sel.focusOffset,sel.anchorNode,sel.anchorOffset)}return range}}function WrappedSelection(selection,docSelection,win){this.nativeSelection=selection;this.docSelection=docSelection;this._ranges=[];this.win=win;this.refresh()}WrappedSelection.prototype=api.selectionPrototype;function deleteProperties(sel){sel.win=sel.anchorNode=sel.focusNode=sel._ranges=null;sel.rangeCount=sel.anchorOffset=sel.focusOffset=0;sel.detached=true}var cachedRangySelections=[];function actOnCachedSelection(win,action){var i=cachedRangySelections.length,cached,sel;while(i--){cached=cachedRangySelections[i];sel=cached.selection;if(action=="deleteAll"){deleteProperties(sel)}else if(cached.win==win){if(action=="delete"){cachedRangySelections.splice(i,1);return true}else{return sel}}}if(action=="deleteAll"){cachedRangySelections.length=0}return null}var getSelection=function(win){if(win&&win instanceof WrappedSelection){win.refresh();return win}win=getWindow(win,"getNativeSelection");var sel=actOnCachedSelection(win);var nativeSel=getNativeSelection(win),docSel=implementsDocSelection?getDocSelection(win):null;if(sel){sel.nativeSelection=nativeSel;sel.docSelection=docSel;sel.refresh()}else{sel=new WrappedSelection(nativeSel,docSel,win);cachedRangySelections.push({win:win,selection:sel})}return sel};api.getSelection=getSelection;util.createAliasForDeprecatedMethod(api,"getIframeSelection","getSelection");var selProto=WrappedSelection.prototype;function createControlSelection(sel,ranges){var doc=getDocument(ranges[0].startContainer);var controlRange=getBody(doc).createControlRange();for(var i=0,el,len=ranges.length;i<len;++i){el=getSingleElementFromRange(ranges[i]);try{controlRange.add(el)}catch(ex){throw module.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}controlRange.select();updateControlSelection(sel)}if(!useDocumentSelection&&selectionHasAnchorAndFocus&&util.areHostMethods(testSelection,["removeAllRanges","addRange"])){selProto.removeAllRanges=function(){this.nativeSelection.removeAllRanges();updateEmptySelection(this)};var addRangeBackward=function(sel,range){addRangeBackwardToNative(sel.nativeSelection,range);sel.refresh()};if(selectionHasRangeCount){selProto.addRange=function(range,direction){if(implementsControlRange&&implementsDocSelection&&this.docSelection.type==CONTROL){addRangeToControlSelection(this,range)}else{if(isDirectionBackward(direction)&&selectionHasExtend){addRangeBackward(this,range)}else{var previousRangeCount;if(selectionSupportsMultipleRanges){previousRangeCount=this.rangeCount}else{this.removeAllRanges();previousRangeCount=0}var clonedNativeRange=getNativeRange(range).cloneRange();try{this.nativeSelection.addRange(clonedNativeRange)}catch(ex){}this.rangeCount=this.nativeSelection.rangeCount;if(this.rangeCount==previousRangeCount+1){if(api.config.checkSelectionRanges){var nativeRange=getSelectionRangeAt(this.nativeSelection,this.rangeCount-1);if(nativeRange&&!rangesEqual(nativeRange,range)){range=new WrappedRange(nativeRange)}}this._ranges[this.rangeCount-1]=range;updateAnchorAndFocusFromRange(this,range,selectionIsBackward(this.nativeSelection));this.isCollapsed=selectionIsCollapsed(this)}else{this.refresh()}}}}}else{selProto.addRange=function(range,direction){if(isDirectionBackward(direction)&&selectionHasExtend){addRangeBackward(this,range)}else{this.nativeSelection.addRange(getNativeRange(range));this.refresh()}}}selProto.setRanges=function(ranges){if(implementsControlRange&&implementsDocSelection&&ranges.length>1){createControlSelection(this,ranges)}else{this.removeAllRanges();for(var i=0,len=ranges.length;i<len;++i){this.addRange(ranges[i])}}}}else if(isHostMethod(testSelection,"empty")&&isHostMethod(testRange,"select")&&implementsControlRange&&useDocumentSelection){selProto.removeAllRanges=function(){try{this.docSelection.empty();if(this.docSelection.type!="None"){var doc;if(this.anchorNode){doc=getDocument(this.anchorNode)}else if(this.docSelection.type==CONTROL){var controlRange=this.docSelection.createRange();if(controlRange.length){doc=getDocument(controlRange.item(0))}}if(doc){var textRange=getBody(doc).createTextRange();textRange.select();this.docSelection.empty()}}}catch(ex){}updateEmptySelection(this)};selProto.addRange=function(range){if(this.docSelection.type==CONTROL){addRangeToControlSelection(this,range)}else{api.WrappedTextRange.rangeToTextRange(range).select();this._ranges[0]=range;this.rangeCount=1;this.isCollapsed=this._ranges[0].collapsed;updateAnchorAndFocusFromRange(this,range,false)}};selProto.setRanges=function(ranges){this.removeAllRanges();var rangeCount=ranges.length;if(rangeCount>1){createControlSelection(this,ranges)}else if(rangeCount){this.addRange(ranges[0])}}}else{module.fail("No means of selecting a Range or TextRange was found");return false}selProto.getRangeAt=function(index){if(index<0||index>=this.rangeCount){throw new DOMException("INDEX_SIZE_ERR")}else{return this._ranges[index].cloneRange()}};var refreshSelection;if(useDocumentSelection){refreshSelection=function(sel){var range;if(api.isSelectionValid(sel.win)){range=sel.docSelection.createRange()}else{range=getBody(sel.win.document).createTextRange();range.collapse(true)}if(sel.docSelection.type==CONTROL){updateControlSelection(sel)}else if(isTextRange(range)){updateFromTextRange(sel,range)}else{updateEmptySelection(sel)}}}else if(isHostMethod(testSelection,"getRangeAt")&&typeof testSelection.rangeCount==NUMBER){refreshSelection=function(sel){if(implementsControlRange&&implementsDocSelection&&sel.docSelection.type==CONTROL){updateControlSelection(sel)}else{sel._ranges.length=sel.rangeCount=sel.nativeSelection.rangeCount;if(sel.rangeCount){for(var i=0,len=sel.rangeCount;i<len;++i){sel._ranges[i]=new api.WrappedRange(sel.nativeSelection.getRangeAt(i))}updateAnchorAndFocusFromRange(sel,sel._ranges[sel.rangeCount-1],selectionIsBackward(sel.nativeSelection));sel.isCollapsed=selectionIsCollapsed(sel)}else{updateEmptySelection(sel)}}}}else if(selectionHasAnchorAndFocus&&typeof testSelection.isCollapsed==BOOLEAN&&typeof testRange.collapsed==BOOLEAN&&features.implementsDomRange){refreshSelection=function(sel){var range,nativeSel=sel.nativeSelection;if(nativeSel.anchorNode){range=getSelectionRangeAt(nativeSel,0);sel._ranges=[range];sel.rangeCount=1;updateAnchorAndFocusFromNativeSelection(sel);sel.isCollapsed=selectionIsCollapsed(sel)}else{updateEmptySelection(sel)}}}else{module.fail("No means of obtaining a Range or TextRange from the user's selection was found");return false}selProto.refresh=function(checkForChanges){var oldRanges=checkForChanges?this._ranges.slice(0):null;var oldAnchorNode=this.anchorNode,oldAnchorOffset=this.anchorOffset;refreshSelection(this);if(checkForChanges){var i=oldRanges.length;if(i!=this._ranges.length){return true}if(this.anchorNode!=oldAnchorNode||this.anchorOffset!=oldAnchorOffset){return true}while(i--){if(!rangesEqual(oldRanges[i],this._ranges[i])){return true}}return false}};var removeRangeManually=function(sel,range){var ranges=sel.getAllRanges();sel.removeAllRanges();for(var i=0,len=ranges.length;i<len;++i){if(!rangesEqual(range,ranges[i])){sel.addRange(ranges[i])}}if(!sel.rangeCount){updateEmptySelection(sel)}};if(implementsControlRange&&implementsDocSelection){selProto.removeRange=function(range){if(this.docSelection.type==CONTROL){var controlRange=this.docSelection.createRange();var rangeElement=getSingleElementFromRange(range);var doc=getDocument(controlRange.item(0));var newControlRange=getBody(doc).createControlRange();var el,removed=false;for(var i=0,len=controlRange.length;i<len;++i){el=controlRange.item(i);if(el!==rangeElement||removed){newControlRange.add(controlRange.item(i))}else{removed=true}}newControlRange.select();updateControlSelection(this)}else{removeRangeManually(this,range)}}}else{selProto.removeRange=function(range){removeRangeManually(this,range)}}var selectionIsBackward;if(!useDocumentSelection&&selectionHasAnchorAndFocus&&features.implementsDomRange){selectionIsBackward=winSelectionIsBackward;selProto.isBackward=function(){return selectionIsBackward(this)}}else{selectionIsBackward=selProto.isBackward=function(){return false}}selProto.isBackwards=selProto.isBackward;selProto.toString=function(){var rangeTexts=[];for(var i=0,len=this.rangeCount;i<len;++i){rangeTexts[i]=""+this._ranges[i]}return rangeTexts.join("")};function assertNodeInSameDocument(sel,node){if(sel.win.document!=getDocument(node)){throw new DOMException("WRONG_DOCUMENT_ERR")}}selProto.collapse=function(node,offset){assertNodeInSameDocument(this,node);var range=api.createRange(node);range.collapseToPoint(node,offset);this.setSingleRange(range);this.isCollapsed=true};selProto.collapseToStart=function(){if(this.rangeCount){var range=this._ranges[0];this.collapse(range.startContainer,range.startOffset)}else{throw new DOMException("INVALID_STATE_ERR")}};selProto.collapseToEnd=function(){if(this.rangeCount){var range=this._ranges[this.rangeCount-1];this.collapse(range.endContainer,range.endOffset)}else{throw new DOMException("INVALID_STATE_ERR")}};selProto.selectAllChildren=function(node){assertNodeInSameDocument(this,node);var range=api.createRange(node);range.selectNodeContents(node);this.setSingleRange(range)};selProto.deleteFromDocument=function(){if(implementsControlRange&&implementsDocSelection&&this.docSelection.type==CONTROL){var controlRange=this.docSelection.createRange();var element;while(controlRange.length){element=controlRange.item(0);controlRange.remove(element);dom.removeNode(element)}this.refresh()}else if(this.rangeCount){var ranges=this.getAllRanges();if(ranges.length){this.removeAllRanges();for(var i=0,len=ranges.length;i<len;++i){ranges[i].deleteContents()}this.addRange(ranges[len-1])}}};selProto.eachRange=function(func,returnValue){for(var i=0,len=this._ranges.length;i<len;++i){if(func(this.getRangeAt(i))){return returnValue}}};selProto.getAllRanges=function(){var ranges=[];this.eachRange(function(range){ranges.push(range)});return ranges};selProto.setSingleRange=function(range,direction){this.removeAllRanges();this.addRange(range,direction)};selProto.callMethodOnEachRange=function(methodName,params){var results=[];this.eachRange(function(range){results.push(range[methodName].apply(range,params||[]))});return results};function createStartOrEndSetter(isStart){return function(node,offset){var range;if(this.rangeCount){range=this.getRangeAt(0);range["set"+(isStart?"Start":"End")](node,offset)}else{range=api.createRange(this.win.document);range.setStartAndEnd(node,offset)}this.setSingleRange(range,this.isBackward())}}selProto.setStart=createStartOrEndSetter(true);selProto.setEnd=createStartOrEndSetter(false);api.rangePrototype.select=function(direction){getSelection(this.getDocument()).setSingleRange(this,direction)};selProto.changeEachRange=function(func){var ranges=[];var backward=this.isBackward();this.eachRange(function(range){func(range);ranges.push(range)});this.removeAllRanges();if(backward&&ranges.length==1){this.addRange(ranges[0],"backward")}else{this.setRanges(ranges)}};selProto.containsNode=function(node,allowPartial){return this.eachRange(function(range){return range.containsNode(node,allowPartial)},true)||false};selProto.getBookmark=function(containerNode){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[containerNode])}};selProto.moveToBookmark=function(bookmark){var selRanges=[];for(var i=0,rangeBookmark,range;rangeBookmark=bookmark.rangeBookmarks[i++];){range=api.createRange(this.win);range.moveToBookmark(rangeBookmark);selRanges.push(range)}if(bookmark.backward){this.setSingleRange(selRanges[0],"backward")}else{this.setRanges(selRanges)}};selProto.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}};selProto.restoreRanges=function(selRanges){this.removeAllRanges();for(var i=0,range;range=selRanges.ranges[i];++i){this.addRange(range,selRanges.backward&&i==0)}};selProto.toHtml=function(){var rangeHtmls=[];this.eachRange(function(range){rangeHtmls.push(DomRange.toHtml(range))});return rangeHtmls.join("")};if(features.implementsTextRange){selProto.getNativeTextRange=function(){var sel,textRange;if(sel=this.docSelection){var range=sel.createRange();if(isTextRange(range)){return range}else{throw module.createError("getNativeTextRange: selection is a control selection")}}else if(this.rangeCount>0){return api.WrappedTextRange.rangeToTextRange(this.getRangeAt(0))}else{throw module.createError("getNativeTextRange: selection contains no range")}}}function inspect(sel){var rangeInspects=[];var anchor=new DomPosition(sel.anchorNode,sel.anchorOffset);var focus=new DomPosition(sel.focusNode,sel.focusOffset);var name=typeof sel.getName=="function"?sel.getName():"Selection";if(typeof sel.rangeCount!="undefined"){for(var i=0,len=sel.rangeCount;i<len;++i){rangeInspects[i]=DomRange.inspect(sel.getRangeAt(i))}}return"["+name+"(Ranges: "+rangeInspects.join(", ")+")(anchor: "+anchor.inspect()+", focus: "+focus.inspect()+"]"}selProto.getName=function(){return"WrappedSelection"};selProto.inspect=function(){return inspect(this)};selProto.detach=function(){actOnCachedSelection(this.win,"delete");deleteProperties(this)};WrappedSelection.detachAll=function(){actOnCachedSelection(null,"deleteAll")};WrappedSelection.inspect=inspect;WrappedSelection.isDirectionBackward=isDirectionBackward;api.Selection=WrappedSelection;api.selectionPrototype=selProto;api.addShimListener(function(win){if(typeof win.getSelection=="undefined"){win.getSelection=function(){return getSelection(win)}}win=null})});var docReady=false;var loadHandler=function(e){if(!docReady){docReady=true;if(!api.initialized&&api.config.autoInitialize){init()}}};if(isBrowser){if(document.readyState=="complete"){loadHandler()}else{if(isHostMethod(document,"addEventListener")){document.addEventListener("DOMContentLoaded",loadHandler,false)}addListener(window,"load",loadHandler)}}return api},this);(function(factory,root){if(typeof define=="function"&&define.amd){define(["./rangy-core"],factory)}else if(typeof module!="undefined"&&typeof exports=="object"){module.exports=factory(require("rangy"))}else{factory(root.rangy)}})(function(rangy){rangy.createModule("TextRange",["WrappedSelection"],function(api,module){var UNDEF="undefined";var CHARACTER="character",WORD="word";var dom=api.dom,util=api.util;var extend=util.extend;var createOptions=util.createOptions;var getBody=dom.getBody;var spacesRegex=/^[ \t\f\r\n]+$/;var spacesMinusLineBreaksRegex=/^[ \t\f\r]+$/;var allWhiteSpaceRegex=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/;var nonLineBreakWhiteSpaceRegex=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/;var lineBreakRegex=/^[\n-\r\u0085\u2028\u2029]$/;var defaultLanguage="en";var isDirectionBackward=api.Selection.isDirectionBackward;var trailingSpaceInBlockCollapses=false;var trailingSpaceBeforeBrCollapses=false;var trailingSpaceBeforeBlockCollapses=false;var trailingSpaceBeforeLineBreakInPreLineCollapses=true;(function(){var el=dom.createTestElement(document,"<p>1 </p><p></p>",true);var p=el.firstChild;var sel=api.getSelection();sel.collapse(p.lastChild,2);sel.setStart(p.firstChild,0);trailingSpaceInBlockCollapses=(""+sel).length==1;el.innerHTML="1 <br />";sel.collapse(el,2);sel.setStart(el.firstChild,0);trailingSpaceBeforeBrCollapses=(""+sel).length==1;el.innerHTML="1 <p>1</p>";sel.collapse(el,2);sel.setStart(el.firstChild,0);trailingSpaceBeforeBlockCollapses=(""+sel).length==1;dom.removeNode(el);sel.removeAllRanges()})();function defaultTokenizer(chars,wordOptions){var word=chars.join(""),result,tokenRanges=[];function createTokenRange(start,end,isWord){tokenRanges.push({start:start,end:end,isWord:isWord})}var lastWordEnd=0,wordStart,wordEnd;while(result=wordOptions.wordRegex.exec(word)){wordStart=result.index;wordEnd=wordStart+result[0].length;if(wordStart>lastWordEnd){createTokenRange(lastWordEnd,wordStart,false)}if(wordOptions.includeTrailingSpace){while(nonLineBreakWhiteSpaceRegex.test(chars[wordEnd])){++wordEnd}}createTokenRange(wordStart,wordEnd,true);lastWordEnd=wordEnd}if(lastWordEnd<chars.length){createTokenRange(lastWordEnd,chars.length,false)}return tokenRanges}function convertCharRangeToToken(chars,tokenRange){var tokenChars=chars.slice(tokenRange.start,tokenRange.end);var token={isWord:tokenRange.isWord,chars:tokenChars,toString:function(){return tokenChars.join("")}};for(var i=0,len=tokenChars.length;i<len;++i){tokenChars[i].token=token}return token}function tokenize(chars,wordOptions,tokenizer){var tokenRanges=tokenizer(chars,wordOptions);var tokens=[];for(var i=0,tokenRange;tokenRange=tokenRanges[i++];){tokens.push(convertCharRangeToToken(chars,tokenRange))}return tokens}var defaultCharacterOptions={includeBlockContentTrailingSpace:true,includeSpaceBeforeBr:true,includeSpaceBeforeBlock:true,includePreLineTrailingSpace:true,ignoreCharacters:""};function normalizeIgnoredCharacters(ignoredCharacters){var ignoredChars=ignoredCharacters||"";var ignoredCharsArray=typeof ignoredChars=="string"?ignoredChars.split(""):ignoredChars;ignoredCharsArray.sort(function(char1,char2){return char1.charCodeAt(0)-char2.charCodeAt(0)});return ignoredCharsArray.join("").replace(/(.)\1+/g,"$1")}var defaultCaretCharacterOptions={includeBlockContentTrailingSpace:!trailingSpaceBeforeLineBreakInPreLineCollapses,includeSpaceBeforeBr:!trailingSpaceBeforeBrCollapses,includeSpaceBeforeBlock:!trailingSpaceBeforeBlockCollapses,includePreLineTrailingSpace:true};var defaultWordOptions={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:false,tokenizer:defaultTokenizer}};var defaultFindOptions={caseSensitive:false,withinRange:null,wholeWordsOnly:false,wrap:false,direction:"forward",wordOptions:null,characterOptions:null};var defaultMoveOptions={wordOptions:null,characterOptions:null};var defaultExpandOptions={wordOptions:null,characterOptions:null,trim:false,trimStart:true,trimEnd:true};var defaultWordIteratorOptions={wordOptions:null,characterOptions:null,direction:"forward"};function createWordOptions(options){var lang,defaults;if(!options){return defaultWordOptions[defaultLanguage]}else{lang=options.language||defaultLanguage;defaults={};extend(defaults,defaultWordOptions[lang]||defaultWordOptions[defaultLanguage]);extend(defaults,options);return defaults}}function createNestedOptions(optionsParam,defaults){var options=createOptions(optionsParam,defaults);if(defaults.hasOwnProperty("wordOptions")){options.wordOptions=createWordOptions(options.wordOptions)}if(defaults.hasOwnProperty("characterOptions")){options.characterOptions=createOptions(options.characterOptions,defaultCharacterOptions)}return options}var getComputedStyleProperty=dom.getComputedStyleProperty;var tableCssDisplayBlock;(function(){var table=document.createElement("table");var body=getBody(document);body.appendChild(table);tableCssDisplayBlock=getComputedStyleProperty(table,"display")=="block";body.removeChild(table)})();var defaultDisplayValueForTag={table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell"};function getComputedDisplay(el,win){var display=getComputedStyleProperty(el,"display",win);var tagName=el.tagName.toLowerCase();return display=="block"&&tableCssDisplayBlock&&defaultDisplayValueForTag.hasOwnProperty(tagName)?defaultDisplayValueForTag[tagName]:display}function isHidden(node){var ancestors=getAncestorsAndSelf(node);for(var i=0,len=ancestors.length;i<len;++i){if(ancestors[i].nodeType==1&&getComputedDisplay(ancestors[i])=="none"){return true}}return false}function isVisibilityHiddenTextNode(textNode){var el;return textNode.nodeType==3&&(el=textNode.parentNode)&&getComputedStyleProperty(el,"visibility")=="hidden"}function isBlockNode(node){return node&&(node.nodeType==1&&!/^(inline(-block|-table)?|none)$/.test(getComputedDisplay(node))||node.nodeType==9||node.nodeType==11)}function getLastDescendantOrSelf(node){var lastChild=node.lastChild;return lastChild?getLastDescendantOrSelf(lastChild):node}function containsPositions(node){return dom.isCharacterDataNode(node)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(node.nodeName);
}function getAncestors(node){var ancestors=[];while(node.parentNode){ancestors.unshift(node.parentNode);node=node.parentNode}return ancestors}function getAncestorsAndSelf(node){return getAncestors(node).concat([node])}function nextNodeDescendants(node){while(node&&!node.nextSibling){node=node.parentNode}if(!node){return null}return node.nextSibling}function nextNode(node,excludeChildren){if(!excludeChildren&&node.hasChildNodes()){return node.firstChild}return nextNodeDescendants(node)}function previousNode(node){var previous=node.previousSibling;if(previous){node=previous;while(node.hasChildNodes()){node=node.lastChild}return node}var parent=node.parentNode;if(parent&&parent.nodeType==1){return parent}return null}function isWhitespaceNode(node){if(!node||node.nodeType!=3){return false}var text=node.data;if(text===""){return true}var parent=node.parentNode;if(!parent||parent.nodeType!=1){return false}var computedWhiteSpace=getComputedStyleProperty(node.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(text)&&/^(normal|nowrap)$/.test(computedWhiteSpace)||/^[\t\r ]+$/.test(text)&&computedWhiteSpace=="pre-line"}function isCollapsedWhitespaceNode(node){if(node.data===""){return true}if(!isWhitespaceNode(node)){return false}var ancestor=node.parentNode;if(!ancestor){return true}if(isHidden(node)){return true}return false}function isCollapsedNode(node){var type=node.nodeType;return type==7||type==8||isHidden(node)||/^(script|style)$/i.test(node.nodeName)||isVisibilityHiddenTextNode(node)||isCollapsedWhitespaceNode(node)}function isIgnoredNode(node,win){var type=node.nodeType;return type==7||type==8||type==1&&getComputedDisplay(node,win)=="none"}function Cache(){this.store={}}Cache.prototype={get:function(key){return this.store.hasOwnProperty(key)?this.store[key]:null},set:function(key,value){return this.store[key]=value}};var cachedCount=0,uncachedCount=0;function createCachingGetter(methodName,func,objProperty){return function(args){var cache=this.cache;if(cache.hasOwnProperty(methodName)){cachedCount++;return cache[methodName]}else{uncachedCount++;var value=func.call(this,objProperty?this[objProperty]:this,args);cache[methodName]=value;return value}}}function NodeWrapper(node,session){this.node=node;this.session=session;this.cache=new Cache;this.positions=new Cache}var nodeProto={getPosition:function(offset){var positions=this.positions;return positions.get(offset)||positions.set(offset,new Position(this,offset))},toString:function(){return"[NodeWrapper("+dom.inspectNode(this.node)+")]"}};NodeWrapper.prototype=nodeProto;var EMPTY="EMPTY",NON_SPACE="NON_SPACE",UNCOLLAPSIBLE_SPACE="UNCOLLAPSIBLE_SPACE",COLLAPSIBLE_SPACE="COLLAPSIBLE_SPACE",TRAILING_SPACE_BEFORE_BLOCK="TRAILING_SPACE_BEFORE_BLOCK",TRAILING_SPACE_IN_BLOCK="TRAILING_SPACE_IN_BLOCK",TRAILING_SPACE_BEFORE_BR="TRAILING_SPACE_BEFORE_BR",PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK",TRAILING_LINE_BREAK_AFTER_BR="TRAILING_LINE_BREAK_AFTER_BR",INCLUDED_TRAILING_LINE_BREAK_AFTER_BR="INCLUDED_TRAILING_LINE_BREAK_AFTER_BR";extend(nodeProto,{isCharacterDataNode:createCachingGetter("isCharacterDataNode",dom.isCharacterDataNode,"node"),getNodeIndex:createCachingGetter("nodeIndex",dom.getNodeIndex,"node"),getLength:createCachingGetter("nodeLength",dom.getNodeLength,"node"),containsPositions:createCachingGetter("containsPositions",containsPositions,"node"),isWhitespace:createCachingGetter("isWhitespace",isWhitespaceNode,"node"),isCollapsedWhitespace:createCachingGetter("isCollapsedWhitespace",isCollapsedWhitespaceNode,"node"),getComputedDisplay:createCachingGetter("computedDisplay",getComputedDisplay,"node"),isCollapsed:createCachingGetter("collapsed",isCollapsedNode,"node"),isIgnored:createCachingGetter("ignored",isIgnoredNode,"node"),next:createCachingGetter("nextPos",nextNode,"node"),previous:createCachingGetter("previous",previousNode,"node"),getTextNodeInfo:createCachingGetter("textNodeInfo",function(textNode){var spaceRegex=null,collapseSpaces=false;var cssWhitespace=getComputedStyleProperty(textNode.parentNode,"whiteSpace");var preLine=cssWhitespace=="pre-line";if(preLine){spaceRegex=spacesMinusLineBreaksRegex;collapseSpaces=true}else if(cssWhitespace=="normal"||cssWhitespace=="nowrap"){spaceRegex=spacesRegex;collapseSpaces=true}return{node:textNode,text:textNode.data,spaceRegex:spaceRegex,collapseSpaces:collapseSpaces,preLine:preLine}},"node"),hasInnerText:createCachingGetter("hasInnerText",function(el,backward){var session=this.session;var posAfterEl=session.getPosition(el.parentNode,this.getNodeIndex()+1);var firstPosInEl=session.getPosition(el,0);var pos=backward?posAfterEl:firstPosInEl;var endPos=backward?firstPosInEl:posAfterEl;while(pos!==endPos){pos.prepopulateChar();if(pos.isDefinitelyNonEmpty()){return true}pos=backward?pos.previousVisible():pos.nextVisible()}return false},"node"),isRenderedBlock:createCachingGetter("isRenderedBlock",function(el){var brs=el.getElementsByTagName("br");for(var i=0,len=brs.length;i<len;++i){if(!isCollapsedNode(brs[i])){return true}}return this.hasInnerText()},"node"),getTrailingSpace:createCachingGetter("trailingSpace",function(el){if(el.tagName.toLowerCase()=="br"){return""}else{switch(this.getComputedDisplay()){case"inline":var child=el.lastChild;while(child){if(!isIgnoredNode(child)){return child.nodeType==1?this.session.getNodeWrapper(child).getTrailingSpace():""}child=child.previousSibling}break;case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":break;case"table-cell":return"	";default:return this.isRenderedBlock(true)?"\n":""}}return""},"node"),getLeadingSpace:createCachingGetter("leadingSpace",function(el){switch(this.getComputedDisplay()){case"inline":case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":case"table-cell":break;default:return this.isRenderedBlock(false)?"\n":""}return""},"node")});function Position(nodeWrapper,offset){this.offset=offset;this.nodeWrapper=nodeWrapper;this.node=nodeWrapper.node;this.session=nodeWrapper.session;this.cache=new Cache}function inspectPosition(){return"[Position("+dom.inspectNode(this.node)+":"+this.offset+")]"}var positionProto={character:"",characterType:EMPTY,isBr:false,prepopulateChar:function(){var pos=this;if(!pos.prepopulatedChar){var node=pos.node,offset=pos.offset;var visibleChar="",charType=EMPTY;var finalizedChar=false;if(offset>0){if(node.nodeType==3){var text=node.data;var textChar=text.charAt(offset-1);var nodeInfo=pos.nodeWrapper.getTextNodeInfo();var spaceRegex=nodeInfo.spaceRegex;if(nodeInfo.collapseSpaces){if(spaceRegex.test(textChar)){if(offset>1&&spaceRegex.test(text.charAt(offset-2))){}else if(nodeInfo.preLine&&text.charAt(offset)==="\n"){visibleChar=" ";charType=PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK}else{visibleChar=" ";charType=COLLAPSIBLE_SPACE}}else{visibleChar=textChar;charType=NON_SPACE;finalizedChar=true}}else{visibleChar=textChar;charType=UNCOLLAPSIBLE_SPACE;finalizedChar=true}}else{var nodePassed=node.childNodes[offset-1];if(nodePassed&&nodePassed.nodeType==1&&!isCollapsedNode(nodePassed)){if(nodePassed.tagName.toLowerCase()=="br"){visibleChar="\n";pos.isBr=true;charType=COLLAPSIBLE_SPACE;finalizedChar=false}else{pos.checkForTrailingSpace=true}}if(!visibleChar){var nextNode=node.childNodes[offset];if(nextNode&&nextNode.nodeType==1&&!isCollapsedNode(nextNode)){pos.checkForLeadingSpace=true}}}}pos.prepopulatedChar=true;pos.character=visibleChar;pos.characterType=charType;pos.isCharInvariant=finalizedChar}},isDefinitelyNonEmpty:function(){var charType=this.characterType;return charType==NON_SPACE||charType==UNCOLLAPSIBLE_SPACE},resolveLeadingAndTrailingSpaces:function(){if(!this.prepopulatedChar){this.prepopulateChar()}if(this.checkForTrailingSpace){var trailingSpace=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();if(trailingSpace){this.isTrailingSpace=true;this.character=trailingSpace;this.characterType=COLLAPSIBLE_SPACE}this.checkForTrailingSpace=false}if(this.checkForLeadingSpace){var leadingSpace=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace();if(leadingSpace){this.isLeadingSpace=true;this.character=leadingSpace;this.characterType=COLLAPSIBLE_SPACE}this.checkForLeadingSpace=false}},getPrecedingUncollapsedPosition:function(characterOptions){var pos=this,character;while(pos=pos.previousVisible()){character=pos.getCharacter(characterOptions);if(character!==""){return pos}}return null},getCharacter:function(characterOptions){this.resolveLeadingAndTrailingSpaces();var thisChar=this.character,returnChar;var ignoredChars=normalizeIgnoredCharacters(characterOptions.ignoreCharacters);var isIgnoredCharacter=thisChar!==""&&ignoredChars.indexOf(thisChar)>-1;if(this.isCharInvariant){returnChar=isIgnoredCharacter?"":thisChar;return returnChar}var cacheKey=["character",characterOptions.includeSpaceBeforeBr,characterOptions.includeBlockContentTrailingSpace,characterOptions.includePreLineTrailingSpace,ignoredChars].join("_");var cachedChar=this.cache.get(cacheKey);if(cachedChar!==null){return cachedChar}var character="";var collapsible=this.characterType==COLLAPSIBLE_SPACE;var nextPos,previousPos;var gotPreviousPos=false;var pos=this;function getPreviousPos(){if(!gotPreviousPos){previousPos=pos.getPrecedingUncollapsedPosition(characterOptions);gotPreviousPos=true}return previousPos}if(collapsible){if(this.type==INCLUDED_TRAILING_LINE_BREAK_AFTER_BR){character="\n"}else if(thisChar==" "&&(!getPreviousPos()||previousPos.isTrailingSpace||previousPos.character=="\n"||previousPos.character==" "&&previousPos.characterType==COLLAPSIBLE_SPACE)){}else if(thisChar=="\n"&&this.isLeadingSpace){if(getPreviousPos()&&previousPos.character!="\n"){character="\n"}else{}}else{nextPos=this.nextUncollapsed();if(nextPos){if(nextPos.isBr){this.type=TRAILING_SPACE_BEFORE_BR}else if(nextPos.isTrailingSpace&&nextPos.character=="\n"){this.type=TRAILING_SPACE_IN_BLOCK}else if(nextPos.isLeadingSpace&&nextPos.character=="\n"){this.type=TRAILING_SPACE_BEFORE_BLOCK}if(nextPos.character=="\n"){if(this.type==TRAILING_SPACE_BEFORE_BR&&!characterOptions.includeSpaceBeforeBr){}else if(this.type==TRAILING_SPACE_BEFORE_BLOCK&&!characterOptions.includeSpaceBeforeBlock){}else if(this.type==TRAILING_SPACE_IN_BLOCK&&nextPos.isTrailingSpace&&!characterOptions.includeBlockContentTrailingSpace){}else if(this.type==PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK&&nextPos.type==NON_SPACE&&!characterOptions.includePreLineTrailingSpace){}else if(thisChar=="\n"){if(nextPos.isTrailingSpace){if(this.isTrailingSpace){}else if(this.isBr){nextPos.type=TRAILING_LINE_BREAK_AFTER_BR;if(getPreviousPos()&&previousPos.isLeadingSpace&&!previousPos.isTrailingSpace&&previousPos.character=="\n"){nextPos.character=""}else{nextPos.type=INCLUDED_TRAILING_LINE_BREAK_AFTER_BR}}}else{character="\n"}}else if(thisChar==" "){character=" "}else{}}else{character=thisChar}}else{}}}if(ignoredChars.indexOf(character)>-1){character=""}this.cache.set(cacheKey,character);return character},equals:function(pos){return!!pos&&this.node===pos.node&&this.offset===pos.offset},inspect:inspectPosition,toString:function(){return this.character}};Position.prototype=positionProto;extend(positionProto,{next:createCachingGetter("nextPos",function(pos){var nodeWrapper=pos.nodeWrapper,node=pos.node,offset=pos.offset,session=nodeWrapper.session;if(!node){return null}var nextNode,nextOffset,child;if(offset==nodeWrapper.getLength()){nextNode=node.parentNode;nextOffset=nextNode?nodeWrapper.getNodeIndex()+1:0}else{if(nodeWrapper.isCharacterDataNode()){nextNode=node;nextOffset=offset+1}else{child=node.childNodes[offset];if(session.getNodeWrapper(child).containsPositions()){nextNode=child;nextOffset=0}else{nextNode=node;nextOffset=offset+1}}}return nextNode?session.getPosition(nextNode,nextOffset):null}),previous:createCachingGetter("previous",function(pos){var nodeWrapper=pos.nodeWrapper,node=pos.node,offset=pos.offset,session=nodeWrapper.session;var previousNode,previousOffset,child;if(offset==0){previousNode=node.parentNode;previousOffset=previousNode?nodeWrapper.getNodeIndex():0}else{if(nodeWrapper.isCharacterDataNode()){previousNode=node;previousOffset=offset-1}else{child=node.childNodes[offset-1];if(session.getNodeWrapper(child).containsPositions()){previousNode=child;previousOffset=dom.getNodeLength(child)}else{previousNode=node;previousOffset=offset-1}}}return previousNode?session.getPosition(previousNode,previousOffset):null}),nextVisible:createCachingGetter("nextVisible",function(pos){var next=pos.next();if(!next){return null}var nodeWrapper=next.nodeWrapper,node=next.node;var newPos=next;if(nodeWrapper.isCollapsed()){newPos=nodeWrapper.session.getPosition(node.parentNode,nodeWrapper.getNodeIndex()+1)}return newPos}),nextUncollapsed:createCachingGetter("nextUncollapsed",function(pos){var nextPos=pos;while(nextPos=nextPos.nextVisible()){nextPos.resolveLeadingAndTrailingSpaces();if(nextPos.character!==""){return nextPos}}return null}),previousVisible:createCachingGetter("previousVisible",function(pos){var previous=pos.previous();if(!previous){return null}var nodeWrapper=previous.nodeWrapper,node=previous.node;var newPos=previous;if(nodeWrapper.isCollapsed()){newPos=nodeWrapper.session.getPosition(node.parentNode,nodeWrapper.getNodeIndex())}return newPos})});var currentSession=null;var Session=function(){function createWrapperCache(nodeProperty){var cache=new Cache;return{get:function(node){var wrappersByProperty=cache.get(node[nodeProperty]);if(wrappersByProperty){for(var i=0,wrapper;wrapper=wrappersByProperty[i++];){if(wrapper.node===node){return wrapper}}}return null},set:function(nodeWrapper){var property=nodeWrapper.node[nodeProperty];var wrappersByProperty=cache.get(property)||cache.set(property,[]);wrappersByProperty.push(nodeWrapper)}}}var uniqueIDSupported=util.isHostProperty(document.documentElement,"uniqueID");function Session(){this.initCaches()}Session.prototype={initCaches:function(){this.elementCache=uniqueIDSupported?function(){var elementsCache=new Cache;return{get:function(el){return elementsCache.get(el.uniqueID)},set:function(elWrapper){elementsCache.set(elWrapper.node.uniqueID,elWrapper)}}}():createWrapperCache("tagName");this.textNodeCache=createWrapperCache("data");this.otherNodeCache=createWrapperCache("nodeName")},getNodeWrapper:function(node){var wrapperCache;switch(node.nodeType){case 1:wrapperCache=this.elementCache;break;case 3:wrapperCache=this.textNodeCache;break;default:wrapperCache=this.otherNodeCache;break}var wrapper=wrapperCache.get(node);if(!wrapper){wrapper=new NodeWrapper(node,this);wrapperCache.set(wrapper)}return wrapper},getPosition:function(node,offset){return this.getNodeWrapper(node).getPosition(offset)},getRangeBoundaryPosition:function(range,isStart){var prefix=isStart?"start":"end";return this.getPosition(range[prefix+"Container"],range[prefix+"Offset"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}};return Session}();function startSession(){endSession();return currentSession=new Session}function getSession(){return currentSession||startSession()}function endSession(){if(currentSession){currentSession.detach()}currentSession=null}extend(dom,{nextNode:nextNode,previousNode:previousNode});function createCharacterIterator(startPos,backward,endPos,characterOptions){if(endPos){if(backward){if(isCollapsedNode(endPos.node)){endPos=startPos.previousVisible()}}else{if(isCollapsedNode(endPos.node)){endPos=endPos.nextVisible()}}}var pos=startPos,finished=false;function next(){var charPos=null;if(backward){charPos=pos;if(!finished){pos=pos.previousVisible();finished=!pos||endPos&&pos.equals(endPos)}}else{if(!finished){charPos=pos=pos.nextVisible();finished=!pos||endPos&&pos.equals(endPos)}}if(finished){pos=null}return charPos}var previousTextPos,returnPreviousTextPos=false;return{next:function(){if(returnPreviousTextPos){returnPreviousTextPos=false;return previousTextPos}else{var pos,character;while(pos=next()){character=pos.getCharacter(characterOptions);if(character){previousTextPos=pos;return pos}}return null}},rewind:function(){if(previousTextPos){returnPreviousTextPos=true}else{throw module.createError("createCharacterIterator: cannot rewind. Only one position can be rewound.")}},dispose:function(){startPos=endPos=null}}}var arrayIndexOf=Array.prototype.indexOf?function(arr,val){return arr.indexOf(val)}:function(arr,val){for(var i=0,len=arr.length;i<len;++i){if(arr[i]===val){return i}}return-1};function createTokenizedTextProvider(pos,characterOptions,wordOptions){var forwardIterator=createCharacterIterator(pos,false,null,characterOptions);var backwardIterator=createCharacterIterator(pos,true,null,characterOptions);var tokenizer=wordOptions.tokenizer;function consumeWord(forward){var pos,textChar;var newChars=[],it=forward?forwardIterator:backwardIterator;var passedWordBoundary=false,insideWord=false;while(pos=it.next()){textChar=pos.character;if(allWhiteSpaceRegex.test(textChar)){if(insideWord){insideWord=false;passedWordBoundary=true}}else{if(passedWordBoundary){it.rewind();break}else{insideWord=true}}newChars.push(pos)}return newChars}var forwardChars=consumeWord(true);var backwardChars=consumeWord(false).reverse();var tokens=tokenize(backwardChars.concat(forwardChars),wordOptions,tokenizer);var forwardTokensBuffer=forwardChars.length?tokens.slice(arrayIndexOf(tokens,forwardChars[0].token)):[];var backwardTokensBuffer=backwardChars.length?tokens.slice(0,arrayIndexOf(tokens,backwardChars.pop().token)+1):[];function inspectBuffer(buffer){var textPositions=["["+buffer.length+"]"];for(var i=0;i<buffer.length;++i){textPositions.push("(word: "+buffer[i]+", is word: "+buffer[i].isWord+")")}return textPositions}return{nextEndToken:function(){var lastToken,forwardChars;while(forwardTokensBuffer.length==1&&!(lastToken=forwardTokensBuffer[0]).isWord&&(forwardChars=consumeWord(true)).length>0){forwardTokensBuffer=tokenize(lastToken.chars.concat(forwardChars),wordOptions,tokenizer)}return forwardTokensBuffer.shift()},previousStartToken:function(){var lastToken,backwardChars;while(backwardTokensBuffer.length==1&&!(lastToken=backwardTokensBuffer[0]).isWord&&(backwardChars=consumeWord(false)).length>0){backwardTokensBuffer=tokenize(backwardChars.reverse().concat(lastToken.chars),wordOptions,tokenizer)}return backwardTokensBuffer.pop()},dispose:function(){forwardIterator.dispose();backwardIterator.dispose();forwardTokensBuffer=backwardTokensBuffer=null}}}function movePositionBy(pos,unit,count,characterOptions,wordOptions){var unitsMoved=0,currentPos,newPos=pos,charIterator,nextPos,absCount=Math.abs(count),token;if(count!==0){var backward=count<0;switch(unit){case CHARACTER:charIterator=createCharacterIterator(pos,backward,null,characterOptions);while((currentPos=charIterator.next())&&unitsMoved<absCount){++unitsMoved;newPos=currentPos}nextPos=currentPos;charIterator.dispose();break;case WORD:var tokenizedTextProvider=createTokenizedTextProvider(pos,characterOptions,wordOptions);var next=backward?tokenizedTextProvider.previousStartToken:tokenizedTextProvider.nextEndToken;while((token=next())&&unitsMoved<absCount){if(token.isWord){++unitsMoved;newPos=backward?token.chars[0]:token.chars[token.chars.length-1]}}break;default:throw new Error("movePositionBy: unit '"+unit+"' not implemented")}if(backward){newPos=newPos.previousVisible();unitsMoved=-unitsMoved}else if(newPos&&newPos.isLeadingSpace&&!newPos.isTrailingSpace){if(unit==WORD){charIterator=createCharacterIterator(pos,false,null,characterOptions);nextPos=charIterator.next();charIterator.dispose()}if(nextPos){newPos=nextPos.previousVisible()}}}return{position:newPos,unitsMoved:unitsMoved}}function createRangeCharacterIterator(session,range,characterOptions,backward){var rangeStart=session.getRangeBoundaryPosition(range,true);var rangeEnd=session.getRangeBoundaryPosition(range,false);var itStart=backward?rangeEnd:rangeStart;var itEnd=backward?rangeStart:rangeEnd;return createCharacterIterator(itStart,!!backward,itEnd,characterOptions)}function getRangeCharacters(session,range,characterOptions){var chars=[],it=createRangeCharacterIterator(session,range,characterOptions),pos;while(pos=it.next()){chars.push(pos)}it.dispose();return chars}function isWholeWord(startPos,endPos,wordOptions){var range=api.createRange(startPos.node);range.setStartAndEnd(startPos.node,startPos.offset,endPos.node,endPos.offset);return!range.expand("word",{wordOptions:wordOptions})}function findTextFromPosition(initialPos,searchTerm,isRegex,searchScopeRange,findOptions){var backward=isDirectionBackward(findOptions.direction);var it=createCharacterIterator(initialPos,backward,initialPos.session.getRangeBoundaryPosition(searchScopeRange,backward),findOptions.characterOptions);var text="",chars=[],pos,currentChar,matchStartIndex,matchEndIndex;var result,insideRegexMatch;var returnValue=null;function handleMatch(startIndex,endIndex){var startPos=chars[startIndex].previousVisible();var endPos=chars[endIndex-1];var valid=!findOptions.wholeWordsOnly||isWholeWord(startPos,endPos,findOptions.wordOptions);return{startPos:startPos,endPos:endPos,valid:valid}}while(pos=it.next()){currentChar=pos.character;if(!isRegex&&!findOptions.caseSensitive){currentChar=currentChar.toLowerCase()}if(backward){chars.unshift(pos);text=currentChar+text}else{chars.push(pos);text+=currentChar}if(isRegex){result=searchTerm.exec(text);if(result){matchStartIndex=result.index;matchEndIndex=matchStartIndex+result[0].length;if(insideRegexMatch){if(!backward&&matchEndIndex<text.length||backward&&matchStartIndex>0){returnValue=handleMatch(matchStartIndex,matchEndIndex);break}}else{insideRegexMatch=true}}}else if((matchStartIndex=text.indexOf(searchTerm))!=-1){returnValue=handleMatch(matchStartIndex,matchStartIndex+searchTerm.length);break}}if(insideRegexMatch){returnValue=handleMatch(matchStartIndex,matchEndIndex)}it.dispose();return returnValue}function createEntryPointFunction(func){return function(){var sessionRunning=!!currentSession;var session=getSession();var args=[session].concat(util.toArray(arguments));var returnValue=func.apply(this,args);if(!sessionRunning){endSession()}return returnValue}}function createRangeBoundaryMover(isStart,collapse){return createEntryPointFunction(function(session,unit,count,moveOptions){if(typeof count==UNDEF){count=unit;unit=CHARACTER}moveOptions=createNestedOptions(moveOptions,defaultMoveOptions);var boundaryIsStart=isStart;if(collapse){boundaryIsStart=count>=0;this.collapse(!boundaryIsStart)}var moveResult=movePositionBy(session.getRangeBoundaryPosition(this,boundaryIsStart),unit,count,moveOptions.characterOptions,moveOptions.wordOptions);var newPos=moveResult.position;this[boundaryIsStart?"setStart":"setEnd"](newPos.node,newPos.offset);return moveResult.unitsMoved})}function createRangeTrimmer(isStart){return createEntryPointFunction(function(session,characterOptions){characterOptions=createOptions(characterOptions,defaultCharacterOptions);var pos;var it=createRangeCharacterIterator(session,this,characterOptions,!isStart);var trimCharCount=0;while((pos=it.next())&&allWhiteSpaceRegex.test(pos.character)){++trimCharCount}it.dispose();var trimmed=trimCharCount>0;if(trimmed){this[isStart?"moveStart":"moveEnd"]("character",isStart?trimCharCount:-trimCharCount,{characterOptions:characterOptions})}return trimmed})}extend(api.rangePrototype,{moveStart:createRangeBoundaryMover(true,false),moveEnd:createRangeBoundaryMover(false,false),move:createRangeBoundaryMover(true,true),trimStart:createRangeTrimmer(true),trimEnd:createRangeTrimmer(false),trim:createEntryPointFunction(function(session,characterOptions){var startTrimmed=this.trimStart(characterOptions),endTrimmed=this.trimEnd(characterOptions);return startTrimmed||endTrimmed}),expand:createEntryPointFunction(function(session,unit,expandOptions){var moved=false;expandOptions=createNestedOptions(expandOptions,defaultExpandOptions);var characterOptions=expandOptions.characterOptions;if(!unit){unit=CHARACTER}if(unit==WORD){var wordOptions=expandOptions.wordOptions;var startPos=session.getRangeBoundaryPosition(this,true);var endPos=session.getRangeBoundaryPosition(this,false);var startTokenizedTextProvider=createTokenizedTextProvider(startPos,characterOptions,wordOptions);var startToken=startTokenizedTextProvider.nextEndToken();var newStartPos=startToken.chars[0].previousVisible();var endToken,newEndPos;if(this.collapsed){endToken=startToken}else{var endTokenizedTextProvider=createTokenizedTextProvider(endPos,characterOptions,wordOptions);endToken=endTokenizedTextProvider.previousStartToken()}newEndPos=endToken.chars[endToken.chars.length-1];if(!newStartPos.equals(startPos)){this.setStart(newStartPos.node,newStartPos.offset);moved=true}if(newEndPos&&!newEndPos.equals(endPos)){this.setEnd(newEndPos.node,newEndPos.offset);moved=true}if(expandOptions.trim){if(expandOptions.trimStart){moved=this.trimStart(characterOptions)||moved}if(expandOptions.trimEnd){moved=this.trimEnd(characterOptions)||moved}}return moved}else{return this.moveEnd(CHARACTER,1,expandOptions)}}),text:createEntryPointFunction(function(session,characterOptions){return this.collapsed?"":getRangeCharacters(session,this,createOptions(characterOptions,defaultCharacterOptions)).join("")}),selectCharacters:createEntryPointFunction(function(session,containerNode,startIndex,endIndex,characterOptions){var moveOptions={characterOptions:characterOptions};if(!containerNode){containerNode=getBody(this.getDocument())}this.selectNodeContents(containerNode);this.collapse(true);this.moveStart("character",startIndex,moveOptions);this.collapse(true);this.moveEnd("character",endIndex-startIndex,moveOptions)}),toCharacterRange:createEntryPointFunction(function(session,containerNode,characterOptions){if(!containerNode){containerNode=getBody(this.getDocument())}var parent=containerNode.parentNode,nodeIndex=dom.getNodeIndex(containerNode);var rangeStartsBeforeNode=dom.comparePoints(this.startContainer,this.endContainer,parent,nodeIndex)==-1;var rangeBetween=this.cloneRange();var startIndex,endIndex;if(rangeStartsBeforeNode){rangeBetween.setStartAndEnd(this.startContainer,this.startOffset,parent,nodeIndex);startIndex=-rangeBetween.text(characterOptions).length}else{rangeBetween.setStartAndEnd(parent,nodeIndex,this.startContainer,this.startOffset);startIndex=rangeBetween.text(characterOptions).length}endIndex=startIndex+this.text(characterOptions).length;return{start:startIndex,end:endIndex}}),findText:createEntryPointFunction(function(session,searchTermParam,findOptions){findOptions=createNestedOptions(findOptions,defaultFindOptions);if(findOptions.wholeWordsOnly){findOptions.wordOptions.includeTrailingSpace=false}var backward=isDirectionBackward(findOptions.direction);var searchScopeRange=findOptions.withinRange;if(!searchScopeRange){searchScopeRange=api.createRange();searchScopeRange.selectNodeContents(this.getDocument())}var searchTerm=searchTermParam,isRegex=false;if(typeof searchTerm=="string"){if(!findOptions.caseSensitive){searchTerm=searchTerm.toLowerCase()}}else{isRegex=true}var initialPos=session.getRangeBoundaryPosition(this,!backward);var comparison=searchScopeRange.comparePoint(initialPos.node,initialPos.offset);if(comparison===-1){initialPos=session.getRangeBoundaryPosition(searchScopeRange,true)}else if(comparison===1){initialPos=session.getRangeBoundaryPosition(searchScopeRange,false)}var pos=initialPos;var wrappedAround=false;var findResult;while(true){findResult=findTextFromPosition(pos,searchTerm,isRegex,searchScopeRange,findOptions);if(findResult){if(findResult.valid){this.setStartAndEnd(findResult.startPos.node,findResult.startPos.offset,findResult.endPos.node,findResult.endPos.offset);return true}else{pos=backward?findResult.startPos:findResult.endPos}}else if(findOptions.wrap&&!wrappedAround){searchScopeRange=searchScopeRange.cloneRange();pos=session.getRangeBoundaryPosition(searchScopeRange,!backward);searchScopeRange.setBoundary(initialPos.node,initialPos.offset,backward);wrappedAround=true}else{return false}}}),pasteHtml:function(html){this.deleteContents();if(html){var frag=this.createContextualFragment(html);var lastChild=frag.lastChild;this.insertNode(frag);this.collapseAfter(lastChild)}}});function createSelectionTrimmer(methodName){return createEntryPointFunction(function(session,characterOptions){var trimmed=false;this.changeEachRange(function(range){trimmed=range[methodName](characterOptions)||trimmed});return trimmed})}extend(api.selectionPrototype,{expand:createEntryPointFunction(function(session,unit,expandOptions){this.changeEachRange(function(range){range.expand(unit,expandOptions)})}),move:createEntryPointFunction(function(session,unit,count,options){var unitsMoved=0;if(this.focusNode){this.collapse(this.focusNode,this.focusOffset);var range=this.getRangeAt(0);if(!options){options={}}options.characterOptions=createOptions(options.characterOptions,defaultCaretCharacterOptions);unitsMoved=range.move(unit,count,options);this.setSingleRange(range)}return unitsMoved}),trimStart:createSelectionTrimmer("trimStart"),trimEnd:createSelectionTrimmer("trimEnd"),trim:createSelectionTrimmer("trim"),selectCharacters:createEntryPointFunction(function(session,containerNode,startIndex,endIndex,direction,characterOptions){var range=api.createRange(containerNode);range.selectCharacters(containerNode,startIndex,endIndex,characterOptions);this.setSingleRange(range,direction)}),saveCharacterRanges:createEntryPointFunction(function(session,containerNode,characterOptions){var ranges=this.getAllRanges(),rangeCount=ranges.length;var rangeInfos=[];var backward=rangeCount==1&&this.isBackward();for(var i=0,len=ranges.length;i<len;++i){rangeInfos[i]={characterRange:ranges[i].toCharacterRange(containerNode,characterOptions),backward:backward,characterOptions:characterOptions}}return rangeInfos}),restoreCharacterRanges:createEntryPointFunction(function(session,containerNode,saved){this.removeAllRanges();for(var i=0,len=saved.length,range,rangeInfo,characterRange;i<len;++i){rangeInfo=saved[i];characterRange=rangeInfo.characterRange;range=api.createRange(containerNode);range.selectCharacters(containerNode,characterRange.start,characterRange.end,rangeInfo.characterOptions);this.addRange(range,rangeInfo.backward)}}),text:createEntryPointFunction(function(session,characterOptions){var rangeTexts=[];for(var i=0,len=this.rangeCount;i<len;++i){rangeTexts[i]=this.getRangeAt(i).text(characterOptions)}return rangeTexts.join("")})});api.innerText=function(el,characterOptions){var range=api.createRange(el);range.selectNodeContents(el);var text=range.text(characterOptions);return text};api.createWordIterator=function(startNode,startOffset,iteratorOptions){var session=getSession();iteratorOptions=createNestedOptions(iteratorOptions,defaultWordIteratorOptions);var startPos=session.getPosition(startNode,startOffset);var tokenizedTextProvider=createTokenizedTextProvider(startPos,iteratorOptions.characterOptions,iteratorOptions.wordOptions);var backward=isDirectionBackward(iteratorOptions.direction);return{next:function(){return backward?tokenizedTextProvider.previousStartToken():tokenizedTextProvider.nextEndToken()},dispose:function(){tokenizedTextProvider.dispose();this.next=function(){}}}};api.noMutation=function(func){var session=getSession();func(session);endSession()};api.noMutation.createEntryPointFunction=createEntryPointFunction;api.textRange={isBlockNode:isBlockNode,isCollapsedWhitespaceNode:isCollapsedWhitespaceNode,createPosition:createEntryPointFunction(function(session,node,offset){return session.getPosition(node,offset)})}});return rangy},this);
